/*! For license information please see bundle.cb9ab857.js.LICENSE.txt */
(()=>{var __webpack_modules__={6916:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strToRRGGBBAA=e.stickyTextColor=e.isTransparent=e.colorForBackground=e.colorForUser=e.lightenHex=e.lighten=e.darkenHex=e.darken=e.blend=e.highContrast=e.rgbaStyle=e.rgbArrayToHex=e.rgbToHex=e.fromStyleString=e.hexToRgbStyle=e.hexToRgba=e.hexToRgb=e.getContrastYIQ=e.str2hex=e.str2rgba=e.normalizeHex=e.isValidRgbaString=e.isValidRgbString=e.isValidHexColor=void 0;var o=i(3993),a=/^#(?:[0-9a-f]{3}){1,2}$/i,n=hexToRgb("#2F2F2F");function safeToLowerCase(t){return t&&"string"==typeof t?t.toLowerCase():""}function isValidHexColor(t){return a.test(safeToLowerCase(t))}e.isValidHexColor=isValidHexColor;var r=/^rgb\((( *0*([1]?[\d]?[\d]|2[0-4][\d]|25[0-5]) *),){2}( *0*([1]?[\d]?[\d]|2[0-4][\d]|25[0-5]) *)\)$/;function isValidRgbString(t){return r.test(safeToLowerCase(t))}e.isValidRgbString=isValidRgbString;var s=/^rgba\((( *0*([1]?[\d]?[\d]|2[0-4][\d]|25[0-5]) *),\s?){3}( *0*(0?\.[\d]+|0|1|1\.0) *)\)$/;function isValidRgbaString(t){return s.test(safeToLowerCase(t))}e.isValidRgbaString=isValidRgbaString;var l=/#(.)(.)(.)/;function normalizeHex(t){if(!isValidHexColor(t))throw Error("".concat(t," is not a valid hex color"));var e=t;return 4===e.length&&(e=e.replace(l,"#$1$1$2$2$3$3")),e.toLowerCase()}function str2rgba(t){if(!t||"string"!=typeof t)throw new Error("You must provide a string to str2rgba");if("transparent"===t)return{r:0,g:0,b:0,a:0};if(isValidHexColor(t)){var e=normalizeHex(t);return{r:(0,o.safeParseInt)(e.substr(1,2),16),g:(0,o.safeParseInt)(e.substr(3,2),16),b:(0,o.safeParseInt)(e.substr(5,2),16),a:1}}if(isValidRgbString(t)||isValidRgbaString(t)){var i=t.split(/\(|\)|,/g);return{r:(0,o.safeParseInt)(i[1],10),g:(0,o.safeParseInt)(i[2],10),b:(0,o.safeParseInt)(i[3],10),a:(0,o.safeParseFloat)(i[4]||"1",1)}}throw new Error("You must provide a valid color to str2rgba. ".concat(t," was provided"))}function hexToRgb(t){var e=normalizeHex(t);return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}function fromStyleString(t){var e=t.replace(/\s/gi,"").toLowerCase();return isValidRgbString(e)||isValidRgbaString(e)?e.match(/\d+(\.\d+)?/gi).map(parseFloat).slice(0,3):hexToRgb(e)}function rgbToHex(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Number(t[0]),a=Number(t[1]),n=Number(t[2]);if(isNaN(i)||i<0||i>255||isNaN(a)||a<0||a>255||isNaN(n)||n<0||n>255)throw Error('"('.concat(i,",").concat(a,",").concat(n,'") is not a valid RGB color'));var r=(0,o.prependZeroIfNecessary)(i.toString(16)),s=(0,o.prependZeroIfNecessary)(a.toString(16)),l=(0,o.prependZeroIfNecessary)(n.toString(16));return"#".concat(r).concat(s).concat(l)}function rgbArrayToHex(t){return rgbToHex(t[0],t[1],t[2])}function yiqBrightness(t){return Math.round((299*t[0]+587*t[1]+114*t[2])/1e3)}function yiqBrightnessDiff(t,e){return Math.abs(yiqBrightness(t)-yiqBrightness(e))}function colorDiff(t,e){return Math.abs(t[0]-e[0])+Math.abs(t[1]-e[1])+Math.abs(t[2]-e[2])}function highContrast(t,e){for(var i=[],o=0;o<e.length;)i.push({color:e[o],diff:yiqBrightnessDiff(e[o],t)+colorDiff(e[o],t)}),o+=1;return i.sort((function(t,e){return e.diff-t.diff})),i[0].color}function blend(t,e,i){var a=(0,o.clamp)(i,0,1);return t.map((function(t,i){var o=e[i];return Math.round(a*t+(1-a)*o)}))}function darken(t,e,i){if(void 0===i&&(i="classic"),"default"===i)return blend(n,t,e);return blend([0,0,0],t,e)}function lighten(t,e){return blend([255,255,255],t,e)}e.normalizeHex=normalizeHex,e.str2rgba=str2rgba,e.str2hex=function str2hex(t){if("transparent"===t)throw new Error("transparent can not be converted to hex");var e=str2rgba(t);return"#".concat((0,o.dec2hex)(e.r)).concat((0,o.dec2hex)(e.g)).concat((0,o.dec2hex)(e.b))},e.getContrastYIQ=function getContrastYIQ(t){var e=str2rgba(t),i=(299*e.r+587*e.g+114*e.b)/1e3;return 0===e.a||i>=128?"black":"white"},e.hexToRgb=hexToRgb,e.hexToRgba=function hexToRgba(t,e){var i=hexToRgb(t);return"rgba(".concat(i[0],", ").concat(i[1],", ").concat(i[2],", ").concat(e,")")},e.hexToRgbStyle=function hexToRgbStyle(t){return function rgbStyle(t){return"rgb(".concat(t.join(","),")")}(hexToRgb(t))},e.fromStyleString=fromStyleString,e.rgbToHex=rgbToHex,e.rgbArrayToHex=rgbArrayToHex,e.rgbaStyle=function rgbaStyle(t,e){if(!t||!t.join||3!==t.length)throw new Error("Invalid rgb color");return"rgba(".concat(t.join(","),",").concat(e,")")},e.highContrast=highContrast,e.blend=blend,e.darken=darken,e.darkenHex=function darkenHex(t,e,i){return void 0===i&&(i="classic"),rgbArrayToHex(darken(hexToRgb(t),e,i))},e.lighten=lighten,e.lightenHex=function lightenHex(t,e){return rgbArrayToHex(lighten(hexToRgb(t),e))},e.colorForUser=function colorForUser(t){if("celesteolivieri"===t||!t||"string"!=typeof t)return"#ff0066";if("musimunpol"===t)return"#0280C7";for(var e=1,i=t.length-1;i>=0;i--)e*=t.charCodeAt(i);for(var o=(e%=16777215).toString(16);o.length<6;)o="0".concat(o);return"#".concat(o)},e.colorForBackground=function colorForBackground(t,e){if(!t||"string"!=typeof t)throw new Error("You must supply a color for colorForBackground");if(!e||!e.map)throw new Error("options is undefined or not an array");var i=e.map((function(t){return hexToRgb(t)}));return rgbArrayToHex(highContrast(hexToRgb(t),i))},e.isTransparent=function isTransparent(t){return!!t&&0===str2rgba(t).a};var c=.2126,d=.7152,h=.0722,u=1/12.92;function adjustGamma(t){return Math.pow((t+.055)/1.055,2.4)}e.stickyTextColor=function stickyTextColor(t,e,i){void 0===e&&(e="#000000"),void 0===i&&(i="#f5f5f5");try{return!t||str2rgba(t).a<=.3?e:function relativeLuminance(t){var e=t[0]/255,i=t[1]/255,o=t[2]/255,a=e<=.03928?e*u:adjustGamma(e),n=i<=.03928?i*u:adjustGamma(i),r=o<=.03928?o*u:adjustGamma(o);return a*c+n*d+r*h}(fromStyleString(t))<.23?i:e}catch(t){return e}},e.strToRRGGBBAA=function strToRRGGBBAA(t){var e=str2rgba(t),i=e.r,a=e.g,n=e.b,r=e.a,s=Math.floor(255*r);return"".concat((0,o.dec2hex)(i)).concat((0,o.dec2hex)(a)).concat((0,o.dec2hex)(n)).concat((0,o.dec2hex)(s))}},3993:(t,e)=>{"use strict";function safeParseInt(t,e,i){void 0===i&&(i=0);var o=parseInt(t,e);return isNaN(o)?i:o}function prependZeroIfNecessary(t){return"0".concat(t).slice(-2)}Object.defineProperty(e,"__esModule",{value:!0}),e.dec2hex=e.prependZeroIfNecessary=e.clamp=e.safeParseFloat=e.safeParseInt=void 0,e.safeParseInt=safeParseInt,e.safeParseFloat=function safeParseFloat(t,e){void 0===e&&(e=0);var i=parseFloat(t);return isNaN(i)?e:i},e.clamp=function clamp(t,e,i){return Math.min(Math.max(t,e),i)},e.prependZeroIfNecessary=prependZeroIfNecessary,e.dec2hex=function dec2hex(t){return prependZeroIfNecessary(safeParseInt(t).toString(16))}},9787:function(t,e){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getShapeProps=e.svgShapes=void 0;e.svgShapes=function buildShapesProps(t){return function mapValues(t,e){var i={};return Object.keys(t).forEach((function(o){return i[o]=e(t[o])})),i}(t,(function(t){return i(i(i({},t.shared),t.webOnly),{viewBox:"0 0 ".concat(t.shared.width," ").concat(t.shared.height)})}))}({circle:{shared:{svg:"M138,69 C138,107.165625 107.165625,138 69,138 C30.834375,138 0,107.165625 0,69 C0,30.834375 30.834375,0 69,0 C107.165625,0 138,30.834375 138,69 Z",width:138,height:138},webOnly:{dragWidth:55,dragHeight:55,dragOffsetX:20,dragOffsetY:20,className:"circle"}},square:{shared:{svg:"M138,138 L0,138 L0,0 L138,0 Z",width:138,height:138},webOnly:{dragWidth:55,dragHeight:55,dragOffsetX:20,dragOffsetY:20,className:"square"}},roundedSquare:{shared:{svg:"M128 136.5C132.7 136.5 136.5 132.7 136.5 128L136.5 10C136.5 5.3 132.7 1.5 128 1.5L10 1.5C5.3 1.5 1.5 5.3 1.5 10L1.5 128C1.5 132.7 5.3 136.5 10 136.5L128 136.5Z",width:138,height:138},webOnly:{dragWidth:55,dragHeight:55,dragOffsetX:20,dragOffsetY:20,className:"roundedSquare"}},triangle:{shared:{svg:"M2.5 123L135.4 123 68.5 3.1 2.5 123Z",width:138,height:125},webOnly:{dragWidth:55,dragHeight:49.8,dragOffsetX:20,dragOffsetY:18.1,className:"triangle"}},diamond:{shared:{svg:"M69.2 135.9L135.9 69.1 69.2 2.1 2.1 69.1 69.2 135.9Z",width:138,height:138},webOnly:{dragWidth:55,dragHeight:55,dragOffsetX:20,dragOffsetY:20,className:"diamond"}},pentagon:{shared:{svg:"M110.6 129.5L136.2 50.6 69 1.9 1.8 50.6 27.4 129.5 110.6 129.5Z",width:138,height:131},webOnly:{dragWidth:55,dragHeight:52.2,dragOffsetX:20,dragOffsetY:19,className:"pentagon"}},hexagon:{shared:{svg:"M102.6 118.5L136.3 60 102.6 1.5 35.4 1.5 1.7 60 35.4 118.5 102.6 118.5Z",width:138,height:120},webOnly:{dragWidth:55,dragHeight:47.8,dragOffsetX:20,dragOffsetY:17.4,className:"hexagon"}},terminator:{shared:{svg:"M99.8,0L28.2,0C18.7,0,0,7.1,0,32 c0,23.9,16.6,32,28.2,32l71.7,0c9.4,0,28.2-7.1,28.2-32C128,8.1,111.4,0,99.8,0z",width:128,height:64},webOnly:{dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32,className:"terminator"}},decision:{shared:{svg:"M64,0l64,32L64,64L0,32L64,0z",width:128,height:64},webOnly:{className:"decision",dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32}},delay:{shared:{svg:"M100.3,0H63.5H0v64h29.4l0,0h70.8c9.3,0,27.8-7,27.8-32.1C128.1,8.1,111.6,0,100.3,0z",width:128,height:64},webOnly:{className:"delay",dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32}},data:{shared:{svg:"M20,0h108l-19.8,64H0L20,0z",width:128,height:64},webOnly:{className:"data",dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32}},documentShape:{shared:{svg:"M0,0v54.9c0,0,17.6,9.1,32,9.1c21.5,0,29.7-17.9,64-17.9c17.8,0,26.1,4.3,32,8.2V0H0z",width:128,height:64},webOnly:{className:"documentShape",dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32}},eventShape:{shared:{svg:"M113,0H15C6.7,0,0,6.7,0,15v34c0,8.3,6.7,15,15,15h98c8.3,0,15-6.7,15-15V15 C128,6.7,121.3,0,113,0z",width:128,height:64},webOnly:{className:"eventShape",dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32}},preparation:{shared:{svg:"M23.1,64L0,32L23.1,0l81.7,0L128,32l-23.1,32L23.1,64z",width:128,height:64},webOnly:{className:"preparation",dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32}},display:{shared:{svg:"M0,32C0,21.3,20.7,0,39.9,0h67.8c3.9,0,20.3,8.1,20.3,32c0,24.9-16,32-20.4,32H39.9 C20.7,64,0,43.8,0,32z",width:128,height:64},webOnly:{className:"display",dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32}},manualInput:{shared:{svg:"M0,64V21L128,0v64H0z",width:128,height:64},webOnly:{className:"manualInput",dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32}},manualLoop:{shared:{svg:"M20.6,61.6L0,0h128l-21.2,64H21.4L20.6,61.6z",width:128,height:64},webOnly:{className:"manualLoop",dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32}},loopLimit:{shared:{svg:"M0,64V19.1L17.9,0h92.2L128,19.1V64H0z",width:128,height:64},webOnly:{className:"loopLimit",dragWidth:62,dragHeight:78,dragOffsetX:17,dragOffsetY:32}},offPageConnector:{shared:{svg:"M0,0l0,32.2L32,64l32-31.8V0L0,0z",width:64,height:64},webOnly:{className:"offPageConnector",dragWidth:53,dragHeight:53,dragOffsetX:22,dragOffsetY:22}},offPageReferenceIncoming:{shared:{svg:"M64,64L32,48.4L0,64V0h64V64z",width:64,height:64},webOnly:{className:"offPageReferenceIncoming",dragWidth:53,dragHeight:53,dragOffsetX:22,dragOffsetY:22}},offPageReference:{shared:{svg:"M38.6,64V53H0V11h38.6V0L64,32L38.6,64z",width:64,height:64},webOnly:{className:"offPageReference",dragWidth:53,dragHeight:53,dragOffsetX:22,dragOffsetY:22}},merge:{shared:{svg:"M0,0l32.1,64L64,0H0z",width:78,height:64},webOnly:{className:"merge",svg2:"M0,4.9l32.1,54.3L64,4.9H0z",dragWidth:50,dragHeight:46,dragOffsetX:23,dragOffsetY:28}},database:{shared:{svg:"M64,49.5C64,58.9,49.7,64,32,64S0,58.9,0,49.5V10.7C0,3.9,14.3,0,32,0s32,3.2,32,10.7V49.5z M64,9.6c0,5.6-14.3,11.9-32,11.9S0,17,0,10",width:64,height:64},webOnly:{className:"database",dragWidth:56,dragHeight:56,dragOffsetX:20,dragOffsetY:20}}});e.getShapeProps=function(t){return e.svgShapes[t]}},8247:(t,e,i)=>{"use strict";i.r(e),i.d(e,{decode:()=>decode,encode:()=>encode});for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="undefined"==typeof Uint8Array?[]:new Uint8Array(256),n=0;n<64;n++)a[o.charCodeAt(n)]=n;var encode=function(t){var e,i=new Uint8Array(t),a=i.length,n="";for(e=0;e<a;e+=3)n+=o[i[e]>>2],n+=o[(3&i[e])<<4|i[e+1]>>4],n+=o[(15&i[e+1])<<2|i[e+2]>>6],n+=o[63&i[e+2]];return a%3==2?n=n.substring(0,n.length-1)+"=":a%3==1&&(n=n.substring(0,n.length-2)+"=="),n},decode=function(t){var e,i,o,n,r,s=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var d=new ArrayBuffer(s),h=new Uint8Array(d);for(e=0;e<l;e+=4)i=a[t.charCodeAt(e)],o=a[t.charCodeAt(e+1)],n=a[t.charCodeAt(e+2)],r=a[t.charCodeAt(e+3)],h[c++]=i<<2|o>>4,h[c++]=(15&o)<<4|n>>2,h[c++]=(3&n)<<6|63&r;return d}},5874:(t,e,i)=>{t.exports=i(5969)},5969:(t,e,i)=>{!function(){"use strict";var e=Math.abs,o=Math.min,a=Math.max,n=Math.cos,r=Math.sin,s=Math.acos,l=Math.sqrt,c=Math.PI,d={x:0,y:0,z:0},h=i(6240),u=i(91),Bezier=function(t){var i=t&&t.forEach?t:[].slice.call(arguments),o=!1;if("object"==typeof i[0]){o=i.length;var a=[];i.forEach((function(t){["x","y","z"].forEach((function(e){void 0!==t[e]&&a.push(t[e])}))})),i=a}var n=!1,r=i.length;if(o){if(o>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");n=!0}}else if(6!==r&&8!==r&&9!==r&&12!==r&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var s=!n&&(9===r||12===r)||t&&t[0]&&void 0!==t[0].z;this._3d=s;for(var l=[],c=0,d=s?3:2;c<r;c+=d){var u={x:i[c],y:i[c+1]};s&&(u.z=i[c+2]),l.push(u)}this.order=l.length-1,this.points=l;var v=["x","y"];s&&v.push("z"),this.dims=v,this.dimlen=v.length,function(t){for(var i=t.order,o=t.points,a=h.align(o,{p1:o[0],p2:o[i]}),n=0;n<a.length;n++)if(e(a[n].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()},v=i(3985);function getABC(t,e,i,o,a){void 0===a&&(a=.5);var n=h.projectionratio(a,t),r=1-n,s={x:n*e.x+r*o.x,y:n*e.y+r*o.y},l=h.abcratio(a,t);return{A:{x:i.x+(i.x-s.x)/l,y:i.y+(i.y-s.y)/l},B:i,C:s}}Bezier.SVGtoBeziers=function(t){return v(Bezier,t)},Bezier.quadraticFromPoints=function(t,e,i,o){if(void 0===o&&(o=.5),0===o)return new Bezier(e,e,i);if(1===o)return new Bezier(t,e,e);var a=getABC(2,t,e,i,o);return new Bezier(t,a.A,i)},Bezier.cubicFromPoints=function(t,e,i,o,a){void 0===o&&(o=.5);var n=getABC(3,t,e,i,o);void 0===a&&(a=h.dist(e,n.C));var r=a*(1-o)/o,s=h.dist(t,i),l=(i.x-t.x)/s,c=(i.y-t.y)/s,d=a*l,u=a*c,v=r*l,g=r*c,f=e.x-d,y=e.y-u,x=e.x+v,m=e.y+g,R=n.A,b=R.x+(f-R.x)/(1-o),w=R.y+(y-R.y)/(1-o),S=R.x+(x-R.x)/o,A=R.y+(m-R.y)/o,C={x:t.x+(b-t.x)/o,y:t.y+(w-t.y)/o},I={x:i.x+(S-i.x)/(1-o),y:i.y+(A-i.y)/(1-o)};return new Bezier(t,C,I,i)};var getUtils=function(){return h};Bezier.getUtils=getUtils,Bezier.PolyBezier=u,Bezier.prototype={getUtils,valueOf:function(){return this.toString()},toString:function(){return h.pointsToString(this.points)},toSVG:function(t){if(this._3d)return!1;for(var e=this.points,i=["M",e[0].x,e[0].y,2===this.order?"Q":"C"],o=1,a=e.length;o<a;o++)i.push(e[o].x),i.push(e[o].y);return i.join(" ")},setRatios:function(t){if(t.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=t,this._lut=[]},update:function(){this._lut=[],this.dpoints=h.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var t=this.points,e=h.angle(t[0],t[this.order],t[1]);this.clockwise=e>0},length:function(){return h.length(this.derivative.bind(this))},_lut:[],getLUT:function(t){if(t=t||100,this._lut.length===t)return this._lut;this._lut=[],t--;for(var e=0;e<=t;e++)this._lut.push(this.compute(e/t));return this._lut},on:function(t,e){e=e||5;for(var i,o=this.getLUT(),a=[],n=0,r=0;r<o.length;r++)i=o[r],h.dist(i,t)<e&&(a.push(i),n+=r/o.length);return!!a.length&&n/a.length},project:function(t){var e=this.getLUT(),i=e.length-1,o=h.closest(e,t),a=o.mdist,n=o.mpos;if(0===n||n===i){var r=n/i,s=this.compute(r);return s.t=r,s.d=a,s}var l,c,d,u=(n+1)/i,v=.1/i;for(a+=1,l=r=(n-1)/i;r<u+v;r+=v)c=this.compute(r),(d=h.dist(t,c))<a&&(a=d,l=r);return(c=this.compute(l)).t=l,c.d=a,c},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){return this.ratios?h.computeWithRatios(t,this.points,this.ratios,this._3d):h.compute(t,this.points,this._3d,this.ratios)},raise:function(){for(var t,e,i=this.points,o=[i[0]],a=i.length,n=1;n<a;n++)t=i[n],e=i[n-1],o[n]={x:(a-n)/a*t.x+n/a*e.x,y:(a-n)/a*t.y+n/a*e.y};return o[a]=i[a-1],new Bezier(o)},derivative:function(t){var e,i,o=1-t,a=0,n=this.dpoints[0];2===this.order&&(n=[n[0],n[1],d],e=o,i=t),3===this.order&&(e=o*o,i=o*t*2,a=t*t);var r={x:e*n[0].x+i*n[1].x+a*n[2].x,y:e*n[0].y+i*n[1].y+a*n[2].y};return this._3d&&(r.z=e*n[0].z+i*n[1].z+a*n[2].z),r},curvature:function(t){return h.curvature(t,this.points,this._3d)},inflections:function(){return h.inflections(this.points)},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var e=this.derivative(t),i=l(e.x*e.x+e.y*e.y);return{x:-e.y/i,y:e.x/i}},__normal3:function(t){var e=this.derivative(t),i=this.derivative(t+.01),o=l(e.x*e.x+e.y*e.y+e.z*e.z),a=l(i.x*i.x+i.y*i.y+i.z*i.z);e.x/=o,e.y/=o,e.z/=o,i.x/=a,i.y/=a,i.z/=a;var n={x:i.y*e.z-i.z*e.y,y:i.z*e.x-i.x*e.z,z:i.x*e.y-i.y*e.x},r=l(n.x*n.x+n.y*n.y+n.z*n.z);n.x/=r,n.y/=r,n.z/=r;var s=[n.x*n.x,n.x*n.y-n.z,n.x*n.z+n.y,n.x*n.y+n.z,n.y*n.y,n.y*n.z-n.x,n.x*n.z-n.y,n.y*n.z+n.x,n.z*n.z];return{x:s[0]*e.x+s[1]*e.y+s[2]*e.z,y:s[3]*e.x+s[4]*e.y+s[5]*e.z,z:s[6]*e.x+s[7]*e.y+s[8]*e.z}},hull:function(t){var e,i=this.points,o=[],a=[],n=0,r=0,s=0;for(a[n++]=i[0],a[n++]=i[1],a[n++]=i[2],3===this.order&&(a[n++]=i[3]);i.length>1;){for(o=[],r=0,s=i.length-1;r<s;r++)e=h.lerp(t,i[r],i[r+1]),a[n++]=e,o.push(e);i=o}return a},split:function(t,e){if(0===t&&e)return this.split(e).left;if(1===e)return this.split(t).right;var i=this.hull(t),o={left:2===this.order?new Bezier([i[0],i[3],i[5]]):new Bezier([i[0],i[4],i[7],i[9]]),right:2===this.order?new Bezier([i[5],i[4],i[2]]):new Bezier([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=h.map(0,0,1,this._t1,this._t2),o.left._t2=h.map(t,0,1,this._t1,this._t2),o.right._t1=h.map(t,0,1,this._t1,this._t2),o.right._t2=h.map(1,0,1,this._t1,this._t2),e?(e=h.map(e,t,1,0,1),o.right.split(e).left):o},extrema:function(){var t,e,i=this.dims,o={},a=[];return i.forEach(function(i){e=function(t){return t[i]},t=this.dpoints[0].map(e),o[i]=h.droots(t),3===this.order&&(t=this.dpoints[1].map(e),o[i]=o[i].concat(h.droots(t))),o[i]=o[i].filter((function(t){return t>=0&&t<=1})),a=a.concat(o[i].sort(h.numberSort))}.bind(this)),a=a.sort(h.numberSort).filter((function(t,e){return a.indexOf(t)===e})),o.values=a,o},bbox:function(){var t=this.extrema(),e={};return this.dims.forEach(function(i){e[i]=h.getminmax(this,i,t[i])}.bind(this)),e},overlaps:function(t){var e=this.bbox(),i=t.bbox();return h.bboxoverlap(e,i)},offset:function(t,e){if(void 0!==e){var i=this.get(t),o=this.normal(t),a={c:i,n:o,x:i.x+o.x*e,y:i.y+o.y*e};return this._3d&&(a.z=i.z+o.z*e),a}if(this._linear){var n=this.normal(0),r=this.points.map((function(e){var i={x:e.x+t*n.x,y:e.y+t*n.y};return e.z&&o.z&&(i.z=e.z+t*n.z),i}));return[new Bezier(r)]}return this.reduce().map((function(e){return e.scale(t)}))},simple:function(){if(3===this.order){var t=h.angle(this.points[0],this.points[3],this.points[1]),i=h.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&i<0||t<0&&i>0)return!1}var o=this.normal(0),a=this.normal(1),n=o.x*a.x+o.y*a.y;return this._3d&&(n+=o.z*a.z),e(s(n))<c/3},reduce:function(){var t,i,o=0,a=0,n=.01,r=[],s=[],l=this.extrema().values;for(-1===l.indexOf(0)&&(l=[0].concat(l)),-1===l.indexOf(1)&&l.push(1),o=l[0],t=1;t<l.length;t++)a=l[t],(i=this.split(o,a))._t1=o,i._t2=a,r.push(i),o=a;return r.forEach((function(t){for(o=0,a=0;a<=1;)for(a=o+n;a<=1.01;a+=n)if(!(i=t.split(o,a)).simple()){if(e(o-(a-=n))<n)return[];(i=t.split(o,a))._t1=h.map(o,0,1,t._t1,t._t2),i._t2=h.map(a,0,1,t._t1,t._t2),s.push(i),o=a;break}o<1&&((i=t.split(o,1))._t1=h.map(o,0,1,t._t1,t._t2),i._t2=t._t2,s.push(i))})),s},scale:function(t){var e=this.order,i=!1;if("function"==typeof t&&(i=t),i&&2===e)return this.raise().scale(i);var o=this.clockwise,a=i?i(0):t,n=i?i(1):t,r=[this.offset(0,10),this.offset(1,10)],s=h.lli4(r[0],r[0].c,r[1],r[1].c);if(!s)throw new Error("cannot scale this curve. Try reducing it first.");var c=this.points,d=[];return[0,1].forEach(function(t){var i=d[t*e]=h.copy(c[t*e]);i.x+=(t?n:a)*r[t].n.x,i.y+=(t?n:a)*r[t].n.y}.bind(this)),i?([0,1].forEach(function(a){if(2!==this.order||!a){var n=c[a+1],r={x:n.x-s.x,y:n.y-s.y},h=i?i((a+1)/e):t;i&&!o&&(h=-h);var u=l(r.x*r.x+r.y*r.y);r.x/=u,r.y/=u,d[a+1]={x:n.x+h*r.x,y:n.y+h*r.y}}}.bind(this)),new Bezier(d)):([0,1].forEach(function(t){if(2!==this.order||!t){var i=d[t*e],o=this.derivative(t),a={x:i.x+o.x,y:i.y+o.y};d[t+1]=h.lli4(i,a,s,c[t+1])}}.bind(this)),new Bezier(d))},outline:function(t,e,i,o){e=void 0===e?t:e;var a,n=this.reduce(),r=n.length,s=[],l=[],c=0,d=this.length(),v=void 0!==i&&void 0!==o;function linearDistanceFunction(t,e,i,o,a){return function(n){var r=o/i,s=(o+a)/i,l=e-t;return h.map(n,0,1,t+r*l,t+s*l)}}n.forEach((function(a){w=a.length(),v?(s.push(a.scale(linearDistanceFunction(t,i,d,c,w))),l.push(a.scale(linearDistanceFunction(-e,-o,d,c,w)))):(s.push(a.scale(t)),l.push(a.scale(-e))),c+=w})),l=l.map((function(t){return(a=t.points)[3]?t.points=[a[3],a[2],a[1],a[0]]:t.points=[a[2],a[1],a[0]],t})).reverse();var g=s[0].points[0],f=s[r-1].points[s[r-1].points.length-1],y=l[r-1].points[l[r-1].points.length-1],x=l[0].points[0],m=h.makeline(y,g),R=h.makeline(f,x),b=[m].concat(s).concat([R]).concat(l),w=b.length;return new u(b)},outlineshapes:function(t,e,i){e=e||t;for(var o=this.outline(t,e).curves,a=[],n=1,r=o.length;n<r/2;n++){var s=h.makeshape(o[n],o[r-n],i);s.startcap.virtual=n>1,s.endcap.virtual=n<r/2-1,a.push(s)}return a},intersects:function(t,e){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof Bezier&&(t=t.reduce()),this.curveintersects(this.reduce(),t,e)):this.selfintersects(e)},lineIntersects:function(t){var e=o(t.p1.x,t.p2.x),i=o(t.p1.y,t.p2.y),n=a(t.p1.x,t.p2.x),r=a(t.p1.y,t.p2.y),s=this;return h.roots(this.points,t).filter((function(t){var o=s.get(t);return h.between(o.x,e,n)&&h.between(o.y,i,r)}))},selfintersects:function(t){var e,i,o,a,n=this.reduce(),r=n.length-2,s=[];for(e=0;e<r;e++)o=n.slice(e,e+1),a=n.slice(e+2),i=this.curveintersects(o,a,t),s=s.concat(i);return s},curveintersects:function(t,e,i){var o=[];t.forEach((function(t){e.forEach((function(e){t.overlaps(e)&&o.push({left:t,right:e})}))}));var a=[];return o.forEach((function(t){var e=h.pairiteration(t.left,t.right,i);e.length>0&&(a=a.concat(e))})),a},arcs:function(t){t=t||.5;return this._iterate(t,[])},_error:function(t,i,o,a){var n=(a-o)/4,r=this.get(o+n),s=this.get(a-n),l=h.dist(t,i),c=h.dist(t,r),d=h.dist(t,s);return e(c-l)+e(d-l)},_iterate:function(t,e){var i,o=0,a=1;do{i=0,a=1;var s,l,c,d,u,v=this.get(o),g=!1,f=!1,y=a,x=1;do{if(f=g,d=c,y=(o+a)/2,s=this.get(y),l=this.get(a),(c=h.getccenter(v,s,l)).interval={start:o,end:a},g=this._error(c,v,o,a)<=t,(u=f&&!g)||(x=a),g){if(a>=1){if(c.interval.end=x=1,d=c,a>1){var m={x:c.x+c.r*n(c.e),y:c.y+c.r*r(c.e)};c.e+=h.angle({x:c.x,y:c.y},m,this.get(1))}break}a+=(a-o)/2}else a=y}while(!u&&i++<100);if(i>=100)break;d=d||c,e.push(d),o=x}while(a<1);return e}},t.exports=Bezier}()},1814:t=>{t.exports=function normalizePath(t){var e,i,o,a,n,r,s=(t=t.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),l=s.length,c=[],d=0,h=0,u=0,v=0,g=0,f=0,y=0,x=0,m="";for(e=1;e<l;e++)if(a=(o=(i=s[e]).substring(0,1)).toLowerCase(),n=(c=(c=i.replace(o,"").trim().split(" ")).filter((function(t){return""!==t})).map(parseFloat)).length,"m"===a){if(m+="M ","m"===o?(u+=c[0],v+=c[1]):(u=c[0],v=c[1]),d=u,h=v,m+=u+" "+v+" ",n>2)for(r=0;r<n;r+=2)"m"===o?(u+=c[r],v+=c[r+1]):(u=c[r],v=c[r+1]),m+=["L",u,v,""].join(" ")}else if("l"===a)for(r=0;r<n;r+=2)"l"===o?(u+=c[r],v+=c[r+1]):(u=c[r],v=c[r+1]),m+=["L",u,v,""].join(" ");else if("h"===a)for(r=0;r<n;r++)"h"===o?u+=c[r]:u=c[r],m+=["L",u,v,""].join(" ");else if("v"===a)for(r=0;r<n;r++)"v"===o?v+=c[r]:v=c[r],m+=["L",u,v,""].join(" ");else if("q"===a)for(r=0;r<n;r+=4)"q"===o?(g=u+c[r],f=v+c[r+1],u+=c[r+2],v+=c[r+3]):(g=c[r],f=c[r+1],u=c[r+2],v=c[r+3]),m+=["Q",g,f,u,v,""].join(" ");else if("t"===a)for(r=0;r<n;r+=2)g=u+(u-g),f=v+(v-f),"t"===o?(u+=c[r],v+=c[r+1]):(u=c[r],v=c[r+1]),m+=["Q",g,f,u,v,""].join(" ");else if("c"===a)for(r=0;r<n;r+=6)"c"===o?(g=u+c[r],f=v+c[r+1],y=u+c[r+2],x=v+c[r+3],u+=c[r+4],v+=c[r+5]):(g=c[r],f=c[r+1],y=c[r+2],x=c[r+3],u=c[r+4],v=c[r+5]),m+=["C",g,f,y,x,u,v,""].join(" ");else if("s"===a)for(r=0;r<n;r+=4)g=u+(u-y),f=v+(v-x),"s"===o?(y=u+c[r],x=v+c[r+1],u+=c[r+2],v+=c[r+3]):(y=c[r],x=c[r+1],u=c[r+2],v=c[r+3]),m+=["C",g,f,y,x,u,v,""].join(" ");else"z"===a&&(m+="Z ",u=d,v=h);return m.trim()}},91:(t,e,i)=>{!function(){"use strict";var e=i(6240),PolyBezier=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};PolyBezier.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map((function(t){return e.pointsToString(t.points)})).join(", ")+"]"},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map((function(t){return t.length()})).reduce((function(t,e){return t+e}))},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,i=t[0].bbox(),o=1;o<t.length;o++)e.expandbox(i,t[o].bbox());return i},offset:function(t){var e=[];return this.curves.forEach((function(i){e=e.concat(i.offset(t))})),new PolyBezier(e)}},t.exports=PolyBezier}()},3985:(t,e,i)=>{var o=i(1814),a={x:!1,y:!1};function makeBezier(t,e,i){if("Z"!==e){if("M"!==e){var o=[!1,a.x,a.y].concat(i),n=new(t.bind.apply(t,o)),r=i.slice(-2);return a={x:r[0],y:r[1]},n}a={x:i[0],y:i[1]}}}t.exports=function convertPath(t,e){for(var i,a,n=o(e).split(" "),r=new RegExp("[MLCQZ]",""),s=[],l={C:6,Q:4,L:2,M:2};n.length;)i=n.splice(0,1)[0],r.test(i)&&(a=makeBezier(t,i,n.splice(0,l[i]).map(parseFloat)))&&s.push(a);return new t.PolyBezier(s)}},6240:(t,e,i)=>{!function(){"use strict";var e=Math.abs,o=Math.cos,a=Math.sin,n=Math.acos,r=Math.atan2,s=Math.sqrt,l=Math.pow,crt=function(t){return t<0?-l(-t,1/3):l(t,1/3)},c=Math.PI,d=2*c,h=c/2,u=Number.MAX_SAFE_INTEGER||9007199254740991,v=Number.MIN_SAFE_INTEGER||-9007199254740991,g={x:0,y:0,z:0},f={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,e){var i=e(t),o=i.x*i.x+i.y*i.y;return void 0!==i.z&&(o+=i.z*i.z),s(o)},compute:function(t,e,i){if(0===t)return e[0];let o=e.length-1;if(1===t)return e[o];var a=e,n=1-t;if(0===o)return e[0];if(1===o)return u={x:n*a[0].x+t*a[1].x,y:n*a[0].y+t*a[1].y},i&&(u.z=n*a[0].z+t*a[1].z),u;if(o<4){var r,s,l,c=n*n,d=t*t,h=0;2===o?(a=[a[0],a[1],a[2],g],r=c,s=n*t*2,l=d):3===o&&(r=c*n,s=c*t*3,l=n*d*3,h=t*d);var u={x:r*a[0].x+s*a[1].x+l*a[2].x+h*a[3].x,y:r*a[0].y+s*a[1].y+l*a[2].y+h*a[3].y};return i&&(u.z=r*a[0].z+s*a[1].z+l*a[2].z+h*a[3].z),u}for(var v=JSON.parse(JSON.stringify(e));v.length>1;){for(var f=0;f<v.length-1;f++)v[f]={x:v[f].x+(v[f+1].x-v[f].x)*t,y:v[f].y+(v[f+1].y-v[f].y)*t},void 0!==v[f].z&&(v[f]=v[f].z+(v[f+1].z-v[f].z)*t);v.splice(v.length-1,1)}return v[0]},computeWithRatios:function(t,e,i,o){var a,n=1-t,r=i,s=e,l=r[0],c=r[1],d=r[2],h=r[3];return l*=n,c*=t,2===s.length?(a=l+c,{x:(l*s[0].x+c*s[1].x)/a,y:(l*s[0].y+c*s[1].y)/a,z:!!o&&(l*s[0].z+c*s[1].z)/a}):(l*=n,c*=2*n,d*=t*t,3===s.length?(a=l+c+d,{x:(l*s[0].x+c*s[1].x+d*s[2].x)/a,y:(l*s[0].y+c*s[1].y+d*s[2].y)/a,z:!!o&&(l*s[0].z+c*s[1].z+d*s[2].z)/a}):(l*=n,c*=1.5*n,d*=3*n,h*=t*t*t,4===s.length?(a=l+c+d+h,{x:(l*s[0].x+c*s[1].x+d*s[2].x+h*s[3].x)/a,y:(l*s[0].y+c*s[1].y+d*s[2].y+h*s[3].y)/a,z:!!o&&(l*s[0].z+c*s[1].z+d*s[2].z+h*s[3].z)/a}):void 0))},derive:function(t,e){for(var i=[],o=t,a=o.length,n=a-1;a>1;a--,n--){for(var r,s=[],l=0;l<n;l++)r={x:n*(o[l+1].x-o[l].x),y:n*(o[l+1].y-o[l].y)},e&&(r.z=n*(o[l+1].z-o[l].z)),s.push(r);i.push(s),o=s}return i},between:function(t,e,i){return e<=t&&t<=i||f.approximately(t,e)||f.approximately(t,i)},approximately:function(t,i,o){return e(t-i)<=(o||1e-6)},length:function(t){var e,i,o=0,a=f.Tvalues.length;for(e=0;e<a;e++)i=.5*f.Tvalues[e]+.5,o+=f.Cvalues[e]*f.arcfn(i,t);return.5*o},map:function(t,e,i,o,a){return o+(a-o)*((t-e)/(i-e))},lerp:function(t,e,i){var o={x:e.x+t*(i.x-e.x),y:e.y+t*(i.y-e.y)};return e.z&&i.z&&(o.z=e.z+t*(i.z-e.z)),o},pointToString:function(t){var e=t.x+"/"+t.y;return void 0!==t.z&&(e+="/"+t.z),e},pointsToString:function(t){return"["+t.map(f.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,e,i){var o=e.x-t.x,a=e.y-t.y,n=i.x-t.x,s=i.y-t.y;return r(o*s-a*n,o*n+a*s)},round:function(t,e){var i=""+t,o=i.indexOf(".");return parseFloat(i.substring(0,o+1+e))},dist:function(t,e){var i=t.x-e.x,o=t.y-e.y;return s(i*i+o*o)},closest:function(t,e){var i,o,a=l(2,63);return t.forEach((function(t,n){(o=f.dist(e,t))<a&&(a=o,i=n)})),{mdist:a,mpos:i}},abcratio:function(t,i){if(2!==i&&3!==i)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var o=l(t,i)+l(1-t,i);return e((o-1)/o)},projectionratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var i=l(1-t,e);return i/(l(t,e)+i)},lli8:function(t,e,i,o,a,n,r,s){var l=(t-i)*(n-s)-(e-o)*(a-r);return 0!=l&&{x:((t*o-e*i)*(a-r)-(t-i)*(a*s-n*r))/l,y:((t*o-e*i)*(n-s)-(e-o)*(a*s-n*r))/l}},lli4:function(t,e,i,o){var a=t.x,n=t.y,r=e.x,s=e.y,l=i.x,c=i.y,d=o.x,h=o.y;return f.lli8(a,n,r,s,l,c,d,h)},lli:function(t,e){return f.lli4(t,t.c,e,e.c)},makeline:function(t,e){var o=i(5969),a=t.x,n=t.y,r=e.x,s=e.y,l=(r-a)/3,c=(s-n)/3;return new o(a,n,a+l,n+c,a+2*l,n+2*c,r,s)},findbbox:function(t){var e=u,i=u,o=v,a=v;return t.forEach((function(t){var n=t.bbox();e>n.x.min&&(e=n.x.min),i>n.y.min&&(i=n.y.min),o<n.x.max&&(o=n.x.max),a<n.y.max&&(a=n.y.max)})),{x:{min:e,mid:(e+o)/2,max:o,size:o-e},y:{min:i,mid:(i+a)/2,max:a,size:a-i}}},shapeintersections:function(t,e,i,o,a){if(!f.bboxoverlap(e,o))return[];var n=[],r=[t.startcap,t.forward,t.back,t.endcap],s=[i.startcap,i.forward,i.back,i.endcap];return r.forEach((function(e){e.virtual||s.forEach((function(o){if(!o.virtual){var r=e.intersects(o,a);r.length>0&&(r.c1=e,r.c2=o,r.s1=t,r.s2=i,n.push(r))}}))})),n},makeshape:function(t,e,i){var o=e.points.length,a=t.points.length,n=f.makeline(e.points[o-1],t.points[0]),r=f.makeline(t.points[a-1],e.points[0]),s={startcap:n,forward:t,back:e,endcap:r,bbox:f.findbbox([n,t,e,r])},l=f;return s.intersections=function(t){return l.shapeintersections(s,s.bbox,t,t.bbox,i)},s},getminmax:function(t,e,i){if(!i)return{min:0,max:0};var o,a,n=u,r=v;-1===i.indexOf(0)&&(i=[0].concat(i)),-1===i.indexOf(1)&&i.push(1);for(var s=0,l=i.length;s<l;s++)o=i[s],(a=t.get(o))[e]<n&&(n=a[e]),a[e]>r&&(r=a[e]);return{min:n,mid:(n+r)/2,max:r,size:r-n}},align:function(t,e){var i=e.p1.x,n=e.p1.y,s=-r(e.p2.y-n,e.p2.x-i);return t.map((function(t){return{x:(t.x-i)*o(s)-(t.y-n)*a(s),y:(t.x-i)*a(s)+(t.y-n)*o(s)}}))},roots:function(t,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};var i=t.length-1,a=f.align(t,e),reduce=function(t){return 0<=t&&t<=1};if(2===i){if(0!==(v=(g=a[0].y)-2*(y=a[1].y)+(x=a[2].y))){var r=-s(y*y-g*x),l=-g+y;return[-(r+l)/v,-(-r+l)/v].filter(reduce)}return y!==x&&0===v?[(2*y-x)/(2*y-2*x)].filter(reduce):[]}var c=a[0].y,h=a[1].y,u=a[2].y,v=3*h-c-3*u+a[3].y,g=3*c-6*h+3*u,y=-3*c+3*h,x=c;if(f.approximately(v,0)){if(f.approximately(g,0))return f.approximately(y,0)?[]:[-x/y].filter(reduce);var m=2*g;return[((R=s(y*y-4*g*x))-y)/m,(-y-R)/m].filter(reduce)}var R,b,w=(a=(3*(y/=v)-(g/=v)*g)/3)/3,S=(R=(2*g*g*g-9*g*y+27*(x/=v))/27)/2,A=S*S+w*w*w;if(A<0){var C=-a/3,I=s(C*C*C),M=-R/(2*I),T=n(M<-1?-1:M>1?1:M),_=2*crt(I);return[_*o(T/3)-g/3,_*o((T+d)/3)-g/3,_*o((T+2*d)/3)-g/3].filter(reduce)}if(0===A)return[2*(b=S<0?crt(-S):-crt(S))-g/3,-b-g/3].filter(reduce);var L=s(A);return[(b=crt(-S+L))-crt(S+L)-g/3].filter(reduce)},droots:function(t){if(3===t.length){var e=t[0],i=t[1],o=t[2],a=e-2*i+o;if(0!==a){var n=-s(i*i-e*o),r=-e+i;return[-(n+r)/a,-(-n+r)/a]}return i!==o&&0===a?[(2*i-o)/(2*(i-o))]:[]}if(2===t.length)return(e=t[0])!==(i=t[1])?[e/(e-i)]:[]},curvature:function(t,i,o,a){var n,r,c,d,h,u,v=f.derive(i),g=v[0],y=v[1],x=f.compute(t,g),m=f.compute(t,y),R=x.x*x.x+x.y*x.y;if(o?(n=s(l(x.y*m.z-m.y*x.z,2)+l(x.z*m.x-m.z*x.x,2)+l(x.x*m.y-m.x*x.y,2)),r=l(R+x.z*x.z,2/3)):(n=x.x*m.y-x.y*m.x,r=l(R,2/3)),0===n||0===r)return{k:0,r:0};if(h=n/r,u=r/n,!a){var b=f.curvature(t-.001,i,o,!0).k,w=f.curvature(t+.001,i,o,!0).k;d=(w-h+(h-b))/2,c=(e(w-h)+e(h-b))/2}return{k:h,r:u,dk:d,adk:c}},inflections:function(t){if(t.length<4)return[];var e=f.align(t,{p1:t[0],p2:t.slice(-1)[0]}),i=e[2].x*e[1].y,o=e[3].x*e[1].y,a=e[1].x*e[2].y,n=18*(-3*i+2*o+3*a-(h=e[3].x*e[2].y)),r=18*(3*i-o-3*a),s=18*(a-i);if(f.approximately(n,0)){if(!f.approximately(r,0)){var l=-s/r;if(0<=l&&l<=1)return[l]}return[]}var c=r*r-4*n*s,d=Math.sqrt(c),h=2*n;return f.approximately(h,0)?[]:[(d-r)/h,-(r+d)/h].filter((function(t){return 0<=t&&t<=1}))},bboxoverlap:function(t,i){var o,a,n,r,s,l=["x","y"],c=l.length;for(o=0;o<c;o++)if(n=t[a=l[o]].mid,r=i[a].mid,s=(t[a].size+i[a].size)/2,e(n-r)>=s)return!1;return!0},expandbox:function(t,e){e.x.min<t.x.min&&(t.x.min=e.x.min),e.y.min<t.y.min&&(t.y.min=e.y.min),e.z&&e.z.min<t.z.min&&(t.z.min=e.z.min),e.x.max>t.x.max&&(t.x.max=e.x.max),e.y.max>t.y.max&&(t.y.max=e.y.max),e.z&&e.z.max>t.z.max&&(t.z.max=e.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,e,i){var o=t.bbox(),a=e.bbox(),n=1e5,r=i||.5;if(o.x.size+o.y.size<r&&a.x.size+a.y.size<r)return[(n*(t._t1+t._t2)/2|0)/n+"/"+(n*(e._t1+e._t2)/2|0)/n];var s=t.split(.5),l=e.split(.5),c=[{left:s.left,right:l.left},{left:s.left,right:l.right},{left:s.right,right:l.right},{left:s.right,right:l.left}];c=c.filter((function(t){return f.bboxoverlap(t.left.bbox(),t.right.bbox())}));var d=[];return 0===c.length?d:(c.forEach((function(t){d=d.concat(f.pairiteration(t.left,t.right,r))})),d=d.filter((function(t,e){return d.indexOf(t)===e})))},getccenter:function(t,e,i){var n,s=e.x-t.x,l=e.y-t.y,c=i.x-e.x,u=i.y-e.y,v=s*o(h)-l*a(h),g=s*a(h)+l*o(h),y=c*o(h)-u*a(h),x=c*a(h)+u*o(h),m=(t.x+e.x)/2,R=(t.y+e.y)/2,b=(e.x+i.x)/2,w=(e.y+i.y)/2,S=m+v,A=R+g,C=b+y,I=w+x,M=f.lli8(m,R,S,A,b,w,C,I),T=f.dist(M,t),_=r(t.y-M.y,t.x-M.x),L=r(e.y-M.y,e.x-M.x),O=r(i.y-M.y,i.x-M.x);return _<O?((_>L||L>O)&&(_+=d),_>O&&(n=O,O=_,_=n)):O<L&&L<_?(n=O,O=_,_=n):O+=d,M.s=_,M.e=O,M.r=T,M},numberSort:function(t,e){return t-e}};t.exports=f}()},738:(t,e,i)=>{"use strict";const o=i(3341),a=i(6401),n=i(5299);function cloneDeep(t,e){switch(a(t)){case"object":return function cloneObjectDeep(t,e){if("function"==typeof e)return e(t);if(e||n(t)){const i=new t.constructor;for(let o in t)i[o]=cloneDeep(t[o],e);return i}return t}(t,e);case"array":return function cloneArrayDeep(t,e){const i=new t.constructor(t.length);for(let o=0;o<t.length;o++)i[o]=cloneDeep(t[o],e);return i}(t,e);default:return o(t)}}t.exports=cloneDeep},5299:(t,e,i)=>{"use strict";var o=i(7798);function isObjectObject(t){return!0===o(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function isPlainObject(t){var e,i;return!1!==isObjectObject(t)&&("function"==typeof(e=t.constructor)&&(!1!==isObjectObject(i=e.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf")))}},7798:t=>{"use strict";t.exports=function isObject(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},6401:t=>{var e=Object.prototype.toString;function ctorName(t){return"function"==typeof t.constructor?t.constructor.name:null}t.exports=function kindOf(t){if(void 0===t)return"undefined";if(null===t)return"null";var i=typeof t;if("boolean"===i)return"boolean";if("string"===i)return"string";if("number"===i)return"number";if("symbol"===i)return"symbol";if("function"===i)return function isGeneratorFn(t,e){return"GeneratorFunction"===ctorName(t)}(t)?"generatorfunction":"function";if(function isArray(t){return Array.isArray?Array.isArray(t):t instanceof Array}(t))return"array";if(function isBuffer(t){if(t.constructor&&"function"==typeof t.constructor.isBuffer)return t.constructor.isBuffer(t);return!1}(t))return"buffer";if(function isArguments(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(t))return"arguments";if(function isDate(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(t))return"date";if(function isError(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(t))return"error";if(function isRegexp(t){return t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global}(t))return"regexp";switch(ctorName(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function isGeneratorObj(t){return"function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next}(t))return"generator";switch(i=e.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return i.slice(8,-1).toLowerCase().replace(/\s/g,"")}},6470:(t,e,i)=>{"use strict";var o=i(4155);function assertPath(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function normalizeStringPosix(t,e){for(var i,o="",a=0,n=-1,r=0,s=0;s<=t.length;++s){if(s<t.length)i=t.charCodeAt(s);else{if(47===i)break;i=47}if(47===i){if(n===s-1||1===r);else if(n!==s-1&&2===r){if(o.length<2||2!==a||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(o.length>2){var l=o.lastIndexOf("/");if(l!==o.length-1){-1===l?(o="",a=0):a=(o=o.slice(0,l)).length-1-o.lastIndexOf("/"),n=s,r=0;continue}}else if(2===o.length||1===o.length){o="",a=0,n=s,r=0;continue}e&&(o.length>0?o+="/..":o="..",a=2)}else o.length>0?o+="/"+t.slice(n+1,s):o=t.slice(n+1,s),a=s-n-1;n=s,r=0}else 46===i&&-1!==r?++r:r=-1}return o}var a={resolve:function resolve(){for(var t,e="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var n;a>=0?n=arguments[a]:(void 0===t&&(t=o.cwd()),n=t),assertPath(n),0!==n.length&&(e=n+"/"+e,i=47===n.charCodeAt(0))}return e=normalizeStringPosix(e,!i),i?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function normalize(t){if(assertPath(t),0===t.length)return".";var e=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=normalizeStringPosix(t,!e)).length||e||(t="."),t.length>0&&i&&(t+="/"),e?"/"+t:t},isAbsolute:function isAbsolute(t){return assertPath(t),t.length>0&&47===t.charCodeAt(0)},join:function join(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var i=arguments[e];assertPath(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":a.normalize(t)},relative:function relative(t,e){if(assertPath(t),assertPath(e),t===e)return"";if((t=a.resolve(t))===(e=a.resolve(e)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,n=o-i,r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var s=e.length-r,l=n<s?n:s,c=-1,d=0;d<=l;++d){if(d===l){if(s>l){if(47===e.charCodeAt(r+d))return e.slice(r+d+1);if(0===d)return e.slice(r+d)}else n>l&&(47===t.charCodeAt(i+d)?c=d:0===d&&(c=0));break}var h=t.charCodeAt(i+d);if(h!==e.charCodeAt(r+d))break;47===h&&(c=d)}var u="";for(d=i+c+1;d<=o;++d)d!==o&&47!==t.charCodeAt(d)||(0===u.length?u+="..":u+="/..");return u.length>0?u+e.slice(r+c):(r+=c,47===e.charCodeAt(r)&&++r,e.slice(r))},_makeLong:function _makeLong(t){return t},dirname:function dirname(t){if(assertPath(t),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,o=-1,a=!0,n=t.length-1;n>=1;--n)if(47===(e=t.charCodeAt(n))){if(!a){o=n;break}}else a=!1;return-1===o?i?"/":".":i&&1===o?"//":t.slice(0,o)},basename:function basename(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');assertPath(t);var i,o=0,a=-1,n=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var r=e.length-1,s=-1;for(i=t.length-1;i>=0;--i){var l=t.charCodeAt(i);if(47===l){if(!n){o=i+1;break}}else-1===s&&(n=!1,s=i+1),r>=0&&(l===e.charCodeAt(r)?-1==--r&&(a=i):(r=-1,a=s))}return o===a?a=s:-1===a&&(a=t.length),t.slice(o,a)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!n){o=i+1;break}}else-1===a&&(n=!1,a=i+1);return-1===a?"":t.slice(o,a)},extname:function extname(t){assertPath(t);for(var e=-1,i=0,o=-1,a=!0,n=0,r=t.length-1;r>=0;--r){var s=t.charCodeAt(r);if(47!==s)-1===o&&(a=!1,o=r+1),46===s?-1===e?e=r:1!==n&&(n=1):-1!==e&&(n=-1);else if(!a){i=r+1;break}}return-1===e||-1===o||0===n||1===n&&e===o-1&&e===i+1?"":t.slice(e,o)},format:function format(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function _format(t,e){var i=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return i?i===e.root?i+o:i+t+o:o}("/",t)},parse:function parse(t){assertPath(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var i,o=t.charCodeAt(0),a=47===o;a?(e.root="/",i=1):i=0;for(var n=-1,r=0,s=-1,l=!0,c=t.length-1,d=0;c>=i;--c)if(47!==(o=t.charCodeAt(c)))-1===s&&(l=!1,s=c+1),46===o?-1===n?n=c:1!==d&&(d=1):-1!==n&&(d=-1);else if(!l){r=c+1;break}return-1===n||-1===s||0===d||1===d&&n===s-1&&n===r+1?-1!==s&&(e.base=e.name=0===r&&a?t.slice(1,s):t.slice(r,s)):(0===r&&a?(e.name=t.slice(1,n),e.base=t.slice(1,s)):(e.name=t.slice(r,n),e.base=t.slice(r,s)),e.ext=t.slice(n,s)),r>0?e.dir=t.slice(0,r-1):a&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,t.exports=a},4155:t=>{var e,i,o=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(e===setTimeout)return setTimeout(t,0);if((e===defaultSetTimout||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(i){try{return e.call(null,t,0)}catch(i){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(t){e=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){i=defaultClearTimeout}}();var a,n=[],r=!1,s=-1;function cleanUpNextTick(){r&&a&&(r=!1,a.length?n=a.concat(n):s=-1,n.length&&drainQueue())}function drainQueue(){if(!r){var t=runTimeout(cleanUpNextTick);r=!0;for(var e=n.length;e;){for(a=n,n=[];++s<e;)a&&a[s].run();s=-1,e=n.length}a=null,r=!1,function runClearTimeout(t){if(i===clearTimeout)return clearTimeout(t);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];n.push(new Item(t,e)),1!==n.length||r||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},3341:(t,e,i)=>{"use strict";const o=Symbol.prototype.valueOf,a=i(6401);t.exports=function clone(t,e){switch(a(t)){case"array":return t.slice();case"object":return Object.assign({},t);case"date":return new t.constructor(Number(t));case"map":return new Map(t);case"set":return new Set(t);case"buffer":return function cloneBuffer(t){const e=t.length,i=Buffer.allocUnsafe?Buffer.allocUnsafe(e):Buffer.from(e);return t.copy(i),i}(t);case"symbol":return function cloneSymbol(t){return o?Object(o.call(t)):{}}(t);case"arraybuffer":return function cloneArrayBuffer(t){const e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}(t);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function cloneTypedArray(t,e){return new t.constructor(t.buffer,t.byteOffset,t.length)}(t);case"regexp":return function cloneRegExp(t){const e=void 0!==t.flags?t.flags:/\w+$/.exec(t)||void 0,i=new t.constructor(t.source,e);return i.lastIndex=t.lastIndex,i}(t);case"error":return Object.create(t);default:return t}}},7943:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>l});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var i=[],o=!0,a=!1,n=void 0;try{for(var r,s=t[Symbol.iterator]();!(o=(r=s.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){a=!0,n=t}finally{try{!o&&s.return&&s.return()}finally{if(a)throw n}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=2*Math.PI,n=function mapToEllipse(t,e,i,o,a,n,r){var s=t.x,l=t.y;return{x:o*(s*=e)-a*(l*=i)+n,y:a*s+o*l+r}},r=function approxUnitArc(t,e){var i=1.5707963267948966===e?.551915024494:-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),o=Math.cos(t),a=Math.sin(t),n=Math.cos(t+e),r=Math.sin(t+e);return[{x:o-a*i,y:a+o*i},{x:n+r*i,y:r-n*i},{x:n,y:r}]},s=function vectorAngle(t,e,i,o){var a=t*i+e*o;return a>1&&(a=1),a<-1&&(a=-1),(t*o-e*i<0?-1:1)*Math.acos(a)};const l=function arcToBezier(t){var e=t.px,i=t.py,l=t.cx,c=t.cy,d=t.rx,h=t.ry,u=t.xAxisRotation,v=void 0===u?0:u,g=t.largeArcFlag,f=void 0===g?0:g,y=t.sweepFlag,x=void 0===y?0:y,m=[];if(0===d||0===h)return[];var R=Math.sin(v*a/360),b=Math.cos(v*a/360),w=b*(e-l)/2+R*(i-c)/2,S=-R*(e-l)/2+b*(i-c)/2;if(0===w&&0===S)return[];d=Math.abs(d),h=Math.abs(h);var A=Math.pow(w,2)/Math.pow(d,2)+Math.pow(S,2)/Math.pow(h,2);A>1&&(d*=Math.sqrt(A),h*=Math.sqrt(A));var C=function getArcCenter(t,e,i,o,n,r,l,c,d,h,u,v){var g=Math.pow(n,2),f=Math.pow(r,2),y=Math.pow(u,2),x=Math.pow(v,2),m=g*f-g*x-f*y;m<0&&(m=0),m/=g*x+f*y;var R=(m=Math.sqrt(m)*(l===c?-1:1))*n/r*v,b=m*-r/n*u,w=h*R-d*b+(t+i)/2,S=d*R+h*b+(e+o)/2,A=(u-R)/n,C=(v-b)/r,I=(-u-R)/n,M=(-v-b)/r,T=s(1,0,A,C),_=s(A,C,I,M);return 0===c&&_>0&&(_-=a),1===c&&_<0&&(_+=a),[w,S,T,_]}(e,i,l,c,d,h,f,x,R,b,w,S),I=o(C,4),M=I[0],T=I[1],_=I[2],L=I[3],O=Math.abs(L)/(a/4);Math.abs(1-O)<1e-7&&(O=1);var P=Math.max(Math.ceil(O),1);L/=P;for(var E=0;E<P;E++)m.push(r(_,L)),_+=L;return m.map((function(t){var e=n(t[0],d,h,b,R,M,T),i=e.x,o=e.y,a=n(t[1],d,h,b,R,M,T),r=a.x,s=a.y,l=n(t[2],d,h,b,R,M,T);return{x1:i,y1:o,x2:r,y2:s,x:l.x,y:l.y}}))}},6721:(t,e,i)=>{"use strict";t.exports=i(2192)},2921:t=>{"use strict";var e=2*Math.PI;function unit_vector_angle(t,e,i,o){var a=t*i+e*o;return a>1&&(a=1),a<-1&&(a=-1),(t*o-e*i<0?-1:1)*Math.acos(a)}function approximate_unit_arc(t,e){var i=4/3*Math.tan(e/4),o=Math.cos(t),a=Math.sin(t),n=Math.cos(t+e),r=Math.sin(t+e);return[o,a,o-a*i,a+o*i,n+r*i,r-n*i,n,r]}t.exports=function a2c(t,i,o,a,n,r,s,l,c){var d=Math.sin(c*e/360),h=Math.cos(c*e/360),u=h*(t-o)/2+d*(i-a)/2,v=-d*(t-o)/2+h*(i-a)/2;if(0===u&&0===v)return[];if(0===s||0===l)return[];s=Math.abs(s),l=Math.abs(l);var g=u*u/(s*s)+v*v/(l*l);g>1&&(s*=Math.sqrt(g),l*=Math.sqrt(g));var f=function get_arc_center(t,i,o,a,n,r,s,l,c,d){var h=d*(t-o)/2+c*(i-a)/2,u=-c*(t-o)/2+d*(i-a)/2,v=s*s,g=l*l,f=h*h,y=u*u,x=v*g-v*y-g*f;x<0&&(x=0),x/=v*y+g*f;var m=(x=Math.sqrt(x)*(n===r?-1:1))*s/l*u,R=x*-l/s*h,b=d*m-c*R+(t+o)/2,w=c*m+d*R+(i+a)/2,S=(h-m)/s,A=(u-R)/l,C=(-h-m)/s,I=(-u-R)/l,M=unit_vector_angle(1,0,S,A),T=unit_vector_angle(S,A,C,I);return 0===r&&T>0&&(T-=e),1===r&&T<0&&(T+=e),[b,w,M,T]}(t,i,o,a,n,r,s,l,d,h),y=[],x=f[2],m=f[3],R=Math.max(Math.ceil(Math.abs(m)/(e/4)),1);m/=R;for(var b=0;b<R;b++)y.push(approximate_unit_arc(x,m)),x+=m;return y.map((function(t){for(var e=0;e<t.length;e+=2){var i=t[e+0],o=t[e+1],a=h*(i*=s)-d*(o*=l),n=d*i+h*o;t[e+0]=a+f[0],t[e+1]=n+f[1]}return t}))}},6954:t=>{"use strict";var e=1e-10,i=Math.PI/180;function Ellipse(t,e,i){if(!(this instanceof Ellipse))return new Ellipse(t,e,i);this.rx=t,this.ry=e,this.ax=i}Ellipse.prototype.transform=function(t){var o=Math.cos(this.ax*i),a=Math.sin(this.ax*i),n=[this.rx*(t[0]*o+t[2]*a),this.rx*(t[1]*o+t[3]*a),this.ry*(-t[0]*a+t[2]*o),this.ry*(-t[1]*a+t[3]*o)],r=n[0]*n[0]+n[2]*n[2],s=n[1]*n[1]+n[3]*n[3],l=((n[0]-n[3])*(n[0]-n[3])+(n[2]+n[1])*(n[2]+n[1]))*((n[0]+n[3])*(n[0]+n[3])+(n[2]-n[1])*(n[2]-n[1])),c=(r+s)/2;if(l<e*c)return this.rx=this.ry=Math.sqrt(c),this.ax=0,this;var d=n[0]*n[1]+n[2]*n[3],h=c+(l=Math.sqrt(l))/2,u=c-l/2;return this.ax=Math.abs(d)<e&&Math.abs(h-s)<e?90:180*Math.atan(Math.abs(d)>Math.abs(h-s)?(h-r)/d:d/(h-s))/Math.PI,this.ax>=0?(this.rx=Math.sqrt(h),this.ry=Math.sqrt(u)):(this.ax+=90,this.rx=Math.sqrt(u),this.ry=Math.sqrt(h)),this},Ellipse.prototype.isDegenerate=function(){return this.rx<e*this.ry||this.ry<e*this.rx},t.exports=Ellipse},9480:t=>{"use strict";function combine(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}function Matrix(){if(!(this instanceof Matrix))return new Matrix;this.queue=[],this.cache=null}Matrix.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]||(this.cache=null,this.queue.push(t)),this},Matrix.prototype.translate=function(t,e){return 0===t&&0===e||(this.cache=null,this.queue.push([1,0,0,1,t,e])),this},Matrix.prototype.scale=function(t,e){return 1===t&&1===e||(this.cache=null,this.queue.push([t,0,0,e,0,0])),this},Matrix.prototype.rotate=function(t,e,i){var o,a,n;return 0!==t&&(this.translate(e,i),o=t*Math.PI/180,a=Math.cos(o),n=Math.sin(o),this.queue.push([a,n,-n,a,0,0]),this.cache=null,this.translate(-e,-i)),this},Matrix.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},Matrix.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},Matrix.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var t=1;t<this.queue.length;t++)this.cache=combine(this.cache,this.queue[t]);return this.cache},Matrix.prototype.calc=function(t,e,i){var o;return this.queue.length?(this.cache||(this.cache=this.toArray()),[t*(o=this.cache)[0]+e*o[2]+(i?0:o[4]),t*o[1]+e*o[3]+(i?0:o[5])]):[t,e]},t.exports=Matrix},3665:t=>{"use strict";var e={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function isSpace(t){return 10===t||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&i.indexOf(t)>=0}function isDigit(t){return t>=48&&t<=57}function isDigitStart(t){return t>=48&&t<=57||43===t||45===t||46===t}function State(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function skipSpaces(t){for(;t.index<t.max&&isSpace(t.path.charCodeAt(t.index));)t.index++}function scanFlag(t){var e=t.path.charCodeAt(t.index);return 48===e?(t.param=0,void t.index++):49===e?(t.param=1,void t.index++):void(t.err="SvgPath: arc flag can be 0 or 1 only (at pos "+t.index+")")}function scanParam(t){var e,i=t.index,o=i,a=t.max,n=!1,r=!1,s=!1,l=!1;if(o>=a)t.err="SvgPath: missed param (at pos "+o+")";else if(43!==(e=t.path.charCodeAt(o))&&45!==e||(e=++o<a?t.path.charCodeAt(o):0),isDigit(e)||46===e){if(46!==e){if(n=48===e,e=++o<a?t.path.charCodeAt(o):0,n&&o<a&&e&&isDigit(e))return void(t.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+i+")");for(;o<a&&isDigit(t.path.charCodeAt(o));)o++,r=!0;e=o<a?t.path.charCodeAt(o):0}if(46===e){for(l=!0,o++;isDigit(t.path.charCodeAt(o));)o++,s=!0;e=o<a?t.path.charCodeAt(o):0}if(101===e||69===e){if(l&&!r&&!s)return void(t.err="SvgPath: invalid float exponent (at pos "+o+")");if(43!==(e=++o<a?t.path.charCodeAt(o):0)&&45!==e||o++,!(o<a&&isDigit(t.path.charCodeAt(o))))return void(t.err="SvgPath: invalid float exponent (at pos "+o+")");for(;o<a&&isDigit(t.path.charCodeAt(o));)o++}t.index=o,t.param=parseFloat(t.path.slice(i,o))+0}else t.err="SvgPath: param should start with 0..9 or `.` (at pos "+o+")"}function finalizeSegment(t){var i,o;o=(i=t.path[t.segmentStart]).toLowerCase();var a=t.data;if("m"===o&&a.length>2&&(t.result.push([i,a[0],a[1]]),a=a.slice(2),o="l",i="m"===i?"l":"L"),"r"===o)t.result.push([i].concat(a));else for(;a.length>=e[o]&&(t.result.push([i].concat(a.splice(0,e[o]))),e[o]););}function scanSegment(t){var i,o,a,n,r,s=t.max;if(t.segmentStart=t.index,o=function isArc(t){return 97==(32|t)}(i=t.path.charCodeAt(t.index)),function isCommand(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(i))if(n=e[t.path[t.index].toLowerCase()],t.index++,skipSpaces(t),t.data=[],n){for(a=!1;;){for(r=n;r>0;r--){if(!o||3!==r&&4!==r?scanParam(t):scanFlag(t),t.err.length)return void finalizeSegment(t);t.data.push(t.param),skipSpaces(t),a=!1,t.index<s&&44===t.path.charCodeAt(t.index)&&(t.index++,skipSpaces(t),a=!0)}if(!a){if(t.index>=t.max)break;if(!isDigitStart(t.path.charCodeAt(t.index)))break}}finalizeSegment(t)}else finalizeSegment(t);else t.err="SvgPath: bad command "+t.path[t.index]+" (at pos "+t.index+")"}t.exports=function pathParse(t){var e=new State(t),i=e.max;for(skipSpaces(e);e.index<i&&!e.err.length;)scanSegment(e);return e.result.length&&("mM".indexOf(e.result[0][0])<0?(e.err="SvgPath: string should start with `M` or `m`",e.result=[]):e.result[0][0]="M"),{err:e.err,segments:e.result}}},2192:(t,e,i)=>{"use strict";var o=i(3665),a=i(2094),n=i(9480),r=i(2921),s=i(6954);function SvgPath(t){if(!(this instanceof SvgPath))return new SvgPath(t);var e=o(t);this.segments=e.segments,this.err=e.err,this.__stack=[]}SvgPath.from=function(t){if("string"==typeof t)return new SvgPath(t);if(t instanceof SvgPath){var e=new SvgPath("");return e.err=t.err,e.segments=t.segments.map((function(t){return t.slice()})),e.__stack=t.__stack.map((function(t){return n().matrix(t.toArray())})),e}throw new Error("SvgPath.from: invalid param type "+t)},SvgPath.prototype.__matrix=function(t){var e,i=this;t.queue.length&&this.iterate((function(o,a,n,r){var l,c,d,h;switch(o[0]){case"v":c=0===(l=t.calc(0,o[1],!0))[0]?["v",l[1]]:["l",l[0],l[1]];break;case"V":c=(l=t.calc(n,o[1],!1))[0]===t.calc(n,r,!1)[0]?["V",l[1]]:["L",l[0],l[1]];break;case"h":c=0===(l=t.calc(o[1],0,!0))[1]?["h",l[0]]:["l",l[0],l[1]];break;case"H":c=(l=t.calc(o[1],r,!1))[1]===t.calc(n,r,!1)[1]?["H",l[0]]:["L",l[0],l[1]];break;case"a":case"A":var u=t.toArray(),v=s(o[1],o[2],o[3]).transform(u);if(u[0]*u[3]-u[1]*u[2]<0&&(o[5]=o[5]?"0":"1"),l=t.calc(o[6],o[7],"a"===o[0]),"A"===o[0]&&o[6]===n&&o[7]===r||"a"===o[0]&&0===o[6]&&0===o[7]){c=["a"===o[0]?"l":"L",l[0],l[1]];break}c=v.isDegenerate()?["a"===o[0]?"l":"L",l[0],l[1]]:[o[0],v.rx,v.ry,v.ax,o[4],o[5],l[0],l[1]];break;case"m":h=a>0,c=["m",(l=t.calc(o[1],o[2],h))[0],l[1]];break;default:for(c=[d=o[0]],h=d.toLowerCase()===d,e=1;e<o.length;e+=2)l=t.calc(o[e],o[e+1],h),c.push(l[0],l[1])}i.segments[a]=c}),!0)},SvgPath.prototype.__evaluateStack=function(){var t,e;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=n(),e=this.__stack.length;--e>=0;)t.matrix(this.__stack[e].toArray());this.__matrix(t),this.__stack=[]}},SvgPath.prototype.toString=function(){var t="",e="",i=!1;this.__evaluateStack();for(var o=0,a=this.segments.length;o<a;o++){var n=this.segments[o],r=n[0];r!==e||"m"===r||"M"===r?("m"===r&&"z"===e&&(t+=" "),t+=r,i=!1):i=!0;for(var s=1;s<n.length;s++){var l=n[s];1===s?i&&l>=0&&(t+=" "):l>=0&&(t+=" "),t+=l}e=r}return t},SvgPath.prototype.translate=function(t,e){return this.__stack.push(n().translate(t,e||0)),this},SvgPath.prototype.scale=function(t,e){return this.__stack.push(n().scale(t,e||0===e?e:t)),this},SvgPath.prototype.rotate=function(t,e,i){return this.__stack.push(n().rotate(t,e||0,i||0)),this},SvgPath.prototype.skewX=function(t){return this.__stack.push(n().skewX(t)),this},SvgPath.prototype.skewY=function(t){return this.__stack.push(n().skewY(t)),this},SvgPath.prototype.matrix=function(t){return this.__stack.push(n().matrix(t)),this},SvgPath.prototype.transform=function(t){return t.trim()?(this.__stack.push(a(t)),this):this},SvgPath.prototype.round=function(t){var e,i=0,o=0,a=0,n=0;return t=t||0,this.__evaluateStack(),this.segments.forEach((function(r){var s=r[0].toLowerCase()===r[0];switch(r[0]){case"H":case"h":return s&&(r[1]+=a),a=r[1]-r[1].toFixed(t),void(r[1]=+r[1].toFixed(t));case"V":case"v":return s&&(r[1]+=n),n=r[1]-r[1].toFixed(t),void(r[1]=+r[1].toFixed(t));case"Z":case"z":return a=i,void(n=o);case"M":case"m":return s&&(r[1]+=a,r[2]+=n),a=r[1]-r[1].toFixed(t),n=r[2]-r[2].toFixed(t),i=a,o=n,r[1]=+r[1].toFixed(t),void(r[2]=+r[2].toFixed(t));case"A":case"a":return s&&(r[6]+=a,r[7]+=n),a=r[6]-r[6].toFixed(t),n=r[7]-r[7].toFixed(t),r[1]=+r[1].toFixed(t),r[2]=+r[2].toFixed(t),r[3]=+r[3].toFixed(t+2),r[6]=+r[6].toFixed(t),void(r[7]=+r[7].toFixed(t));default:return e=r.length,s&&(r[e-2]+=a,r[e-1]+=n),a=r[e-2]-r[e-2].toFixed(t),n=r[e-1]-r[e-1].toFixed(t),void r.forEach((function(e,i){i&&(r[i]=+r[i].toFixed(t))}))}})),this},SvgPath.prototype.iterate=function(t,e){var i,o,a,n=this.segments,r={},s=!1,l=0,c=0,d=0,h=0;if(e||this.__evaluateStack(),n.forEach((function(e,i){var o=t(e,i,l,c);Array.isArray(o)&&(r[i]=o,s=!0);var a=e[0]===e[0].toLowerCase();switch(e[0]){case"m":case"M":return l=e[1]+(a?l:0),c=e[2]+(a?c:0),d=l,void(h=c);case"h":case"H":return void(l=e[1]+(a?l:0));case"v":case"V":return void(c=e[1]+(a?c:0));case"z":case"Z":return l=d,void(c=h);default:l=e[e.length-2]+(a?l:0),c=e[e.length-1]+(a?c:0)}})),!s)return this;for(a=[],i=0;i<n.length;i++)if(void 0!==r[i])for(o=0;o<r[i].length;o++)a.push(r[i][o]);else a.push(n[i]);return this.segments=a,this},SvgPath.prototype.abs=function(){return this.iterate((function(t,e,i,o){var a,n=t[0],r=n.toUpperCase();if(n!==r)switch(t[0]=r,n){case"v":return void(t[1]+=o);case"a":return t[6]+=i,void(t[7]+=o);default:for(a=1;a<t.length;a++)t[a]+=a%2?i:o}}),!0),this},SvgPath.prototype.rel=function(){return this.iterate((function(t,e,i,o){var a,n=t[0],r=n.toLowerCase();if(n!==r&&(0!==e||"M"!==n))switch(t[0]=r,n){case"V":return void(t[1]-=o);case"A":return t[6]-=i,void(t[7]-=o);default:for(a=1;a<t.length;a++)t[a]-=a%2?i:o}}),!0),this},SvgPath.prototype.unarc=function(){return this.iterate((function(t,e,i,o){var a,n,s,l=[],c=t[0];return"A"!==c&&"a"!==c?null:("a"===c?(n=i+t[6],s=o+t[7]):(n=t[6],s=t[7]),0===(a=r(i,o,n,s,t[4],t[5],t[1],t[2],t[3])).length?[["a"===t[0]?"l":"L",t[6],t[7]]]:(a.forEach((function(t){l.push(["C",t[2],t[3],t[4],t[5],t[6],t[7]])})),l))})),this},SvgPath.prototype.unshort=function(){var t,e,i,o,a,n=this.segments;return this.iterate((function(r,s,l,c){var d,h=r[0],u=h.toUpperCase();s&&("T"===u?(d="t"===h,"Q"===(i=n[s-1])[0]?(t=i[1]-l,e=i[2]-c):"q"===i[0]?(t=i[1]-i[3],e=i[2]-i[4]):(t=0,e=0),o=-t,a=-e,d||(o+=l,a+=c),n[s]=[d?"q":"Q",o,a,r[1],r[2]]):"S"===u&&(d="s"===h,"C"===(i=n[s-1])[0]?(t=i[3]-l,e=i[4]-c):"c"===i[0]?(t=i[3]-i[5],e=i[4]-i[6]):(t=0,e=0),o=-t,a=-e,d||(o+=l,a+=c),n[s]=[d?"c":"C",o,a,r[1],r[2],r[3],r[4]]))})),this},t.exports=SvgPath},2094:(t,e,i)=>{"use strict";var o=i(9480),a={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},n=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,r=/[\s,]+/;t.exports=function transformParse(t){var e,i,s=new o;return t.split(n).forEach((function(t){if(t.length)if(void 0===a[t])switch(i=t.split(r).map((function(t){return+t||0})),e){case"matrix":return void(6===i.length&&s.matrix(i));case"scale":return void(1===i.length?s.scale(i[0],i[0]):2===i.length&&s.scale(i[0],i[1]));case"rotate":return void(1===i.length?s.rotate(i[0],0,0):3===i.length&&s.rotate(i[0],i[1],i[2]));case"translate":return void(1===i.length?s.translate(i[0],0):2===i.length&&s.translate(i[0],i[1]));case"skewX":return void(1===i.length&&s.skewX(i[0]));case"skewY":return void(1===i.length&&s.skewY(i[0]))}else e=t})),s}},4075:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCustomFeedbackActions=void 0;const o=i(9314),a=i(3488),n=i(4005),r=i(2848),s=i(178),l=i(8557);function drawSelectionShapes(t,e,i,o){let a=!1;for(let n=0;n<e.length;n++){const s=e[n];s.selectionShapes&&(a||(a=!0,i.saveContext(),i.native.resetTransform(),i.native.scale(i.renderScaleMultiplier,i.renderScaleMultiplier)),(0,r.drawSelectionShape)(s,t.selectionShapes.color,t.selectionShapes.lineWidth,t.selectionShapes.lineWidthIgnoreCameraScale,i.native,o))}a&&i.restoreContext()}function drawFeedback(t,e,i){for(let r=0;r<t.shapes.length;r++){const s=t.shapes[r],c=(0,n.getFinalPosition)(e,s.position,i.cameraScale,!1),d=(0,n.getFinalSize)(e,s.size,i.cameraScale),h=s.border.lineWidthIgnoreCameraScale?s.border.lineWidth:s.border.lineWidth/i.cameraScale,u=(0,l.calculateBorderOffset)(2*h,s.border.lineGrowth),v=d.width+u,g=d.height+u,f=-v/2,y=-g/2;i.translateRotateAndScale(c.x,c.y,e.rotation*o.DegToRad,1);const x=(0,a.getStrokePatternClassic)(s.border.style,h);switch(s.type){case"rectangle":if(s.cornerRadius>0){const t=s.cornerRadiusIgnoreCameraScale?s.cornerRadius:s.cornerRadius/i.cameraScale;i.drawRoundedRectangle(f,y,v,g,t,s.fillColor,s.border.color,h,x)}else i.drawRectangle(f,y,v,g,s.fillColor,s.border.color,h,x);break;case"ellipse":i.drawEllipse(f,y,v,g,s.fillColor,s.border.color,h,x)}i.undoTranslateRotateAndScale(c.x,c.y,e.rotation*o.DegToRad,1)}}function initFeedbackWithDefaults(t){var e,i,o,a;return Object.assign(Object.assign({},t),{selectionShapes:void 0===t.selectionShapes?{draw:!1,color:"",lineWidth:0,lineWidthIgnoreCameraScale:!1}:{draw:null!==(e=t.selectionShapes.draw)&&void 0!==e&&e,color:null!==(i=t.selectionShapes.color)&&void 0!==i?i:"black",lineWidth:null!==(o=t.selectionShapes.lineWidth)&&void 0!==o?o:0,lineWidthIgnoreCameraScale:null!==(a=t.selectionShapes.lineWidthIgnoreCameraScale)&&void 0!==a&&a},shapes:t.shapes.map((t=>function initShapeWithDefault(t){var e,i,o,a,n,r,s,l;const c={fillColor:t.fillColor||"",border:{color:(null===(e=t.border)||void 0===e?void 0:e.color)||"",lineGrowth:(null===(i=t.border)||void 0===i?void 0:i.lineGrowth)||"inwards-outwards",lineWidth:(null===(o=t.border)||void 0===o?void 0:o.lineWidth)||0,lineWidthIgnoreCameraScale:null!==(n=null===(a=t.border)||void 0===a?void 0:a.lineWidthIgnoreCameraScale)&&void 0!==n&&n,style:(null===(r=t.border)||void 0===r?void 0:r.style)||""},position:Object.assign(Object.assign({},t.position),{offset:t.position.offset||{x:0,y:0},screenOffset:t.position.screenOffset||{x:0,y:0}}),size:Object.assign(Object.assign({},t.size),{offset:t.size.offset||{width:0,height:0},screenOffset:t.size.screenOffset||{width:0,height:0}})};switch(t.type){case"rectangle":return Object.assign(Object.assign({},c),{type:"rectangle",cornerRadius:null!==(s=t.cornerRadius)&&void 0!==s?s:0,cornerRadiusIgnoreCameraScale:null!==(l=t.cornerRadiusIgnoreCameraScale)&&void 0!==l&&l});case"ellipse":return Object.assign(Object.assign({},c),{type:"ellipse"})}}(t)))})}e.createCustomFeedbackActions=t=>{const e=[],i=new Map;let o;const a=(0,s.createNodesOnTopOrBottomApi)(t),enqueueRedrawFeedbacks=()=>t.invalidateViewport(),remove=t=>{const o=i.get(t);if(!o)return void console.error("Unable to remove feedback, not found in existing feedbacks.",t);const a=e.indexOf(o);a>=0&&e.splice(a,1),i.delete(o.id),enqueueRedrawFeedbacks()},add=(o,a)=>{i.has(a.id)&&remove(a.id);const r={id:a.id,relativeToIds:o,relativeToNodes:[],feedback:initFeedbackWithDefaults(a),bounds:null,animation:null};i.set(a.id,r),r.relativeToNodes=(0,n.getReferenceNodes)(t,r.relativeToIds),r.bounds=(0,n.getReferenceBoundsFromNodes)(r.relativeToNodes),e.push(r),(()=>{e.sort(((t,e)=>t.feedback.drawingPriority-e.feedback.drawingPriority))})(),enqueueRedrawFeedbacks()};return{api:{add:(t,e)=>add(t,e),remove:t=>remove(t),getAll:()=>e.map((t=>t.id)),playEaseInAnimation:(t,e)=>((t,e)=>{if(e.duration<=0)return;const o=i.get(t);o?(o.animation={animation:e,time:performance.now()/1e3},enqueueRedrawFeedbacks()):console.error("Unable to play ease in animation, not found in existing feedbacks.",t)})(t,e)},animationsDone:()=>{for(const t of i.values())if(null!==t.animation&&null!==t.animation)return!1;return!0},setDebugAnimationTime:t=>{o=t},draw:i=>{if(0===e.length)return void a.clear();const r=i.surface,s=r.beginRender(!0);for(let i=0;i<e.length;i++){const o=e[i];o.relativeToNodes=(0,n.getReferenceNodes)(t,o.relativeToIds),o.bounds=(0,n.getReferenceBoundsFromNodes)(o.relativeToNodes)}const l=performance.now();let c=!1;const d=[],h=[];for(let t=0;t<e.length;t++){const o=e[t];if(null!==o.bounds&&(i.setDirty(),o.feedback.selectionShapes.draw))for(const t of o.relativeToNodes)t.selectionDrawNodeIdsOnBottomOnSelected&&h.push(t)}a.drawOnBottom(h,r);for(let t=0;t<e.length;t++){const a=e[t];if(null===a.bounds)continue;i.setDirty();let n=1;if(null!==a.animation){const t=void 0===o?l/1e3:a.animation.time+o;n=Math.min((t-a.animation.time)/a.animation.animation.duration,1),1===n?a.animation=null:c=!0}if(r.ctx.globalAlpha=n,a.feedback.selectionShapes.draw&&drawSelectionShapes(a.feedback,a.relativeToNodes,s,i.camera),drawFeedback(a.feedback,a.bounds,s),a.feedback.selectionShapes.draw)for(const t of a.relativeToNodes)t.selectionDrawNodeIdsOnTopOnSelected&&d.push(t)}r.ctx.globalAlpha=1,a.drawOnTop(d,r),s.finishRendering(),c&&enqueueRedrawFeedbacks()}}}},5123:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCustomHandleActions=void 0;const o=i(9314),a=i(8126),n=i(4005),r=i(8898),s=i(4612);function deleteFromArray(t,e){const i=t.indexOf(e);i>=0&&t.splice(i,1)}function getHitAreasRects(t,e,i,o){const r=(0,n.getFinalPosition)(e,t.position,i,o);return t.hitAreas.map((t=>{const s=o?t.offset:(0,n.applyBoundsRotation)(t.offset,e),l=0!==t.size.width||0!==t.size.height?{width:t.size.width/i,height:t.size.height/i}:(0,n.getFinalSize)(e,t.relativeSize,i),c=o||!e.rotated?l.width:Math.sqrt(l.width*l.width+l.height*l.height),d=o||!e.rotated?l.height:c;return a.Rectangle.fromBounds(r.x+s.x/i-c/2,r.y+s.y/i-d/2,c,d)}))}function isOverlappingHandle(t,e,i){const o=t.bounds,a=e.bounds,n=t.hitRects,r=e.hitRects;if(null===o||null===a||null===n||null===r)return!1;const s=o.rotation===a.rotation;if(s&&0===o.rotation)return n.some((t=>r.some((e=>t.intersects(e)))));const l=getHitAreasRects(t.handle,o,i,s),c=getHitAreasRects(e.handle,a,i,s);return l.some((t=>c.some((e=>t.intersects(e)))))}function isCameraScaleDependant(t){if(0!==t.position.screenOffset.x||0!==t.position.screenOffset.y)return!0;for(let e=0;e<t.hitAreas.length;e++){const i=t.hitAreas[e];if(0!==i.offset.x||0!==i.offset.y)return!0;if(0!==i.size.width||0!==i.size.height)return!0;if(0!==i.relativeSize.screenOffset.width||0!==i.relativeSize.screenOffset.height)return!0}return!1}const l={dataUrl:"",size:{width:0,height:0}};function drawHandle(t,e,i,a,r){const s=a?t.hoverIcon:t.icon;if(s===l)return;const c=(0,n.getFinalPosition)(e,t.position,i.cameraScale,!1),d=r.get(s.dataUrl);if(!d)return;const h=s.size.width,u=s.size.height,v=-h/2,g=-u/2;i.translateRotateAndScale(c.x,c.y,e.rotation*o.DegToRad,1/i.cameraScale),i.drawImage(d,v,g,h,u),i.undoTranslateRotateAndScale(c.x,c.y,e.rotation*o.DegToRad,1/i.cameraScale)}e.createCustomHandleActions=t=>{const e=[],i=[],c=[],d=[];let h=!0;const u=new Map,v=new Map,g=new Map,f=new Set,y=new s.QuadTreeRoot,x=new r.QuadTreeIterator(y);let m=0,R=null,b=null,w=t.camera.scale,S=t.camera.scale;const enqueueRedrawHandles=()=>t.invalidateViewport(),sortHandleByVisibleOrder=t=>{t.sort(((t,e)=>t.handle.drawingPriority-e.handle.drawingPriority))},getHitHandlesInVisibleOrder=(t,e)=>{const i=new Set;if(x.forEachVisibleNode(a.Rectangle.fromBounds(t-w/2,e-w/2,w,w),(a=>{const r=a.handleRef;!r.hidden&&function isInsideHandle(t,e,i,a){if(null===i.bounds||null===i.hitRects)return!1;let r=!1;for(let o=0;o<i.hitRects.length&&!r;o++)i.hitRects[o].containsPoint(t,e)&&(r=!0);if(!r)return!1;if(!i.bounds.rotated)return!0;const s=i.bounds,l=i.handle,c=(0,n.getFinalPosition)(s,l.position,a,!1),d=o.Point.toLocal({x:t,y:e},c,s.rotation);for(let t=0;t<l.hitAreas.length;t++){const e=l.hitAreas[t],i=d.x-e.offset.x/a,o=d.y-e.offset.y/a,r=0!==e.size.width||0!==e.size.height?{width:e.size.width/a,height:e.size.height/a}:(0,n.getFinalSize)(s,e.relativeSize,a);if(Math.abs(i)<=r.width/2&&Math.abs(o)<=r.height/2)return!0}return!1}(t,e,r,w)&&i.add(r)})),0===i.size)return[];const r=[...i];return sortHandleByVisibleOrder(r),r},updateHitRects=e=>{e.bounds=(0,n.getReferenceBounds)(t,e.relativeToIds);const i=null!==e.bounds?getHitAreasRects(e.handle,e.bounds,S,!1):null;if(null===i&&null!==e.quadTreeNodes){for(let t=0;t<e.quadTreeNodes.length;t++)y.delete(e.quadTreeNodes[t]);e.quadTreeNodes=null}else if(null!==i&&null===e.quadTreeNodes)e.quadTreeNodes=i.map((t=>({aabb:t.clone(),handleRef:e,id:m++,qtFrame:-1,qtParent:null,qtIndexInParent:-1}))),e.quadTreeNodes.forEach((t=>y.insert(t)));else if(null!==i&&null!==e.quadTreeNodes&&e.quadTreeNodes.length===i.length)for(let t=0;t<i.length;t++)e.quadTreeNodes[t].aabb.copy(i[t]),y.updated(e.quadTreeNodes[t]);e.hitRects=i},applyPendingChangesToHandles=()=>{if(h||(h=!0,sortHandleByVisibleOrder(d),sortHandleByVisibleOrder(c)),f.size>0&&(f.forEach((t=>updateHitRects(t))),f.clear()),S!==w){S=w;for(let t=0;t<i.length;t++){const e=i[t];updateHitRects(e)}}},updateHover=()=>{var t;if(null===R)return!1;applyPendingChangesToHandles();const e=null!==(t=getHitHandlesInVisibleOrder(R.x,R.y).pop())&&void 0!==t?t:null;return e!==b&&(b=e,!0)},updateHidden=t=>{let e=!1;if(null!==t.bounds&&null!==t.handle.hide){const i=t.handle.hide;if(i.onOverlap){const i=v.get(t.relativeToIdsUnified);if(void 0!==i)for(let o=i.length-1;o>=0&&!e;o--){const a=i[o];a!==t&&(a.hidden||(e=isOverlappingHandle(t,a,w)))}}e=e||i.minWidth>0&&t.bounds.size.width<i.minWidth,e=e||i.minHeight>0&&t.bounds.size.height<i.minHeight,e=e||i.minScreenWidth>0&&t.bounds.size.width*w<i.minScreenWidth,e=e||i.minScreenHeight>0&&t.bounds.size.height*w<i.minScreenHeight}t.hidden=e},onNodeAABBUpdated=t=>{const e=g.get(t);if(void 0!==e)for(let t=0;t<e.length;t++)f.add(e[t])},A=(0,n.buildSimpleCanvasImageCache)((()=>enqueueRedrawHandles()),(t=>console.error("Error decoding handle icon image",t))),remove=(o,a)=>{const n=u.get(o);n?((o=>{deleteFromArray(e,o),null!==o.handle.hide&&deleteFromArray(c,o),o.cameraScaleDependant&&deleteFromArray(i,o);const a=v.get(o.relativeToIdsUnified);if(void 0!==a&&(deleteFromArray(a,o),0===a.length&&v.delete(o.relativeToIdsUnified)),o.hasIcon&&deleteFromArray(d,o),u.delete(o.id),o.relativeToIds.forEach((e=>{const i=g.get(e);i&&(deleteFromArray(i,o),0===i.length&&(g.delete(e),t.removeWatchNodeAABB(e,onNodeAABBUpdated)))})),null!==o.quadTreeNodes){for(let t=0;t<o.quadTreeNodes.length;t++)y.delete(o.quadTreeNodes[t]);o.quadTreeNodes=null}f.delete(o)})(n),a&&enqueueRedrawHandles()):console.error("Unable to remove handle, not found in existing handles.",o)},addHandleRefInDrawingOrder=(t,e,i=!0)=>{if(0===t.length||i&&!h)return void t.push(e);const o=e.handle,a=t[0].handle,n=t[t.length-1].handle;o.drawingPriority>=n.drawingPriority?t.push(e):o.drawingPriority<=a.drawingPriority?t.unshift(e):(t.push(e),i?h=!1:sortHandleByVisibleOrder(t))},add=(o,a,r)=>{u.has(a.id)&&remove(a.id,!1);const s=function initHandleWithDefaults(t){var e,i,o,a,n,r,s,c,d,h,u,v;return Object.assign(Object.assign({},t),{icon:t.icon||l,hoverIcon:t.hoverIcon||t.icon||l,hide:t.hide?{onOverlap:null!==(i=null===(e=t.hide)||void 0===e?void 0:e.onOverlap)&&void 0!==i&&i,minWidth:null!==(a=null===(o=t.hide)||void 0===o?void 0:o.minWidth)&&void 0!==a?a:0,minHeight:null!==(r=null===(n=t.hide)||void 0===n?void 0:n.minHeight)&&void 0!==r?r:0,minScreenWidth:null!==(c=null===(s=t.hide)||void 0===s?void 0:s.minScreenWidth)&&void 0!==c?c:0,minScreenHeight:null!==(h=null===(d=t.hide)||void 0===d?void 0:d.minScreenHeight)&&void 0!==h?h:0}:null,position:Object.assign(Object.assign({},t.position),{offset:null!==(u=t.position.offset)&&void 0!==u?u:{x:0,y:0},screenOffset:null!==(v=t.position.screenOffset)&&void 0!==v?v:{x:0,y:0}}),hitAreas:t.hitAreas.map((t=>{var e,i,o,a;return Object.assign(Object.assign({},t),{offset:null!==(e=t.offset)&&void 0!==e?e:{x:0,y:0},size:null!==(i=t.size)&&void 0!==i?i:{width:0,height:0},relativeSize:void 0!==t.relativeSize?Object.assign(Object.assign({},t.relativeSize),{offset:null!==(o=t.relativeSize.offset)&&void 0!==o?o:{width:0,height:0},screenOffset:null!==(a=t.relativeSize.screenOffset)&&void 0!==a?a:{width:0,height:0}}):{scale:{width:0,height:0},offset:{width:0,height:0},screenOffset:{width:0,height:0}}})}))})}(a),h={id:a.id,relativeToIds:o,relativeToIdsUnified:o.join(","),handle:s,hidden:!1,bounds:null,cameraScaleDependant:isCameraScaleDependant(s),hasIcon:void 0!==a.icon||void 0!==a.hoverIcon,hitRects:null,quadTreeNodes:null};u.set(a.id,h),h.bounds=(0,n.getReferenceBounds)(t,h.relativeToIds),updateHitRects(h),(o=>{e.push(o),null!==o.handle.hide&&addHandleRefInDrawingOrder(c,o),o.cameraScaleDependant&&i.push(o);let a=v.get(o.relativeToIdsUnified);void 0===a&&(a=[],v.set(o.relativeToIdsUnified,a)),addHandleRefInDrawingOrder(a,o,!1),o.hasIcon&&addHandleRefInDrawingOrder(d,o),o.relativeToIds.forEach((e=>{let i=g.get(e);i||(i=[],g.set(e,i),t.addWatchNodeAABB(e,onNodeAABBUpdated)),i.push(o)}))})(h),r&&enqueueRedrawHandles()};return{api:{add:(t,e)=>add(t,e,!0),addBatch:t=>(t=>{0!==t.length&&(t.forEach((t=>add(t.ids,t.handle,!1))),enqueueRedrawHandles())})(t),remove:t=>remove(t,!0),removeBatch:t=>(t=>{0!==t.length&&(t.forEach((t=>remove(t,!1))),enqueueRedrawHandles())})(t),getAt:(t,e)=>{var i,o;applyPendingChangesToHandles();return null!==(o=null===(i=getHitHandlesInVisibleOrder(t,e).pop())||void 0===i?void 0:i.id)&&void 0!==o?o:null},getAllAt:(t,e)=>{applyPendingChangesToHandles();const i=getHitHandlesInVisibleOrder(t,e);return i.reverse(),i.map((t=>t.id))},hoverAt:(t,e)=>{null!==R&&t===R.x&&e===R.y||(R={x:t,y:e},updateHover()&&enqueueRedrawHandles())},getAll:()=>(applyPendingChangesToHandles(),e.map((t=>t.id)))},draw:i=>{if(w=t.camera.scale,0===e.length)return;applyPendingChangesToHandles(),updateHover();const o=i.surface.beginRender(!0);for(let t=c.length-1;t>=0;t--){updateHidden(c[t])}for(let t=0;t<d.length;t++){const e=d[t];null!==e.bounds&&(e.hidden||(i.setDirty(),drawHandle(e.handle,e.bounds,o,e===b,A)))}o.finishRendering()}}}},3449:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCustomLayersActions=void 0;e.createCustomLayersActions=t=>({show:e=>t.showCustomLayer(e),hide:e=>t.hideCustomLayer(e)})},4005:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSimpleCanvasImageCache=e.getFinalSize=e.getFinalPosition=e.getReferenceBounds=e.getReferenceNodes=e.getReferenceBoundsFromNodes=e.applyBoundsRotation=void 0;const o=i(9314),a=i(8126);function applyBoundsRotation(t,e){return e.rotated?o.Point.add(o.Point.scl(e.right,t.x),o.Point.scl(e.down,t.y)):t}e.applyBoundsRotation=applyBoundsRotation;const n={x:0,y:1},r={x:1,y:0};function getReferenceBoundsFromNodes(t){if(1===t.length){const e=t[0];if(e.simpleTransform){const t=e.aabbSelfOnlyWithoutRenderOverflow;return{center:{x:t.centerX,y:t.centerY},down:n,right:r,rotated:!1,rotation:0,size:{width:t.width,height:t.height}}}}let e=null,i=null;const s={width:0,height:0},l=new a.Rectangle;let c=!1,d=!1,h=0;for(let a=0;a<t.length;a++){const n=t[a];1!==t.length||n.axisAligned||(e={x:0,y:1},i={x:1,y:0},n.localToGlobalRotateInPlace(e),n.localToGlobalRotateInPlace(i),o.Point.normalizeInPlace(e),o.Point.normalizeInPlace(i),n.getNonRotatedGlobalSizeWithBorder(s),h=n.rotation,d=!0),c?l.union(n.aabbSelfOnlyWithoutRenderOverflow):(l.copy(n.aabbSelfOnlyWithoutRenderOverflow),c=!0)}if(!c)return null;d||(s.width=l.width,s.height=l.height);return{center:{x:l.centerX,y:l.centerY},size:s,rotated:d,rotation:h,right:null!==i?i:r,down:null!==e?e:n}}function getReferenceNodes(t,e){const i=[];for(let o=0;o<e.length;o++){const a=t.findNodeByExternalId(e[o]);a&&i.push(a)}return i}e.getReferenceBoundsFromNodes=getReferenceBoundsFromNodes,e.getReferenceNodes=getReferenceNodes,e.getReferenceBounds=function getReferenceBounds(t,e){return getReferenceBoundsFromNodes(getReferenceNodes(t,e))},e.getFinalPosition=function getFinalPosition(t,e,i,a){const n=e.anchor.x*t.size.width+e.offset.x+e.screenOffset.x/i,r=e.anchor.y*t.size.height+e.offset.y+e.screenOffset.y/i;return o.Point.add(t.center,a?{x:n,y:r}:applyBoundsRotation({x:n,y:r},t))},e.getFinalSize=function getFinalSize(t,e,i){return{width:e.scale.width*t.size.width+e.offset.width+e.screenOffset.width/i,height:e.scale.height*t.size.height+e.offset.height+e.screenOffset.height/i}},e.buildSimpleCanvasImageCache=function buildSimpleCanvasImageCache(t,e){const i=new Map,o=new Set;return{get:a=>{const n=i.get(a);if(n)return n;if(o.has(a))return null;o.add(a);const r=new Image;return r.onload=()=>{i.set(a,r),o.delete(a),t(a,r)},r.onerror=()=>{e(a)},r.src=a,null}}}},6757:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))((function(a,n){function fulfilled(t){try{step(o.next(t))}catch(t){n(t)}}function rejected(t){try{step(o.throw(t))}catch(t){n(t)}}function step(t){t.done?a(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,e||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createDebugActions=void 0;const Rectangle_1=__webpack_require__(8126),profiler_1=__webpack_require__(9362),CONSOLE_LINE_HEIGHT=24,CONSOLE_MARGIN=10;class CanvasConsole{constructor(t,e){this.bounds=new Rectangle_1.Rectangle,this.lines=0,this.context=t,this.bounds.copy(e)}begin(t="rgba(255, 0, 0, 0.95)"){this.context.saveContext(),this.context.native.resetTransform(),this.context.native.scale(this.context.renderScaleMultiplier,this.context.renderScaleMultiplier),this.context.clipRectangle(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height),this.context.fillRect(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height,t)}drawTextLine(t){this.context.fillText(t,this.bounds.x+CONSOLE_MARGIN,this.bounds.y+CONSOLE_MARGIN+CONSOLE_LINE_HEIGHT*this.lines,"14px Lucida Console","black","left","top"),this.lines++}end(){this.context.restoreContext()}}function showQuadTreeRecursive(t,e){t.strokeStyle="#ff0",t.strokeRect(e.rect.x,e.rect.y,e.rect.width,e.rect.height),t.strokeStyle=e.subdivisions?"#f00":"#0f7",e.nodes.forEach((e=>{t.strokeRect(e.aabb.x,e.aabb.y,e.aabb.width,e.aabb.height)}));const i=e.subdivisions;null!==i&&(showQuadTreeRecursive(t,i.topLeft),showQuadTreeRecursive(t,i.topRight),showQuadTreeRecursive(t,i.bottomLeft),showQuadTreeRecursive(t,i.bottomRight))}function showQuadTree(t,e){t.save(),t.resetTransform(),t.lineWidth=1;const i=Math.min(t.canvas.width,t.canvas.height)/e.rect.width;t.scale(i,i),t.fillStyle="rgba(0,0,0,.5)",t.fillRect(0,0,e.rect.width,e.rect.height),t.translate(e.rect.width/2,e.rect.height/2),t.lineWidth=1/i,showQuadTreeRecursive(t,e),t.restore()}function showRootCache(t,e){const i=t.ctx;i.save(),t.resetTransform();const o=2/t.getCameraScale();i.lineWidth=o;const a=e.getFullBoundsIterator();for(i.beginPath();a.next();){const t=a.getCurrentBounds(),e=a.getCurrentInfo();i.strokeStyle=null!==e?"red":"green",i.strokeRect(t.x+o,t.y+o,t.width-2*o,t.height-2*o)}i.stroke(),i.restore()}function showRootCacheStats(t,e){const i=e.getStats(),o=t.beginRender(!0),a=8*CONSOLE_LINE_HEIGHT,n=new CanvasConsole(o,Rectangle_1.Rectangle.fromBounds(o.targetWidth-300,o.targetHeight-a,300,a));n.begin(),n.drawTextLine("Enabled: "+i.enabled),n.drawTextLine("Force Skip: "+i.forceSkip),n.drawTextLine("Used Last Frame: "+i.used),n.drawTextLine("Tiles: "+i.rectsCount),n.drawTextLine("Invalidated Tiles: "+i.invalidatedTileIds.size),n.drawTextLine("Updated Tiles: "+i.updatedTiles),n.drawTextLine("Total Memory: "+i.totalMemoryMB+" MB"),n.drawTextLine("Total Pool: "+i.totalPoolMB+" MB"),n.end(),o.finishRendering()}function showPerformance(t){const e=t.beginRender(!0),i=new CanvasConsole(e,Rectangle_1.Rectangle.fromBounds(e.targetWidth-600,e.targetHeight-700,600,700));i.begin("rgba(240, 255, 240, 0.95)"),i.drawTextLine("section : total : self");for(const{id:t,total:e,self:o}of profiler_1.profiler.timeDigest(!0))i.drawTextLine(`${t} : ${e.toFixed(3)} : ${o.toFixed(3)}`);i.drawTextLine(""),i.drawTextLine("counter : number");for(const[t,e]of profiler_1.profiler.counters())i.drawTextLine(`${t} : ${e}`);i.drawTextLine(""),i.drawTextLine("store : numbers");for(const[t,e]of profiler_1.profiler.stored())i.drawTextLine(`${t} : ${e.join(", ")}`);profiler_1.profiler.reset(),i.end(),e.finishRendering()}function showDeviceInfo(t,e){const i=t.beginRender(!0),o=new CanvasConsole(i,Rectangle_1.Rectangle.fromBounds(i.targetWidth-600,i.targetHeight-700,600,700));if(o.begin("rgba(240, 255, 240, 0.95)"),o.drawTextLine(`Device Runtime: ${e.runtime} `),o.drawTextLine(`Device Mobile: ${e.mobile} `),o.drawTextLine(`Device Type: ${e.deviceType} `),o.drawTextLine(`Device Chromium Flavour: ${e.chromiumFlavour} `),e.debugUserAgent){const t=e.debugUserAgent.match(/.{1,60}/g);if(t){o.drawTextLine("Device UserAgent:");for(let e=0;e<t.length;e++)o.drawTextLine(`  ${t[e]}`)}}if(e.debugVendor){const t=e.debugVendor.match(/.{1,60}/g);if(t){o.drawTextLine("Device Vendor:");for(let e=0;e<t.length;e++)o.drawTextLine(`  ${t[e]}`)}}o.end(),i.finishRendering()}const getCircularReplacer=()=>{const t=new WeakSet;return(e,i)=>{if("object"==typeof i&&null!==i){if(t.has(i))return"[circular REF]";t.add(i)}return i}};function enableRepro(t,e=[],i="engine",o={idx:0,ts:0}){"engine"===i&&localStorage.setItem("$repro","const delay = n => new Promise(resolve => setTimeout(resolve, n));\n"),"object"!=typeof t||null===t||Array.isArray(t)||Object.keys(t).forEach((a=>{if(a.startsWith("__"))return;const n=`${i}.${a}`;if(e.includes(n))return;const r=t[a];"function"!=typeof r?enableRepro(r,e,n,o):t[a]=function(...t){++o.idx;const e=0===o.ts?0:Date.now()-o.ts;o.ts=Date.now();const i=e?`await delay(${e});\n`:"",a=`repro_${o.idx}`,s=localStorage.getItem("$repro")||"",l=`${n}(...${JSON.stringify(t,getCircularReplacer())});`;return localStorage.setItem("$repro",`${s}${i}const ${a} = ${l}\n`),r.apply(this,t)}}))}const createDebugActions=(muraldoc,imageCache,canvasFactory,selection,customFeedback,render,node,runtimeInfo)=>{let drawRootCache=!1,drawQuadTree=!1,drawPerformance=!1,drawDeviceInfo=!1,customDrawFn=null;function drawDebug(t,e){const i=e.surface;drawRootCache&&null!==t.cache&&(showRootCache(i,t.cache),showRootCacheStats(i,t.cache),e.setDirty()),drawQuadTree&&(showQuadTree(i.ctx,t.qt.root),e.setDirty()),drawPerformance&&(showPerformance(i),e.setDirty()),drawDeviceInfo&&(showDeviceInfo(i,runtimeInfo),e.setDirty()),null!==customDrawFn&&(i.resetTransform(),customDrawFn(i.ctx,e.setDirty))}return{draw:t=>drawDebug(muraldoc,t),api:{cacheFetching:()=>imageCache.fetching(),enableRepro:(api,exclude)=>(enableRepro(api,exclude),()=>__awaiter(void 0,void 0,void 0,(function*(){const code=localStorage.getItem("$repro")||"";yield eval(`(async () => {${code}})()`),localStorage.setItem("$repro",code)}))),forceRender:()=>render.flushRender(),toggleDrawQuadTree:()=>{drawQuadTree=!drawQuadTree,muraldoc.invalidateViewport()},toggleDrawRootCache:()=>{drawRootCache=!drawRootCache,muraldoc.invalidateViewport()},toggleDrawPerformance:()=>{drawPerformance=!drawPerformance,profiler_1.profiler.on=drawPerformance,profiler_1.profiler.reset(),muraldoc.invalidateViewport()},toggleDrawDeviceInfo:()=>{drawDeviceInfo=!drawDeviceInfo,muraldoc.invalidateViewport()},imageCacheStats:()=>imageCache.memoryStats(),zoomCacheStats:()=>{var t,e;return null!==(e=null===(t=muraldoc.cache)||void 0===t?void 0:t.getStats())&&void 0!==e?e:null},isUseCacheOn:()=>muraldoc.isUseCacheOn(),setUseCache:t=>muraldoc.setUseCache(t),wasCacheUsedLastFrame:()=>{var t;return!!(null===(t=muraldoc.cache)||void 0===t?void 0:t.getStats().used)},wasViewportOptimizationUsedLastFrame:()=>{var t;return!!(null===(t=muraldoc.viewportOptimization)||void 0===t?void 0:t.getStats().usedLastRender)},isUseViewportOptimizationOn:()=>muraldoc.isUseViewportOptimizationOn(),isUseSkipCacheHeuristicOn:()=>muraldoc.isUseSkipCacheHeuristicOn(),setUseViewportOptimization:t=>muraldoc.setUseViewportOptimization(t),isUseThrottledInvalidationOn:()=>muraldoc.isUseThrottledInvalidationOn(),setUseThrottledInvalidation:t=>muraldoc.setUseThrottledInvalidation(t),setUseSkipCacheHeuristic:t=>muraldoc.setUseSkipCacheHeuristic(t),renderDone:()=>muraldoc.renderDone,minimapDone:()=>muraldoc.minimapDone,getNumberOfHtmlCanvasElementsAlive:()=>canvasFactory.getCanvasMemoryStats().count,getRunningAnimations:()=>{let t=muraldoc.getRunningAnimations();return selection.animationsDone()||(t=new Set([...t,"selection"])),customFeedback.animationsDone()||(t=new Set([...t,"custom-feedback"])),t},animationsDone:()=>muraldoc.animationsDone&&selection.animationsDone()&&customFeedback.animationsDone(),toggleDrawSelectionDebug:()=>selection.toggleDrawDebug(),setSelectionAnimationTime:t=>selection.setDebugAnimationTime(t),setCustomFeedbackAnimationTime:t=>customFeedback.setDebugAnimationTime(t),setCustomDrawFn:t=>customDrawFn=t,getNumberOfNodesAlive:()=>muraldoc.getNodesAliveCount(),getCommitSha:()=>"cb9ab857",getNumberOfActiveTransientActions:()=>node.transientActions.getActiveCount()}}};exports.createDebugActions=createDebugActions},4018:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MCustomLayer=void 0;e.MCustomLayer=class MCustomLayer{constructor(t,e,i,o,a){this.visible=!0,this.nodes=new Map,this.layerRootNodes=[],this.drawingOrderValid=!1,this.id=t,this.backColor=e,this.blocking=i,this.visible=o,this.root=a}hasNode(t){return this.nodes.has(t.id)}nodeAdded(t){this.nodes.set(t.id,t),this.drawingOrderValid=!1}nodeRemoved(t){this.nodes.delete(t.id);const e=this.layerRootNodes.indexOf(t);e>=0&&this.layerRootNodes.splice(e,1)}nodeInvalidated(){this.drawingOrderValid=!1}getLayerRootNodes(){return this.drawingOrderValid||(this.layerRootNodes.length=0,this.updateLayerRootNodes(this.root),this.drawingOrderValid=!0),this.layerRootNodes}updateLayerRootNodes(t){if(this.nodes.has(t.id))t.visible&&this.layerRootNodes.push(t);else{const e=t.children;for(let t=0;t<e.length;t++)this.updateLayerRootNodes(e[t])}}}},3733:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MDocument=void 0;const o=i(2208),a=i(8126),n=i(3886),r=i(3641),s=i(7586),l=i(2037),c={x:0,y:0},d={x:0,y:0},h=new a.Rectangle;class MDocument{get qt(){return this.renderer.qt}get cache(){return this.renderer.rootCache}get viewportOptimization(){return this.renderer.viewportOptimization}set bounds(t){this.renderer.bounds=t.clone(),this.minimap.setMuralBounds(t.x,t.y,t.width,t.height)}get animationsDone(){return!this.root.isAnimating()}get renderDone(){return this.renderer.done}get minimapDone(){return this.minimap.done}getAllRect(){return this.applyPendingChanges(),this.root.aabb}registerViewportChangeListener(t){this.camera.registerChangeListener(t)}getRunningAnimations(){return this.root.getRunningAnimations()}constructor(t,e,i,o,a,n,c,d,h,u){this.nodesByExternalId=new Map,this.watchedAABB=new Map,this.newNodesToRegister=[],this.preRenderFn=()=>{},this.postRenderFn=()=>{},this.onContextRestoredFn=()=>{};const v=new r.RootNode;this.renderer=new l.Renderer(t,e,o,(t=>this.preRenderFn(t)),(t=>this.postRenderFn(t)),(()=>{this.root.disposeCacheSelfAndChildren(),this.minimap.disposeCache(),this.onContextRestoredFn()}),a,v,n,c,d,u,(()=>this.applyPendingChanges())),this.minimap=new s.Minimap(i,c,a,this.camera,v,n,h),v.setRootChangeListener(this.buildChangesListener())}buildChangesListener(){const updateNodeLayers=(t,e)=>{if(e(this.renderer.getLayer(t.layer)),null!==t.customLayersIds)for(let i=0;i<t.customLayersIds.length;i++){const o=this.renderer.getCustomLayer(t.customLayersIds[i]);null!==o&&e(o)}};return{nodeAdded:t=>{if(this.newNodesToRegister.push(t),updateNodeLayers(t,(e=>e.nodeAdded(t))),""!==t.externalId&&t!==this.root){if(this.nodesByExternalId.has(t.externalId)){let e=t;for(;e&&e.isPartialNode;)e=e.parent;console.error("Duplicated external id "+t.externalId+" non partial root external id "+(null==e?void 0:e.externalId)),console.error("existing node",this.nodesByExternalId.get(t.externalId)),console.error("new node",t)}this.nodesByExternalId.set(t.externalId,t)}},nodeRemoved:(t,e)=>{this.newNodesToRegister.indexOf(t)>=0?this.newNodesToRegister.splice(this.newNodesToRegister.indexOf(t),1):(this.renderer.qt.delete(t),this.renderer.invalidateRect(e),this.minimap.removeNode(t)),updateNodeLayers(t,(e=>e.nodeRemoved(t))),""!==t.externalId&&this.nodesByExternalId.delete(t.externalId)},nodeInvalidated:t=>{t!==this.root&&(this.renderer.invalidateRect(t.aabb),updateNodeLayers(t,(t=>t.nodeInvalidated())),this.minimap.updateNode(t))},nodeAABBChanged:(t,e)=>{if(this.renderer.qt.updated(t),t!==this.root){if(t.externalId&&this.watchedAABB.has(t.externalId)){const e=this.watchedAABB.get(t.externalId);if(void 0!==e)for(let i=0;i<e.length;i++)e[i](t.externalId,t)}e.intersects(t.aabb)?(h.copy(t.aabb),h.union(e),this.renderer.invalidateRect(h)):(this.renderer.invalidateRect(e),this.renderer.invalidateRect(t.aabb)),updateNodeLayers(t,(t=>t.nodeInvalidated())),this.minimap.updateNode(t)}},nodeLayerChanged:(t,e)=>{this.renderer.getLayer(e).nodeRemoved(t),this.renderer.getLayer(t.layer).nodeAdded(t),t.invalidate(!1)},nodeCustomLayerAdded:(t,e)=>{var i,o;null===(i=this.renderer.getCustomLayer(e))||void 0===i||i.nodeAdded(t),(null===(o=this.renderer.getCustomLayer(e))||void 0===o?void 0:o.visible)&&t.invalidate(!1)},nodeCustomLayerRemoved:(t,e)=>{var i,o;null===(i=this.renderer.getCustomLayer(e))||void 0===i||i.nodeRemoved(t),(null===(o=this.renderer.getCustomLayer(e))||void 0===o?void 0:o.visible)&&t.invalidate(!1)},deferUpdate:()=>this.invalidateViewport()}}static create(t,e,i,o,n,r,s,l,c,d,h,u,v,g,f,y,x,m,R){const b=new MDocument(t,e,i,o,g,f,y,x,m,R);return c&&(b.renderer.backgroundColor=c),b.bounds=a.Rectangle.fromBounds(n,r,s,l),d.forEach((t=>b.root.addChild(t))),b.applyPendingChanges(),b.renderer.warmupStrategies(),b.camera.setFullViewport(h,u,v),b.invalidateViewport(),b}destroy(){this.minimap.destroy(),this.renderer.destroy(),this.root.children.slice().forEach((t=>this.removeAndDestroyNode(t))),this.watchedAABB.clear(),this.newNodesToRegister.length=0}viewportResize(t,e){this.renderer.viewportResize(t,e)}get root(){return this.renderer.root}get cameraWidth(){return this.renderer.surface.width}get cameraHeight(){return this.renderer.surface.height}get camera(){return this.renderer.surface.camera}render(){this.renderer.render()}renderCustom(t,e){this.renderer.renderCustom(t,e)}findNodeByExternalId(t){const e=this.nodesByExternalId.get(t);return e||null}get cameraPosition(){return this.renderer.surface.cameraPosition}setCameraPosition(t,e){this.renderer.surface.setCameraPosition(t,e),this.renderer.invalidateViewport()}set cameraScale(t){this.renderer.surface.setCameraScale(t),this.renderer.invalidateViewport()}get cameraScale(){return this.renderer.surface.getCameraScale()}removeAndDestroyNode(t){const e=t.parent;t.removeFromParent(),t.destroy(),null!==e&&e.dontCleanChildrenOnUpdate&&e.dummy&&0===e.children.length&&this.removeAndDestroyNode(e)}updateOrBuildNodesFromState(t,e,i){t.forEach((t=>{const o=t.parentId?this.findNodeByExternalId(t.parentId):this.root;if(o)this.updateOrBuildNodeFromStateInternal(t,o,e,void 0);else{const o=t.parentId||"",a=i(o),n=this.updateOrBuildNodeFromStateInternal(a,this.root,e,void 0);n&&this.updateOrBuildNodeFromStateInternal(t,n,e,void 0)}})),t.forEach((t=>this.destroyUnknownChildren(t)))}destroyUnknownChildren(t){const e=this.findNodeByExternalId(t.externalId);if(e&&!e.dontCleanChildrenOnUpdate)for(let i=e.children.length-1;i>=0;i--){const o=e.children[i],a=t.children.find((t=>t.externalId===o.externalId));a?this.destroyUnknownChildren(a):o.dontCleanChildrenOnUpdate&&o.children.length>0?(o.removeFromParent(),o.dummy=!0,o.visible=!1,this.root.adoptChild(o)):this.removeAndDestroyNode(o)}}updateOrBuildNodeFromStateInternal(t,e,i,o){const a=this.findNodeByExternalId(t.externalId),n=a||i(t);a&&a.init(t),n.parent!==e&&(n.removeFromParent(),e.adoptChild(n,o));for(let e=0;e<t.children.length;++e){const o=t.children[e];this.updateOrBuildNodeFromStateInternal(o,n,i,n.isPartialNode?void 0:e)}return n}isUseCacheOn(){return this.renderer.isUseCacheOn()}setUseCache(t){this.renderer.setUseCache(t)}isUseViewportOptimizationOn(){return this.renderer.isUseViewportOptimizationOn()}setUseViewportOptimization(t){this.renderer.setUseViewportOptimization(t)}isUseThrottledInvalidationOn(){return this.renderer.isUseViewportOptimizationOn()}setUseThrottledInvalidation(t){this.renderer.setUseThrottledInvalidation(t)}isUseSkipCacheHeuristicOn(){return this.renderer.isUseSkipCacheHeuristicOn()}setUseSkipCacheHeuristic(t){this.renderer.setUseSkipCacheHeuristic(t)}offsetBounds(t,e){const i=this.renderer.bounds.clone();i.setLocation(t,e),this.bounds=i}resizeBounds(t,e){const i=this.renderer.bounds.clone();i.setDimension(t,e),this.bounds=i}setBackground(t){this.renderer.backgroundColor=t}setClearColor(t){this.renderer.clearColor=t}visitNodesAtPos(t,e,i,o,a,n){if(!a)for(let a=this.renderer.customLayers.length-1;a>=0;a--){const r=this.renderer.customLayers[a];if(!r.visible)continue;const s=r.getLayerRootNodes();for(let a=s.length-1;a>=0;a--){const l=s[a];if(this.visitNodesInNodeAtPos(l,t,e,i,o,r,null,n,!0))return}if(r.blocking)return}for(let a=this.renderer.layersDrawingOrder.length-1;a>=0;a--){const r=this.renderer.layersDrawingOrder[a],s=r.getLayerRootNodes();for(let a=s.length-1;a>=0;a--){const l=s[a];if(this.visitNodesInNodeAtPos(l,t,e,i,o,null,r.layer,n,!0))return}}}visitNodesInNodeAtPos(t,e,i,o,a,n,r,s,l){if(!t.aabbWithoutRenderOverflow.containsPointTolerance(e,i,o))return!1;null===n||t.isPartialNode||(l=n.hasNode(t)),null!==r&&(l=t.layer===r);for(let c=t.children.length-1;c>=0;c--){const d=t.children[c];if(this.visitNodesInNodeAtPos(d,e,i,o,a,n,r,s,l))return!0}return t!==this.root&&(!!l&&(a?s(t):(c.x=e,c.y=i,t.globalToLocalTransformInPlace(c),!!t.hitTest(c.x,c.y,this.cameraScale)&&s(t))))}visitNodesAtRect(t,e,i){const o=this.renderer.qtIterator,a=(0,n.getNextQtFrame)();if(o.forEachVisibleNode(t,(e=>{const i=e;(0===i.renderOverflow||i.aabbWithoutRenderOverflow.intersects(t))&&(e.qtFrame=a)})),!e)for(let e=this.renderer.customLayers.length-1;e>=0;e--){const o=this.renderer.customLayers[e];if(!o.visible)continue;const n=o.getLayerRootNodes();for(let e=n.length-1;e>=0;e--){const r=n[e];if(r.qtFrame!==a)continue;if(this.visitNodesInNodeAtRect(r,t,o,null,i,a,!0))return}if(o.blocking)return}for(let e=this.renderer.layersDrawingOrder.length-1;e>=0;e--){const o=this.renderer.layersDrawingOrder[e],n=o.getLayerRootNodes();for(let e=n.length-1;e>=0;e--){const r=n[e];if(r.qtFrame!==a)continue;if(this.visitNodesInNodeAtRect(r,t,null,o.layer,i,a,!0))return}}}visitNodesInNodeAtRect(t,e,i,a,n,r,s){null===i||t.isPartialNode||(s=i.hasNode(t)),null!==a&&(s=t.layer===a);for(let o=t.children.length-1;o>=0;o--){const l=t.children[o];if(l.qtFrame!==r)continue;if(this.visitNodesInNodeAtRect(l,e,i,a,n,r,s))return!0}return t!==this.root&&(!!s&&(t.axisAligned?(c.x=e.x,c.y=e.y,t.globalToLocalTransformInPlace(c),d.x=e.x1,d.y=e.y1,t.globalToLocalTransformInPlace(d),!!t.hitTestRect(c.x,c.y,d.x-c.x,d.y-c.y,this.cameraScale)&&n(t)):!!o.OBB.overlapsAABBAndCorners(e,t.getAABBCoords([],!1))&&n(t)))}getNode(t,e,i,o){this.applyPendingChanges();let a=null;const n=o?t=>!!o(t)&&(a=t,!0):t=>(a=t,!0),r=null!=i?i:20/this.camera.scale;return this.visitNodesAtPos(t,e,r,!1,!1,n),a===this.root?null:a}getNodes(t,e,i,o=!1,a=!1){this.applyPendingChanges();const n=[],r=null!=i?i:20/this.camera.scale;return this.visitNodesAtPos(t,e,r,o,a,(t=>t===this.root||(n.push(t),!1))),n}getNodesAtRect(t,e,i=!1){this.applyPendingChanges();const o=[];return this.visitNodesAtRect(t,i,(t=>t===this.root||(e&&!e(t)||o.push(t),!1))),o}getAllNonPartialNodesAtRectUnordered(t,e){this.applyPendingChanges();const i=[],a=this.renderer.qtIterator,r=(0,n.getNextQtFrame)();return a.forEachVisibleNode(t,(a=>{const n=a;!n.isPartialNode&&n.hint===e&&n.qtFrame!==r&&n.aabbSelfOnlyWithoutRenderOverflow.intersects(t)&&(n.axisAligned||o.OBB.overlapsAABBAndCorners(t,n.getAABBCoords([],!1)))&&(n.qtFrame=r,i.push(n))})),i}getFirstNonPartialNodeAtRect(t,e,i){this.applyPendingChanges();const o={maybeNode:null},a=this.renderer.qtQuittableIterator,r=(0,n.getNextQtFrame)();return a.forEachVisibleNode(t,(a=>{const n=a;return!n.isPartialNode&&n.hint===e&&n.qtFrame!==r&&n.aabbSelfOnlyWithoutRenderOverflow.intersects(t)&&i(n)?(n.qtFrame=r,o.maybeNode=n,1):0})),o.maybeNode}getNodesAliveCount(){return this.nodesByExternalId.size}showGridLines(){this.renderer.showGridLines()}hideGridLines(){this.renderer.hideGridLines()}setGridLinesOptions(t){this.renderer.setGridLinesOptions(t)}invalidateViewport(){this.renderer.invalidateViewport()}showCustomLayer(t){this.renderer.showCustomLayer(t)}hideCustomLayer(t){this.renderer.hideCustomLayer(t)}addWatchNodeAABB(t,e){const i=this.watchedAABB.get(t),o=i||[];i||this.watchedAABB.set(t,o),o.push(e)}removeWatchNodeAABB(t,e){const i=this.watchedAABB.get(t);if(!i)return;const o=i.indexOf(e);o>=0&&i.splice(o,1),0===i.length&&this.watchedAABB.delete(t)}applyPendingChanges(){if(this.root.applyPendingTransforms(),this.newNodesToRegister.length>0){for(let t=0;t<this.newNodesToRegister.length;t++){const e=this.newNodesToRegister[t];this.renderer.qt.insert(e),this.renderer.invalidateRect(e.aabb),this.minimap.addNode(e),e.onRegisteredInMDocument()}this.newNodesToRegister.length=0}this.root.applyPendingInvalidate()}mountEngine(t){this.renderer.mountEngine(t)}unmountEngine(){this.renderer.unmountEngine()}}e.MDocument=MDocument},9097:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MLayer=void 0;e.MLayer=class MLayer{constructor(t,e,i){this.drawingOrder=0,this.nodes=new Map,this.layerRootNodes=[],this.drawingOrderValid=!1,this.layer=t,this.drawingOrder=e,this.root=i}nodeAdded(t){this.nodes.set(t.id,t),this.drawingOrderValid=!1}nodeRemoved(t){this.nodes.delete(t.id);const e=this.layerRootNodes.indexOf(t);e>=0&&this.layerRootNodes.splice(e,1)}nodeInvalidated(){this.drawingOrderValid=!1}getLayerRootNodes(){return this.drawingOrderValid||(this.layerRootNodes.length=0,this.updateLayerRootNodes(this.root),this.drawingOrderValid=!0),this.layerRootNodes}updateLayerRootNodes(t){if(t.layer===this.layer)t.visible&&this.layerRootNodes.push(t);else{const e=t.children;for(let t=0;t<e.length;t++)this.updateLayerRootNodes(e[t])}}}},3012:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MNode=e.normalizeRotation=void 0;const o=i(9271),a=i(9314),n=i(8126),r=i(660),s=i(7779),l={x:0,y:0},c={x:0,y:0},d={x:0,y:0},h={x:0,y:0},u=1e-5,v=function(){let t=0;return function(){return t++}}();e.normalizeRotation=t=>((t%=360)<0&&(t+=360),t);e.MNode=class MNode{constructor(t=""){this.lastState=null,this.id=v(),this.hint="",this.state=0,this.children=[],this.ownLayer_=0,this.parent_=null,this.changeListener=null,this.overlayRenderFn_=null,this.destroyFns=null,this.unitLength=1,this.cache=null,this.animationController_=null,this.animations_=null,this.customLayersIds_=null,this.viewportVisibilityChangedFns=null,this.getViewportScaleFn=null,this.width_=0,this.height_=0,this.x_=0,this.y_=0,this.rotation_=0,this.scaleX_=1,this.scaleY_=1,this.animationScale_=1,this.animationDeltaX_=0,this.animationDeltaY_=0,this.hideAtZoomLevel_=null,this.border_=0,this.renderOverflow_=0,this.alpha_=1,this.globalAlpha_=1,this.shadowProperties_=null,this.dontCleanChildrenOnUpdate_=!1,this.layer_=0,this.clip_=null,this.localMatrix_=o.Matrix3.create(),this.globalMatrix_=o.Matrix3.create(),this.inverseGlobalMatrix_=o.Matrix3.create(),this.stackingLayer_=0,this.stackingOrder_=0,this.flags_=0,this.aabb=new n.Rectangle,this.aabbWithoutRenderOverflow=new n.Rectangle,this.aabbSelfOnlyWithoutRenderOverflow=new n.Rectangle,this.qtFrame=-1,this.qtParent=null,this.qtIndexInParent=-1,this.minimapShape_=null,this.selectionShapes_=null,this.selectionDrawNodeIdsOnTopOnSelected_=null,this.selectionDrawNodeIdsOnBottomOnSelected_=null,this.lastReportedAABB=new n.Rectangle,this.externalId=t,this.visible=!0,this.setAxisAligned(!0),this.setInverseTransformDirty(!0),this.setLocalTransformDirty(!0)}init(t){this.initInternal(t),this.lastState=t}initInternal(t){this.animations_=t.animations,this.hint=t.hint,this.state=t.state,this.minimapShape_=t.minimapShape,this.selectionShapes_=t.selectionShapes,this.selectionDrawNodeIdsOnTopOnSelected_=t.selectionDrawNodeIdsOnTopOnSelected,this.selectionDrawNodeIdsOnBottomOnSelected_=t.selectionDrawNodeIdsOnBottomOnSelected,this.dontCleanChildrenOnUpdate_=t.dontCleanChildrenOnUpdate,this.hideAtZoomLevel_=t.hideAtZoomLevel,this.setClip(t.clip),this.setStackingOrder(t.stackingOrder),this.setStackingLayer(t.stackingLayer),this.setHasNonTrivialRotation(t.hasNonTrivialRotation),this.setPosition(t.transform.x,t.transform.y),this.setSize(t.transform.width,t.transform.height),this.setScale(t.transform.scale,t.transform.scale),this.setRotation(t.transform.rotation),this.setBorder(t.border),t.dummy!==this.dummy&&(this.dummy=t.dummy,this.visible=!this.dummy)}get x(){return this.x_}get y(){return this.y_}get width(){return this.width_}get height(){return this.height_}get border(){return this.border_}get renderOverflow(){return this.renderOverflow_}get rotation(){return this.rotation_}get scaleX(){return this.scaleX_}get scaleY(){return this.scaleY_}get animationScale(){return this.animationScale_}get animationDeltaX(){return this.animationDeltaX_}get animationDeltaY(){return this.animationDeltaY_}get axisAligned(){return this.isFlagSet(2)}setAxisAligned(t){this.setFlagValue(2,t)}get simpleTransform(){return this.isFlagSet(4)}setSimpleTransform(t){return this.setFlagValue(4,t)}get isInvalidated(){return this.isFlagSet(1024)}setInvalidated(t){return this.setFlagValue(1024,t)}get isChildrenInvalidated(){return this.isFlagSet(2048)}setChildrenInvalidated(t){return this.setFlagValue(2048,t)}get isTransformDirty(){return this.isFlagSet(16)}setTransformDirty(t){return this.setFlagValue(16,t)}get isChildrenTransformDirty(){return this.isFlagSet(64)}setChildrenTransformDirty(t){return this.setFlagValue(64,t)}get isLocalTransformDirty(){return this.isFlagSet(8)}setLocalTransformDirty(t){return this.setFlagValue(8,t)}get isInverseTransformDirty(){return this.isFlagSet(32)}setInverseTransformDirty(t){return this.setFlagValue(32,t)}setHasClipping(t){return this.setFlagValue(4096,t)}get isHasClipping(){return this.isFlagSet(4096)}get hasNonTrivialRotation(){return this.isFlagSet(8192)}setHasNonTrivialRotation(t){this.setFlagValue(8192,t)}get stackingLayer(){return this.stackingLayer_}get stackingOrder(){return this.stackingOrder_}get parent(){return this.parent_}get ownLayer(){return this.ownLayer_}set ownLayer(t){this.ownLayer_!==t&&(this.ownLayer_=t,this.onOwnLayerChanged())}get layer(){return this.layer_}get isPartialNode(){return this.isFlagSet(128)}set isPartialNode(t){this.setFlagValue(128,t)}get alpha(){return this.alpha_}set alpha(t){Number.isFinite(t)||(console.error("Received a NaN in the alpha value of "+this.externalId),t=1),(t=Math.max(Math.min(t,1),0))!==this.alpha_&&(this.alpha_=t,this.onLocalAlphaChanged(),this.invalidate(!1))}setClip(t){t!==this.clip_&&(this.clip_=t,this.onLocalClipChanged(),this.invalidate(!1))}get shadowProperties(){return this.shadowProperties_}set shadowProperties(t){var e,i;let o=!1;(null==t?void 0:t.transition)===(null===(e=this.shadowProperties_)||void 0===e?void 0:e.transition)&&(null==t?void 0:t.transitionPercent)===(null===(i=this.shadowProperties_)||void 0===i?void 0:i.transitionPercent)||(o=!0),this.shadowProperties_=t,o&&this.invalidate(!1)}get visible(){return this.isFlagSet(1)}set visible(t){this.visible!==t&&(this.setFlagValue(1,t),this.invalidate(!1))}isVisibleAtZoomLevel(t){return this.visible&&(null===this.hideAtZoomLevel_||t>this.hideAtZoomLevel_)}get hideAtZoomLevel(){return this.hideAtZoomLevel_}get disabled(){return this.isFlagSet(16384)}set disabled(t){this.disabled!==t&&this.setFlagValue(16384,t)}get dummy(){return this.isFlagSet(256)}set dummy(t){this.dummy!==t&&(this.setFlagValue(256,t),this.invalidate(!1))}get visibleInViewport(){return this.isFlagSet(512)}setVisibleInViewport(t){this.setFlagValue(512,t)}get minimapShape(){return this.minimapShape_}get selectionShapes(){return this.selectionShapes_}get selectionDrawNodeIdsOnTopOnSelected(){return this.selectionDrawNodeIdsOnTopOnSelected_}get selectionDrawNodeIdsOnBottomOnSelected(){return this.selectionDrawNodeIdsOnBottomOnSelected_}get customLayersIds(){return this.customLayersIds_}get dontCleanChildrenOnUpdate(){return this.dontCleanChildrenOnUpdate_}clearFlag(t){this.flags_&=~t}setFlag(t){this.flags_|=t}isFlagSet(t){return 0!=(this.flags_&t)}setFlagValue(t,e){e?this.setFlag(t):this.clearFlag(t)}setChangeListener(t){this.changeListener=t,t.nodeAdded(this);const e=this.children;for(let i=0;i<e.length;i++)e[i].setChangeListener(t)}onRegisteredInMDocument(){this.lastReportedAABB.copy(this.aabb)}removeChangeListener(){if(null!==this.changeListener){this.changeListener.nodeRemoved(this,this.lastReportedAABB),this.lastReportedAABB.setEmpty(),this.changeListener=null;const t=this.children;for(let e=0;e<t.length;e++)t[e].removeChangeListener()}}setOverlayRenderFn(t){t!==this.overlayRenderFn_&&(this.overlayRenderFn_=t,this.invalidate(!1))}removeOverlayRenderFn(){null!==this.overlayRenderFn_&&(this.overlayRenderFn_=null,this.invalidate(!1))}setPosition(t,e){return Number.isFinite(t)||(console.error("Received a NaN in the X coordinate of "+this.externalId),t=0),Number.isFinite(e)||(console.error("Received a NaN in the Y coordinate of "+this.externalId),e=0),this.x_===t&&this.y_===e||(this.x_=t,this.y_=e,this.invalidateTransform()),this}setSize(t,e){return Number.isFinite(t)||(console.error("Received a NaN in the WIDTH of "+this.externalId),t=0),Number.isFinite(e)||(console.error("Received a NaN in the HEIGHT of "+this.externalId),e=0),this.width_===t&&this.height_===e||(this.width_=t,this.height_=e,null!==this.cache&&this.cache.invalidate(),this.invalidateTransform()),this}invalidateTransform(){var t;this.setTransformDirty(!0),this.setLocalTransformDirty(!0);let e=this.parent_;if(null!==e&&!e.isChildrenTransformDirty)for(e.setChildrenTransformDirty(!0),e=e.parent_,null===(t=this.changeListener)||void 0===t||t.deferUpdate();null!==e&&!e.isChildrenTransformDirty;)e.setChildrenTransformDirty(!0),e=e.parent_}setBorder(t){return Number.isFinite(t)||(console.error("Received a NaN in the BORDER of "+this.externalId),t=0),this.border_!==t&&(this.border_=t,null!==this.cache&&this.cache.invalidate(),this.invalidateTransform()),this}setRenderOverflow(t){return Number.isFinite(t)||(console.error("Received a NaN in the RENDER OVERFLOW of "+this.externalId),t=0),this.renderOverflow_!==t&&(this.renderOverflow_=t,null!==this.cache&&this.cache.invalidate(),this.invalidateTransform()),this}setAnimationScale(t){Number.isFinite(t)||(console.error("Received a NaN in the ANIMATION SCALE of "+this.externalId),t=1);const e=Math.max(t,u);return this.animationScale_!==e&&(this.animationScale_=e,this.invalidateTransform()),this}setAnimationPositionDelta(t,e){return Number.isFinite(t)||(console.error("Received a NaN in the X animation coordinate of "+this.externalId),t=0),Number.isFinite(e)||(console.error("Received a NaN in the Y animation coordinate of "+this.externalId),e=0),this.animationDeltaX_===t&&this.animationDeltaY_===e||(this.animationDeltaX_=t,this.animationDeltaY_=e,this.invalidateTransform()),this}setScale(t,e){Number.isFinite(t)||(console.error("Received a NaN in the X SCALE of "+this.externalId),t=1),Number.isFinite(e)||(console.error("Received a NaN in the Y SCALE of "+this.externalId),e=1);const i=Math.max(t,u),o=Math.max(e,u);return this.scaleX_===i&&this.scaleY_===o||(this.scaleX_=i,this.scaleY_=o,this.invalidateTransform()),this}setRotation(t){return Number.isFinite(t)||(console.error("Received a NaN in the ROTATION of "+this.externalId),t=0),t=(0,e.normalizeRotation)(t),this.rotation_!==t&&(this.rotation_=t,this.invalidateTransform()),this}updateAxisAligned(){this.setAxisAligned(0===this.rotation_&&(null===this.parent_||this.parent_.axisAligned))}onOwnLayerChanged(){this.updateSelfAndChildrenLayer()}updateSelfAndChildrenLayer(){this.updateLayer();const t=this.children;for(let e=0;e<t.length;e++)t[e].updateSelfAndChildrenLayer()}updateLayer(){const t=0===this.ownLayer_?null!=this.parent_?this.parent_.layer_:1:this.ownLayer_;if(t!==this.layer_){const e=this.layer_;this.layer_=t,null!==this.changeListener&&this.changeListener.nodeLayerChanged(this,e)}}onLocalAlphaChanged(){this.updateSelfAndChildrenGlobalAlpha()}updateSelfAndChildrenGlobalAlpha(){this.globalAlpha_=(null!=this.parent_?this.parent_.globalAlpha_:1)*this.alpha;const t=this.children;for(let e=0;e<t.length;e++)t[e].updateSelfAndChildrenGlobalAlpha()}onLocalClipChanged(){this.updateSelfAndChildrenClip()}updateSelfAndChildrenClip(){const t=null!==this.clip_,e=null!==this.parent_&&this.parent_.isHasClipping;this.setHasClipping(t||e);const i=this.children;for(let t=0;t<i.length;t++)i[t].updateSelfAndChildrenClip()}updateAABBAndExpandWithChildren(){this.updateAABBToWidthHeightBorder();const t=this.children;if(t.length>0){const e=this.aabb,i=this.aabbWithoutRenderOverflow;for(let o=0;o<t.length;o++)e.union(t[o].aabb),i.union(t[o].aabbWithoutRenderOverflow)}this.reportAABBChanged()}updateGlobalTransform(){const t=this.globalMatrix_,e=this.localMatrix_;if(this.updateAxisAligned(),null===this.parent_)o.Matrix3.copy(e,t),this.setSimpleTransform(this.axisAligned&&1===t[o.M3_NR_SX]&&1===t[o.M3_NR_SY]),this.updateUnitLength();else if(this.axisAligned){const i=this.parent_.globalMatrix_;o.Matrix3.multiplyNonRotated(t,i,e),this.setSimpleTransform(1===t[o.M3_NR_SX]&&1===t[o.M3_NR_SY]),t[o.M3_NR_SX]!==this.unitLength&&(this.unitLength=t[o.M3_NR_SX],null!==this.cache&&this.cache.invalidate())}else{const i=this.parent_.globalMatrix_;o.Matrix3.multiply(t,i,e),this.setSimpleTransform(!1),this.updateUnitLength()}this.setInverseTransformDirty(!0)}updateUnitLength(){const t=this.unitLength;if(this.axisAligned)this.unitLength=this.globalMatrix_[o.M3_NR_SX];else{l.x=1,l.y=0,c.x=0,c.y=0,o.Matrix3.transformPointInPlace(this.globalMatrix_,l),o.Matrix3.transformPointInPlace(this.globalMatrix_,c);const t=c.x-l.x,e=c.y-l.y;this.unitLength=Math.sqrt(t*t+e*e)}this.unitLength!==t&&null!==this.cache&&this.cache.invalidate()}getInverseMatrix(){return this.isInverseTransformDirty&&(o.Matrix3.inverse(this.globalMatrix_,this.inverseGlobalMatrix_),this.setInverseTransformDirty(!1)),this.inverseGlobalMatrix_}updateLocalTransform(){if(this.isLocalTransformDirty)return 0!==this.rotation?this.updateLocalTransformRotated():this.updateLocalTransformNotRotated(),this.setLocalTransformDirty(!1),!0}updateLocalTransformNotRotated(){o.Matrix3.setTransformNotRotated(this.localMatrix_,this.x_+this.animationDeltaX_,this.y_+this.animationDeltaY_,this.scaleX_*this.animationScale_,this.scaleY_*this.animationScale_)}updateLocalTransformRotated(){o.Matrix3.setTransformRotated(this.localMatrix_,this.x_+this.animationDeltaX_,this.y_+this.animationDeltaY_,this.scaleX_*this.animationScale_,this.scaleY_*this.animationScale_,this.rotation_*Math.PI/180)}updateAABBToWidthHeightBorder(){const t=this.border_,e=t+this.renderOverflow_,i=this.globalMatrix_;if(this.axisAligned)this.aabb.setBounds(i[o.M3_TX]-e*i[o.M3_NR_SX],i[o.M3_TY]-e*i[o.M3_NR_SY],(this.width+2*e)*i[o.M3_NR_SX],(this.height+2*e)*i[o.M3_NR_SY]);else{l.x=-e,l.y=-e,o.Matrix3.transformPointInPlace(i,l),c.x=this.width+e,c.y=-e,o.Matrix3.transformPointInPlace(i,c),d.x=this.width+e,d.y=this.height+e,o.Matrix3.transformPointInPlace(i,d),h.x=-e,h.y=this.height+e,o.Matrix3.transformPointInPlace(i,h);const t=Math.min(l.x,c.x,d.x,h.x),a=Math.min(l.y,c.y,d.y,h.y),n=Math.max(l.x,c.x,d.x,h.x),r=Math.max(l.y,c.y,d.y,h.y);this.aabb.setBounds(t,a,Math.abs(n-t),Math.abs(r-a))}if(0===this.renderOverflow_)this.aabbWithoutRenderOverflow.copy(this.aabb);else if(this.axisAligned)this.aabbWithoutRenderOverflow.setBounds(i[o.M3_TX]-t*i[o.M3_NR_SX],i[o.M3_TY]-t*i[o.M3_NR_SY],(this.width+2*t)*i[o.M3_NR_SX],(this.height+2*t)*i[o.M3_NR_SY]);else{l.x=-t,l.y=-t,o.Matrix3.transformPointInPlace(i,l),c.x=this.width+t,c.y=-t,o.Matrix3.transformPointInPlace(i,c),d.x=this.width+t,d.y=this.height+t,o.Matrix3.transformPointInPlace(i,d),h.x=-t,h.y=this.height+t,o.Matrix3.transformPointInPlace(i,h);const e=Math.min(l.x,c.x,d.x,h.x),a=Math.min(l.y,c.y,d.y,h.y),n=Math.max(l.x,c.x,d.x,h.x),r=Math.max(l.y,c.y,d.y,h.y);this.aabbWithoutRenderOverflow.setBounds(e,a,Math.abs(n-e),Math.abs(r-a))}this.aabbSelfOnlyWithoutRenderOverflow.copy(this.aabbWithoutRenderOverflow)}transformPointsInPlace(t){for(let e=0,i=t.length;e<i;++e)o.Matrix3.transformPointInPlace(this.globalMatrix_,t[e])}getNonRotatedGlobalSizeWithBorder(t){const e=this.border_;if(this.axisAligned)t.width=this.aabbSelfOnlyWithoutRenderOverflow.width,t.height=this.aabbSelfOnlyWithoutRenderOverflow.height;else{let i=this.scaleX,o=this.scaleY,a=this.parent_;for(;null!==a;)i*=a.scaleX,o*=a.scaleY,a=a.parent_;t.width=Math.abs((this.width+2*e)*i),t.height=Math.abs((this.height+2*e)*o)}}getAABBCoords(t,e){for(;t.length<4;)t.push({x:0,y:0});const i=this.border_+(e?this.renderOverflow_:0);return t[0].x=-i,t[0].y=-i,t[1].x=this.width+i,t[1].y=-i,t[2].x=this.width+i,t[2].y=this.height+i,t[3].x=-i,t[3].y=this.height+i,this.transformPointsInPlace(t),t}setStackingOrder(t){return Number.isFinite(t)&&void 0!==t||(console.error("Received a NaN in the stackingOrder of "+this.externalId),t=0),this.stackingOrder_!==t&&(this.stackingOrder_=t,this.onStackingOrderChanged()),this}setStackingLayer(t){return Number.isFinite(t)||(console.error("Received a NaN in the stackingLayer of "+this.externalId),t=0),this.stackingLayer_!==t&&(this.stackingLayer_=t,this.onStackingOrderChanged()),this}onStackingOrderChanged(){null!==this.parent_&&this.parent_.onChildrenStackingOrderChanged(this)}onChildrenStackingOrderChanged(t){const e=this.children,i=e.indexOf(t),o=i-1,a=i+1,n=e.length-1,r=!(o>=0)||e[o].goesBefore(t),s=!(a<=n)||t.goesBefore(e[a]);if(!r||!s){if(r)if(e[n].goesBefore(t,!0))e.splice(i,1),e.push(t);else for(let o=i;o<n;++o){const i=e[o+1];if(t.goesBefore(i))break;e[o]=i,e[o+1]=t}else if(t.goesBefore(e[0],!0))e.splice(i,1),e.unshift(t);else for(let o=i;o>0;--o){const i=e[o-1];if(i.goesBefore(t))break;e[o]=i,e[o-1]=t}t.invalidate()}}localToGlobalTransformInPlace(t){if(this.simpleTransform){const e=this.globalMatrix_;t.x+=e[o.M3_TX],t.y+=e[o.M3_TY]}else o.Matrix3.transformPointInPlace(this.globalMatrix_,t)}localToGlobalTransform(t){const e=a.Point.clone(t);return this.localToGlobalTransformInPlace(e),e}localToGlobalRotateInPlace(t){this.simpleTransform||o.Matrix3.rotateAndScalePointInPlace(this.globalMatrix_,t)}localToGlobalRotate(t){const e=a.Point.clone(t);return this.localToGlobalRotateInPlace(e),e}globalToLocalTransformInPlace(t){if(this.simpleTransform){const e=this.globalMatrix_;t.x-=e[o.M3_TX],t.y-=e[o.M3_TY]}else o.Matrix3.transformPointInPlace(this.getInverseMatrix(),t)}globalToLocalTransform(t){const e=a.Point.clone(t);return this.globalToLocalTransformInPlace(e),e}localToGlobalDirection(t){const e=this.localToGlobalTransform({x:0,y:0}),i=this.localToGlobalTransform(t);return a.Point.normalize({x:i.x-e.x,y:i.y-e.y})}globalToLocalDirection(t){const e=this.globalToLocalTransform({x:0,y:0}),i=this.globalToLocalTransform(t);return a.Point.normalize({x:i.x-e.x,y:i.y-e.y})}addChild(t,e){if(null===t.parent_)return this.adoptChild(t,e);console.error(`node with parent added to ${this.id}`)}adoptChild(t,e){void 0===e||e>=this.children.length?this.children.push(t):this.children.splice(e,0,t),t.parent_=this,null!==this.changeListener&&t.setChangeListener(this.changeListener),this.onChildrenStackingOrderChanged(t),t.isInvalidated&&t.invalidate(!1),t.invalidateTransform(),t.updateSelfAndChildrenGlobalAlpha(),t.updateSelfAndChildrenLayer(),t.updateSelfAndChildrenClip()}getChildIndex(t){const e=this.children.indexOf(t);return-1===e?void 0:e}removeChild(t){const e=this.children.indexOf(t);-1!==e&&this.removeChildAt(e)}removeChildAt(t){if(t<0||t>=this.children.length)return;const e=this.children[t];e.parent_=null,e.removeChangeListener(),this.children.splice(t,1),e.invalidateTransform(),e.updateSelfAndChildrenGlobalAlpha(),e.updateSelfAndChildrenLayer(),e.updateSelfAndChildrenClip(),this.invalidateTransform()}removeFromParent(){null!==this.parent_&&this.parent_.removeChild(this)}reportAABBChanged(){null===this.changeListener||this.aabb.equals(this.lastReportedAABB)||(this.changeListener.nodeAABBChanged(this,this.lastReportedAABB),this.lastReportedAABB.copy(this.aabb))}render(t,e,i,a=!0){if(null!==this.hideAtZoomLevel_&&t.cameraScale<this.hideAtZoomLevel_)return;if(!e(this))return;const n=i(this,a);if(n&&this.willRender()){const e=this.globalMatrix_;this.simpleTransform?t.translate(e[o.M3_TX],e[o.M3_TY]):(t.saveTransform(),t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),t.setGlobalAlpha(this.globalAlpha_),this.isHasClipping&&(t.saveClipAndTransform(),this.setupClip(t));const i=this.cache;null!==i&&this.renderCache(i,t)||this.renderImpl(t),this.isHasClipping&&t.restoreClipAndTransform(),this.simpleTransform?t.translate(-e[o.M3_TX],-e[o.M3_TY]):t.restoreTransform()}const r=this.children;for(let o=0;o<r.length;o++)r[o].render(t,e,i,n);if(n&&null!==this.overlayRenderFn_){const e=this.globalMatrix_;this.simpleTransform?t.translate(e[o.M3_TX],e[o.M3_TY]):(t.saveTransform(),t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),t.setGlobalAlpha(this.globalAlpha_),this.overlayRenderFn_(this,t),this.simpleTransform?t.translate(-e[o.M3_TX],-e[o.M3_TY]):t.restoreTransform()}}renderCache(t,e){if(t.valid||t.update(this.width*this.unitLength,this.height*this.unitLength,(this.border_+this.renderOverflow_)*this.unitLength,this.renderImpl.bind(this)),!t.use(e))return!1;const i=t.getBestMipmap(e);if(null===i)return!1;const o=this.border_+this.renderOverflow_;return e.drawImageDest(i,0,0,i.width,i.height,-o,-o,this.width+2*o,this.height+2*o),!0}setupClip(t){null!==this.parent_&&this.parent_.isHasClipping?this.setupClipRecursive(t,0):this.setupClipContext(t)}setupClipContext(t){if("ellipse"===this.clip_)t.clipEllipse(0,0,this.width,this.height);else t.clipRectangle(0,0,this.width,this.height)}setupClipRecursive(t,e){if(null!==this.parent_&&this.parent_.isHasClipping&&this.parent_.setupClipRecursive(t,e+1),null!==this.clip_||0===e){const e=this.globalMatrix_;t.setupViewportTransform(),t.transform(e[0],e[3],e[1],e[4],e[2],e[5]),this.setupClipContext(t)}}postRender(t){if(null!==this.overlayRenderFn_){const e=this.globalMatrix_;t.transform(e[0],e[3],e[1],e[4],e[2],e[5]),t.setGlobalAlpha(this.globalAlpha_),this.overlayRenderFn_(this,t)}}invalidate(t=!0){var e;t&&null!==this.cache&&this.cache.invalidate(),this.setInvalidated(!0);let i=this.parent_;if(null!==i&&!i.isChildrenInvalidated)for(i.setChildrenInvalidated(!0),i=i.parent_,null===(e=this.changeListener)||void 0===e||e.deferUpdate();null!==i&&!i.isChildrenInvalidated;)i.setChildrenInvalidated(!0),i=i.parent_}disposeCacheSelfAndChildren(){this.disposeCache();for(let t=0;t<this.children.length;t++)this.children[t].disposeCacheSelfAndChildren()}registerDestroy(t){null===this.destroyFns&&(this.destroyFns=[]),this.destroyFns.push(t)}unregisterDestroy(t){if(null!==this.destroyFns){const e=this.destroyFns.indexOf(t);e>=0&&this.destroyFns.splice(e,1)}}registerViewportVisibilityChanged(t){null===this.viewportVisibilityChangedFns&&(this.viewportVisibilityChangedFns=[]),this.viewportVisibilityChangedFns.push(t),t(this.visibleInViewport,this.getViewportScaleFn)}unregisterViewportVisibilityChanged(t){if(null!==this.viewportVisibilityChangedFns){const e=this.viewportVisibilityChangedFns.indexOf(t);e>=0&&this.viewportVisibilityChangedFns.splice(e,1)}}viewportVisibilityChanged(t,e=null){if(this.setVisibleInViewport(t),this.getViewportScaleFn=e,null!==this.viewportVisibilityChangedFns){const e=this.viewportVisibilityChangedFns;for(let i=0;i<e.length;i++)e[i](t,this.getViewportScaleFn)}}destroy(){var t;this.children.forEach((t=>t.destroy())),null!==this.destroyFns&&(this.destroyFns.forEach((t=>t())),this.destroyFns=null),null!==this.animationController_&&this.animationController_.cancelAll(),this.children.length=0,this.parent_=null,this.changeListener=null,null===(t=this.cache)||void 0===t||t.dispose()}unitLengthForContext(t){return t.renderScale*this.unitLength}enableCache(t,e){if(null===this.cache){if(e.mobile&&"safari"===e.runtime)return;this.cache=new r.MNodeCache(t,e)}}disposeCache(){null!==this.cache&&this.cache.disposeBitmap()}get animate(){return this.animationController_||(this.animationController_=new s.NodeAnimationController(this))}getAnimation(t){return this.animations_&&this.animations_[t]||null}isAnimating(){return!(!this.animationController_||this.animationController_.isDone())||this.children.some((t=>t.isAnimating()))}getRunningAnimations(){const t=new Set;return this.getRunningAnimationsInternal(t),t}getRunningAnimationsInternal(t){this.animationController_&&this.animate.getRunningAnimations().forEach((e=>t.add(e))),this.children.forEach((e=>e.getRunningAnimationsInternal(t)))}toggleState(t,e,i){if(this.state===t)return void(this.visible=e);const o=this.children;for(let a=0;a<o.length;a++)(0===i||o[a].isPartialNode)&&o[a].toggleState(t,e,i)}goesBefore(t,e=!1){return this.stackingLayer_===t.stackingLayer_?e?this.stackingOrder_<t.stackingOrder_:this.stackingOrder_<=t.stackingOrder_:e?this.stackingLayer_<t.stackingLayer_:this.stackingLayer_<=t.stackingLayer_}addToCustomLayer(t){var e;null===this.customLayersIds_&&(this.customLayersIds_=[]),this.customLayersIds_.includes(t)||(this.customLayersIds_.push(t),null===(e=this.changeListener)||void 0===e||e.nodeCustomLayerAdded(this,t))}removeFromCustomLayer(t){var e;null!==this.customLayersIds_&&this.customLayersIds_.includes(t)&&(this.customLayersIds_.splice(this.customLayersIds_.indexOf(t),1),null===(e=this.changeListener)||void 0===e||e.nodeCustomLayerRemoved(this,t))}applyPendingTransforms(){if(this.isTransformDirty&&this.updateSelfAndChildrenTransform(),this.isChildrenTransformDirty){this.setChildrenTransformDirty(!1);for(let t=0;t<this.children.length;t++)this.children[t].applyPendingTransforms();this.updateAABBAndExpandWithChildren()}}updateSelfAndChildrenTransform(){this.updateLocalTransform(),this.updateGlobalTransform(),this.setTransformDirty(!1),this.setChildrenTransformDirty(!1);const t=this.children;for(let e=0;e<t.length;e++)t[e].updateSelfAndChildrenTransform();this.updateAABBAndExpandWithChildren()}applyPendingInvalidate(){if(this.isInvalidated&&(this.setInvalidated(!1),null!==this.changeListener&&this.changeListener.nodeInvalidated(this)),this.isChildrenInvalidated){this.setChildrenInvalidated(!1);for(let t=0;t<this.children.length;t++)this.children[t].applyPendingInvalidate()}}}},660:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MNodeCache=void 0;const o=i(7562),a=512;e.MNodeCache=class MNodeCache{get valid(){return this.valid_}get scale(){return this.bitmap_?this.bitmap_.surface.getCameraScale():0}constructor(t,e){this.lastWidth=0,this.lastHeight=0,this.lastBorder=0,this.bitmap_=null,this.valid_=!1,this.canvasFactory=t,this.runtimeInfo=e}invalidate(){this.valid_=!1}disposeBitmap(){var t;this.lastWidth=0,this.lastHeight=0,this.lastBorder=0,null===(t=this.bitmap_)||void 0===t||t.disposeBitmaps(),this.bitmap_=null,this.valid_=!1}initBitmap(t,e,i){var n;let r=1,s=t+2*i,l=e+2*i;if(s>a||l>a)if(s>l){const t=l/s;r=a/s,s=a,l=Math.ceil(s*t)}else{const t=s/l;r=a/l,l=a,s=Math.ceil(l*t)}r*=2,s*=2,l*=2,null===(n=this.bitmap_)||void 0===n||n.disposeBitmaps(),this.bitmap_=new o.CacheRectBitmap(s,l,3,this.canvasFactory,this.runtimeInfo.screen.gpu.bugs),this.bitmap_.surface.setCameraScale(r),this.bitmap_.surface.setCameraPosition(t/2,e/2),this.bitmap_.surface.clearColor="transparent"}use(t){return t.cameraScale<this.scale/t.renderScaleMultiplier/4}getBestMipmap(t){return null===this.bitmap_?null:this.bitmap_.getBestMipmap(1/(t.cameraScale/this.scale)/4)}update(t,e,i,o){if(null!==this.bitmap_&&this.lastWidth===t&&this.lastHeight===e&&this.lastBorder===i||(this.initBitmap(Math.ceil(t),Math.ceil(e),Math.ceil(i)),this.lastWidth=t,this.lastHeight=e),null===this.bitmap_)return;const a=this.bitmap_.surface;a.clear();const n=a.beginRender(!1);o(n),n.finishRendering(),this.bitmap_.dirtyAllMipmaps(!1),this.valid_=!0}dispose(){var t;null===(t=this.bitmap_)||void 0===t||t.disposeBitmaps(),this.bitmap_=null,this.valid_=!1}}},3641:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RootNode=void 0;const o=i(3012);class RootNode extends o.MNode{renderImpl(){}willRender(){return!1}constructor(){super(),this.ownLayer=1}hitTest(){return!0}hitTestRect(){return!0}setRootChangeListener(t){this.setChangeListener(t)}updateAABBAndExpandWithChildren(){const t=this.children;if(0===t.length)this.aabb.setBounds(0,0,0,0),this.aabbWithoutRenderOverflow.setBounds(0,0,0,0),this.aabbSelfOnlyWithoutRenderOverflow.setBounds(0,0,0,0);else{const e=t[0];if(this.aabb.copy(e.aabb),this.aabbWithoutRenderOverflow.copy(e.aabbWithoutRenderOverflow),this.aabbSelfOnlyWithoutRenderOverflow.copy(e.aabbSelfOnlyWithoutRenderOverflow),t.length>1){const e=this.aabb,i=this.aabbWithoutRenderOverflow;for(let o=1;o<t.length;o++)e.union(t[o].aabb),i.union(t[o].aabbWithoutRenderOverflow)}}this.reportAABBChanged()}}e.RootNode=RootNode},9482:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeAnimationImplWithCb=e.NodeAnimationImpl=void 0;class NodeAnimationImpl{constructor(){this.doneCbs=[],this.resolved=!1}cancel(){this.resolved||(this.resolved=!0,this.onCancel(),this.doneCbs.forEach((t=>t(!1))))}onCancel(){}onDone(t){return this.doneCbs.push(t),this}isDone(){return this.resolved}resolve(){this.resolved||(this.resolved=!0,this.doneCbs.forEach((t=>t(!0))))}}e.NodeAnimationImpl=NodeAnimationImpl;e.NodeAnimationImplWithCb=class NodeAnimationImplWithCb extends NodeAnimationImpl{constructor(t,e,i,o){super(),this.animateCb=i,this.getTimeFn=o,this.duration=t,this.delay=e,this.startTime=o(),this.updateAnimationBound=this.updateAnimation.bind(this),this.animateCb(0),requestAnimationFrame(this.updateAnimationBound)}updateAnimation(){if(this.resolved)return;const t=this.getTimeFn();t<this.startTime&&(this.startTime=t);const e=(t-this.startTime)/1e3;if(e<this.delay)requestAnimationFrame(this.updateAnimationBound);else{const t=Math.min((e-this.delay)/this.duration,1);this.animateCb(t),t<1?requestAnimationFrame(this.updateAnimationBound):this.resolve()}}}},7754:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IgnoreCameraScale=void 0;const o=i(9482);class IgnoreCameraScale extends o.NodeAnimationImpl{constructor(t,e,i,o){super(),this.lastScale=-1,this.node=t,this.camera=e,this.minScale=i,this.maxScale=o,this.boundUpdateFn=this.update.bind(this),this.boundUpdateFn(),e.registerChangeListener(this.boundUpdateFn)}onCancel(){this.camera.unregisterChangeListener(this.boundUpdateFn),this.node.setAnimationPositionDelta(0,0),this.node.setAnimationScale(1)}update(){const t=this.camera.scale;if(t!==this.lastScale){this.lastScale=t;const e=this.node,i=Math.min(Math.max(t,this.minScale),this.maxScale)/t,o=-(i-1)*e.width*.5,a=-(i-1)*e.height*.5;e.setAnimationPositionDelta(o,a),e.setAnimationScale(i)}}}e.IgnoreCameraScale=IgnoreCameraScale},5611:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingAnimation=void 0;const o=i(5597),a=i(4935),n=i(9482),r=new Path2D("M 0 -0.5 C -0.0223 -0.5001 -0.0374 -0.4948 -0.0536 -0.48 L -0.4095 -0.1564 C -0.4416 -0.1276 -0.4454 -0.0737 -0.4151 -0.0433 L -0.4089 -0.0377 C -0.3785 -0.0133 -0.3316 -0.0127 -0.303 -0.0388 L -0.0796 -0.2421 L -0.0796 0.4207 C -0.0796 0.4645 -0.0441 0.5 -0.0003 0.5 L 0.0074 0.4996 C 0.0476 0.4958 0.079 0.4619 0.079 0.4207 L 0.079 -0.2421 L 0.3024 -0.0388 C 0.3335 -0.0104 0.3868 -0.0127 0.4151 -0.0438 C 0.4437 -0.0754 0.4412 -0.1284 0.4088 -0.1566 L 0.053 -0.48 C 0.0404 -0.4916 0.0198 -0.4996 0 -0.5 Z"),s=new Path2D("M 0.35 -0.5 L -0.224 0.1661 L -0.4656 -0.0733 C -0.493 -0.1007 -0.5331 -0.1115 -0.5706 -0.1014 C -0.6081 -0.0914 -0.6374 -0.062 -0.6475 -0.0245 C -0.6576 0.013 -0.6468 0.0531 -0.6194 0.0805 L -0.2944 0.4054 C -0.2737 0.4252 -0.2462 0.4365 -0.2175 0.4369 L -0.2175 0.4369 C -0.1874 0.4356 -0.1591 0.4219 -0.1395 0.3989 L 0.5103 -0.3592 C 0.5354 -0.3886 0.543 -0.4292 0.5301 -0.4657 C 0.5172 -0.5022 0.4858 -0.529 0.4478 -0.5361 C 0.4097 -0.5432 0.3708 -0.5294 0.3457 -0.5 L 0.35 -0.5 Z"),l="#4c4c4c";function drawPathAt(t,e,i,a,n,r){i<=0||(r.translateRotateAndScale(t,e,0,i),r.drawPath(a,"",0,n,"nonzero",o.SOLID_STROKE_PATTERN,"round","round"),r.undoTranslateRotateAndScale(t,e,0,i))}class LoadingAnimation extends n.NodeAnimationImpl{constructor(t,e,i,o,a=!1){super(),this.progress=0,this.infinite=!1,this.startTime=0,this.completeTime=0,this.pendingRedraw=!1,this.pendingEnqueueRedraw=!1,this.visible=!1,this.getViewportScaleFn=null,this.waitingDelay=!1,this.noWait=!1,this.node=t,this.getTimeFn=e,this.setTimeoutFn=i,this.startTime=e(),this.node.setOverlayRenderFn(this.render.bind(this)),this.noWait=a,this.onViewportVisibilityChangedFn=(t,e)=>this.onViewportVisibilityChanged(t,e),this.onDone((()=>{this.node.removeOverlayRenderFn(),this.node.unregisterViewportVisibilityChanged(this.onViewportVisibilityChangedFn)})),this.type=o,t.registerViewportVisibilityChanged(this.onViewportVisibilityChangedFn),"downloading"===o&&(this.waitingDelay=!0,i((()=>{this.resolved||(this.waitingDelay=!1,this.startTime=this.getTimeFn(),this.pendingRedraw=!0,this.enqueueRedraw())}),this.noWait?1:2600))}onViewportVisibilityChanged(t,e){this.visible=t,this.getViewportScaleFn=e,this.pendingRedraw&&this.enqueueRedraw()}enqueueRedraw(){this.visible&&(this.isBigEnoughOnViewport()||this.isComplete())?(this.pendingRedraw=!1,this.node.invalidate(!1)):this.pendingRedraw=!0}isBigEnoughOnViewport(){if(null===this.getViewportScaleFn)return!1;return function getCircleSize(t,e){return.05*Math.min(t,e)*2}(this.node.aabbSelfOnlyWithoutRenderOverflow.width,this.node.aabbSelfOnlyWithoutRenderOverflow.height)*this.getViewportScaleFn()>=8}isComplete(){return 1===this.progress}setProgress(t,e){const i=Math.max(t,this.progress);i===this.progress&&e===this.infinite||(this.progress=i,this.infinite=e,1===this.progress&&0===this.completeTime&&(this.completeTime=this.getTimeFn()),this.enqueueRedraw())}render(t,e){!function renderBackground(t,e,i){const o=.5/i.cameraScale;i.drawRectangle(-o,-o,t+2*o,e+2*o,"rgba(255, 255, 255, 0.8)","",0)}(t.width,t.height,e);const i=this.progress;if(this.waitingDelay)return void(1===i&&this.resolve());const n=this.getTimeFn(),c=this.infinite;n<this.startTime&&(this.startTime=n),0!==this.completeTime&&n<this.completeTime&&(this.completeTime=n);const d=(n-this.startTime)/1e3,h=1===i?(n-this.completeTime)/1e3:0,u="uploading"===this.type,v=!this.noWait&&this.isBigEnoughOnViewport()&&this.visible&&("uploading"===this.type||this.isComplete()&&(this.completeTime-this.startTime)/1e3>=1),g=function renderLoadingAnimation(t,e,i,n,c,d,h,u){const v=Math.min(t,e),g=.03*v,f=.05*v,y=t-(g+f),x=g+f;u.saveClip(),u.clipEllipse(y-f,x-f,2*f,2*f),h&&drawPathAt(y,c<1?(0,a.spring)(2*x,x,Math.min(i/.5,1)):(0,a.spring)(x,0,Math.min(n/.5,1)),1*f,r,l,u);1===c&&n>.2&&drawPathAt(y,x,(0,a.spring)(0,.75*f,Math.min((n-.2)/.5,1)),s,l,u),u.restoreClip();const m=.01*v;if(u.drawEllipse(y-f,x-f,2*f,2*f,"","#888888",m,o.SOLID_STROKE_PATTERN),d){const t=1*i*Math.PI*2;u.drawPartialEllipse(y-f,x-f,2*f,2*f,"",l,m,o.SOLID_STROKE_PATTERN,t+0,t+2*Math.PI*.2)}else u.drawPartialEllipse(y-f,x-f,2*f,2*f,"",l,m,o.SOLID_STROKE_PATTERN,0,2*Math.PI*c);return 1===c||!!(h&&i<.5)||!!d}(t.width,t.height,d,h,i,c,u,e);this.isComplete()&&(!v||h>1.2)?this.resolve():g&&(this.pendingEnqueueRedraw||(this.pendingEnqueueRedraw=!0,this.setTimeoutFn((()=>{this.pendingEnqueueRedraw=!1,this.resolved||this.enqueueRedraw()}),1e3/30)))}}e.LoadingAnimation=LoadingAnimation},1811:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PulseAnimation=void 0;const o=i(5597),a=i(4935),n=i(9482),r=25,s=18.75,l=966,c=982,d=600,h=4400,u={0:"rgba(255,0,101,0)",20:"rgba(255,0,102, 0.1)",80:"rgba(255,0,102, 0.1)",100:"rgba(255,0,101,0)"};class PulseAnimation extends n.NodeAnimationImpl{constructor(t,e,i,o){super(),this.visible=!1,this.node=t,this.getTimeFn=e,this.setTimeoutFn=i,this.startTime=e(),this.node.setOverlayRenderFn(this.render.bind(this)),this.nodeCenterX=this.node.width/2,this.nodeCenterY=this.node.height/2,this.glowBorderGradient=o||u,this.timerComplete=0,this.onViewportVisibilityChangedFn=t=>this.onViewportVisibilityChanged(t),this.onDone((()=>{this.node.removeOverlayRenderFn(),this.node.unregisterViewportVisibilityChanged(this.onViewportVisibilityChangedFn)})),t.registerViewportVisibilityChanged(this.onViewportVisibilityChangedFn)}enqueueRedraw(){this.visible&&!this.isComplete()&&this.node.invalidate(!1)}isComplete(){return this.timerComplete<=0}getCurrentGlowPhase(t){return t<l?1:t<=1948?2:3}getGlowPhaseTime(t){return t<l?t:t<=1948?t-l:t-1948}render(t,e){const{width:i,height:o}=t,a=this.getTimeFn()-this.startTime;switch(this.getCurrentGlowPhase(a)){case 1:case 3:this.animateGlowPhaseMax(a,i,o,e);break;case 2:this.animateGlowPhaseMin(a,i,o,e)}this.timerComplete=6e3-a,!this.isComplete()&&this.visible?this.setTimeoutFn((()=>{this.resolved||this.enqueueRedraw()}),1e3/30):this.resolve()}onViewportVisibilityChanged(t){this.visible=t}getGlowAlphaPhase(t){return t<d?1:t<=h?2:3}getGlowAlphaPhaseTime(t){return t<d?t:t<=h?t-d:t-5e3}getGlowOpacity(t){const e=this.getGlowAlphaPhase(t),i=this.getGlowAlphaPhaseTime(t);let o=0;switch(e){case 1:o=(0,a.easeInOutCubic)(i/d);break;case 2:o=1;break;case 3:o=1-(0,a.easeInOutCubic)(i/1e3)}return o>0?o:0}animateGlowPhaseMax(t,e,i,n){const r=this.getGlowPhaseTime(t);let c=6.25;if(r<l){c=.006469979296066253*r*(0,a.easeInOutCubic)(r/l)}const d=s+c,h=23.5+d/2,u=n.createCenteredRadialGradient(e-this.nodeCenterX,i-this.nodeCenterY,h-d/2,h+d/2,this.glowBorderGradient);n.drawEllipse(e-this.nodeCenterX-h,i-this.nodeCenterY-h,2*h,2*h,"transparent",u,d,o.SOLID_STROKE_PATTERN,this.getGlowOpacity(t))}animateGlowPhaseMin(t,e,i,n){const s=this.getGlowPhaseTime(t);let l=6.25;if(s<c){l=.006364562118126273*s*(0,a.easeInOutCubic)(s/c)}const d=r-l,h=23.5+d/2,u=n.createCenteredRadialGradient(e-this.nodeCenterX,i-this.nodeCenterY,h-d/2,h+d/2,this.glowBorderGradient);n.drawEllipse(e-this.nodeCenterX-h,i-this.nodeCenterY-h,2*h,2*h,"transparent",u,d,o.SOLID_STROKE_PATTERN,this.getGlowOpacity(t))}}e.PulseAnimation=PulseAnimation},7779:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeAnimationController=void 0;const o=i(9482),a=i(7754),n=i(5611),r=i(1811),s=i(4935),l="ignoreCameraScale",c="uploading",d="downloading",h="pulse",u={transition:0,transitionPercent:0};e.NodeAnimationController=class NodeAnimationController{constructor(t){this.getTimeFn=()=>Date.now(),this.setTimeoutFn=(t,e)=>setTimeout(t,e),this.animations=new Map,this.node=t,t.registerDestroy((()=>this.destroy()))}setGetTimeFn(t){this.getTimeFn=t}setSetTimeoutFn(t){this.setTimeoutFn=t}alphaTo(t,e,i=0){const o=this.node;return this.buildAnimationWithCb("alpha",e,i,o.alpha,t,((t,e,i)=>o.alpha=(0,s.linear)(e,i,t)))}scaleTo(t,e,i=0){const o=this.node;return this.buildAnimationWithCb("scale",e,i,o.animationScale,t,((t,e,i)=>{const a=(0,s.easeInOutCubic)(t),n=(0,s.linear)(e,i,a),r=-(n-1)*o.width*.5,l=-(n-1)*o.height*.5;o.setAnimationPositionDelta(r,l),o.setAnimationScale(n)}))}shadowDraggingTransitionTo(t,e,i=0){var o,a;const n=this.node;return this.buildAnimationWithCb("shadow-dragging-transition",e,i,null!==(a=null===(o=n.shadowProperties)||void 0===o?void 0:o.transitionPercent)&&void 0!==a?a:0,t,((t,e,i)=>{var o;n.shadowProperties=Object.assign(Object.assign({},null!==(o=n.shadowProperties)&&void 0!==o?o:u),{transitionPercent:(0,s.linear)(e,i,t)})}))}setCameraScaleConstraint(t,e,i){var o,n;if(!e&&!i)return null===(o=this.animations.get(l))||void 0===o||o.cancel(),this.animations.delete(l),null;const r=e||0,s=i||Number.MAX_SAFE_INTEGER;null===(n=this.animations.get(l))||void 0===n||n.cancel();const c=new a.IgnoreCameraScale(this.node,t,r,s);return this.animations.set(l,c),c}setLoadingProgress(t,e=0){var i,o;const a="downloading-infinite"===t||"preview-generation"===t?"downloading":t,r="downloading-infinite"===t||"preview-generation"===t,s="uploading"===a?c:d;if("uploading"!==a&&(null===(i=this.animations.get(c))||void 0===i||i.cancel(),this.animations.delete(c)),"downloading"!==a&&(null===(o=this.animations.get(d))||void 0===o||o.cancel(),this.animations.delete(d)),"none"===a)return;if(!Number.isFinite(e))return;const l=Math.min(Math.max(e,0),1),h=this.animations.get(s);if(!h&&1===l)return;const u="preview-generation"===t,v=h||new n.LoadingAnimation(this.node,this.getTimeFn,this.setTimeoutFn,a,u);h||(v.onDone((()=>this.animations.delete(s))),this.animations.set(s,v)),v.setProgress(l,r)}hasLoadingInProgress(){return this.animations.has(c)||this.animations.has(d)}cancelAll(){this.animations.forEach((t=>t.cancel())),this.animations.clear()}isDone(){for(const t of this.animations.values())if(!t.isDone())return!1;return!0}getRunningAnimations(){const t=[];for(const[e,i]of this.animations.entries())i.isDone()||t.push(e);return t}setCommentPulse(t){var e;null===(e=this.animations.get(h))||void 0===e||e.cancel(),this.animations.delete(h);const i=new r.PulseAnimation(this.node,this.getTimeFn,this.setTimeoutFn,t);i.onDone((()=>this.animations.delete(h))),this.animations.set(h,i)}setIntroScale(t,e,i,o,a){const n=this.node,r=this.buildAnimationWithCb("introScale",t,o,e,i,((t,e,i)=>{const o=(0,s.easeInOutCubic)(t),a=(0,s.linear)(e,i,o),r=-(a-1)*n.width*.5,l=-(a-1)*n.height*.5;n.setAnimationPositionDelta(r,l),n.setAnimationScale(a)}));return a?r.onDone(a):r}setIntroAlpha(t,e,i,o,a,n){const r=this.node,l=this.buildAnimationWithCb("introAlpha",t,o,e,i,((t,e,i)=>{const o=(null!=n?n:s.easeInOutCubic)(t),a=(0,s.linear)(e,i,o);r.alpha=a}));return a?l.onDone(a):l}buildAnimationWithCb(t,e,i,a,n,r){var s;null===(s=this.animations.get(t))||void 0===s||s.cancel();const l=new o.NodeAnimationImplWithCb(e,i,(t=>r(t,a,n)),this.getTimeFn);return this.animations.set(t,l),l}destroy(){this.cancelAll()}}},4935:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.easeInOutCubic=e.spring=e.linearClamped=e.linear=void 0;e.linear=(t,e,i)=>(e-t)*i+t;e.linearClamped=(t,i,o)=>(0,e.linear)(t,i,Math.min(Math.max(o,0),1));e.spring=(t,i,o)=>(0,e.linear)(t,i,(t=>0===t?0:1===t?1:Math.pow(3,-5*t)*Math.sin((5*t-.75)*(2*Math.PI)/3)+1)(o));e.easeInOutCubic=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},7586:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const o=i(8126),a=i(729);function drawRoundedRect(t,e,i,o,a,n){t.beginPath(),n>0?(t.moveTo(e+n,i),t.arcTo(e+o,i,e+o,i+a,n),t.arcTo(e+o,i+a,e,i+a,n),t.arcTo(e,i+a,e,i,n),t.arcTo(e,i,e+o,i,n),t.closePath()):t.rect(e,i,o,a)}function drawViewport(t,e,i,o,a,n){const r=.5*n.viewport.lineWidth;t.lineWidth=n.viewport.lineWidth,t.fillStyle=a.color,t.strokeStyle=a.borderColor,drawRoundedRect(t,Math.floor(e+a.x*o)+r,Math.floor(i+a.y*o)+r,Math.ceil(a.width*o),Math.ceil(a.height*o),n.viewport.cornerRadius),t.stroke(),t.fill()}function cacheNode(t){const e=t.minimapShape;return e&&"path"===e.type?{type:"path",x:t.x,y:t.y,rotation:t.rotation*Math.PI/180,path:e.path}:t.axisAligned?{type:"aabb",rect:t.aabbSelfOnlyWithoutRenderOverflow.clone()}:{type:"rotated-aabb",points:t.getAABBCoords([],!1)}}e.Minimap=class Minimap{get done(){return!this.viewportsDirty&&!this.shapesDirty}constructor(t,e,i,a,n,r,s){if(this.viewports=new Map,this.nodes=new Map,this.shapesDirty=!1,this.viewportsDirty=!1,this.visible=!0,this.destroyed=!1,this.sizeBehavior="MuralBounds",this.padding=0,this._muralBounds=o.Rectangle.fromBounds(0,0,100,100),this._nodesBounds=new o.Rectangle,this._nodesBoundsValid=!0,this.canvasFactory=e,this.canvas=t,this.width=this.canvas.canvas.width,this.height=this.canvas.canvas.height,this.renderScaleMultiplier=i,this.style=s,this.padding=s.muralBackground.padding,this.throttleShapesUpdate="node"!==r.runtime,this.rootNode=n,this.canvas.ctx.resetTransform=this.canvas.ctx.resetTransform||function(){this.setTransform(1,0,0,1,0,0)}.bind(this.canvas.ctx),this.shapesCanvas=this.buildShapeCanvas(),1!==i){const t=this.canvas.canvas.width,e=this.canvas.canvas.height;this.canvas.canvas.style.width=t+"px",this.canvas.canvas.style.height=e+"px",this.canvas.canvas.width=t*i,this.canvas.canvas.height=e*i}const l=a.getClipBounds();this.userViewport={x:l.x,y:l.y,width:l.width,height:l.height,color:"rgba(255,0,0,0.5)",borderColor:"rgba(255,0,0,1)"},a.registerChangeListener((()=>{const t=a.getClipBounds();this.userViewport.x=t.x,this.userViewport.y=t.y,this.userViewport.width=t.width,this.userViewport.height=t.height,this.invalidateViewports()}))}buildShapeCanvas(){const t=this.canvasFactory.createCanvas(this.canvas.canvas.width*this.renderScaleMultiplier,this.canvas.canvas.height*this.renderScaleMultiplier);return t.ctx.resetTransform=t.ctx.resetTransform||function(){this.setTransform(1,0,0,1,0,0)}.bind(t.ctx),t}getDrawBounds(){let t=this._muralBounds;"WidgetsBounds"===this.sizeBehavior&&(this._nodesBoundsValid||this.updateNodesBounds(),t=this._nodesBounds);const e=this.width-2*this.padding,i=e>0?this.padding*t.width/e:0,o=this.height-2*this.padding,a=o>0?this.padding*t.height/o:0;return{x:t.x-i,y:t.y-a,width:Math.max(t.width+2*i,1),height:Math.max(t.height+2*a,1)}}destroy(){this.destroyed=!0,this.canvasFactory.destroyCanvas(this.shapesCanvas.canvas),void 0!==this.invalidateShapesTimer&&clearTimeout(this.invalidateShapesTimer),void 0!==this.invalidateShapesRaf&&cancelAnimationFrame(this.invalidateShapesRaf)}show(){this.visible||(this.visible=!0,this.viewportsDirty&&this.drawViewports(),this.shapesDirty&&this.drawShapes())}disposeCache(){this.canvasFactory.destroyCanvas(this.shapesCanvas.canvas),this.shapesCanvas=this.buildShapeCanvas(),this.invalidateShapes(),this.invalidateViewports()}hide(){this.visible=!1}fromScreenPos(t,e){const i=this.width,o=this.height,a=this.getDrawBounds(),n=a.x,r=a.y,s=a.width,l=a.height,c=i/s,d=o/l,h=Math.min(c,d);return{x:(t-Math.floor((i-s*h)/2))/h+n,y:(e-Math.floor((o-l*h)/2))/h+r}}setSizeBehavior(t){t!==this.sizeBehavior&&(this.sizeBehavior=t,this.invalidateShapes())}setPadding(t){t!==this.padding&&(this.padding=t,this.invalidateShapes())}setMuralBounds(t,e,i,o){Number.isFinite(t)&&Number.isFinite(e)&&Number.isFinite(i)&&Number.isFinite(o)&&(t===this._muralBounds.x&&e===this._muralBounds.y&&i===this._muralBounds.width&&o===this._muralBounds.height||(this._muralBounds.setBounds(t,e,i,o),this.invalidateShapes(),this.invalidateViewports()))}shouldAddNode(t){return!t.isPartialNode&&""!==t.externalId&&t.parent===this.rootNode&&t.visible}addNode(t){if(!this.shouldAddNode(t))return;const e=t.aabbSelfOnlyWithoutRenderOverflow.clone(),i={cache:cacheNode(t),lastShape:t.minimapShape,lastAABB:e};this.nodes.set(t,i),this.onNodesAABBAdded(e),this.invalidateShapes()}onNodesAABBAdded(t){this._nodesBoundsValid&&(1===this.nodes.size?this._nodesBounds.copy(t):this._nodesBounds.contains(t)||this._nodesBounds.union(t))}updateNodesBounds(){const t=this._nodesBounds;if(this.nodes.size>0){const e=this.nodes.entries().next().value[1];t.copy(e.lastAABB),this.nodes.forEach((e=>t.union(e.lastAABB)))}else t.setEmpty();this._nodesBoundsValid=!0}onNodesAABBRemoved(t){this._nodesBoundsValid&&this._nodesBounds.matchesAnyBorder(t)&&(this._nodesBoundsValid=!1)}removeNode(t){const e=this.nodes.get(t);e&&(this.nodes.delete(t),this.onNodesAABBRemoved(e.lastAABB),this.invalidateShapes())}updateNode(t){if(this.shouldAddNode(t)){const e=this.nodes.get(t);if(e){const i=t.aabbSelfOnlyWithoutRenderOverflow,o=e.lastAABB,a=o.equals(i),n=e.lastShape===t.minimapShape;a&&n||(e.lastShape=t.minimapShape,e.cache=cacheNode(t),a||(this.onNodesAABBRemoved(o),this.onNodesAABBAdded(i),o.copy(i)),this.invalidateShapes())}else this.addNode(t)}else this.removeNode(t)}resize(t,e){if(this.canvas.canvas.width=t,this.canvas.canvas.height=e,this.width=t,this.height=e,1!==this.renderScaleMultiplier){const t=this.canvas.canvas.width,e=this.canvas.canvas.height;this.canvas.canvas.style.width=t+"px",this.canvas.canvas.style.height=e+"px",this.canvas.canvas.width=t*this.renderScaleMultiplier,this.canvas.canvas.height=e*this.renderScaleMultiplier}this.disposeCache()}setStyle(t){this.style=(0,a.replaceUndefinedPropertiesWithDefaultsRecursively)(this.style,t),this.invalidateShapes(),this.invalidateViewports()}setUserViewportColor(t,e){t===this.userViewport.color&&e===this.userViewport.borderColor||(this.userViewport.color=t,this.userViewport.borderColor=e,this.invalidateViewports())}setViewport(t,e){Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.width)&&Number.isFinite(e.height)&&(this.viewports.set(t,e),this.invalidateViewports())}getViewport(t){return t?this.viewports.get(t)||null:this.userViewport}deleteViewport(t){this.viewports.delete(t),this.invalidateViewports()}invalidateViewports(){this.viewportsDirty||(this.viewportsDirty=!0,this.visible&&requestAnimationFrame((()=>this.drawViewports())))}invalidateShapes(){this.shapesDirty||(this.shapesDirty=!0,this.visible&&(this.throttleShapesUpdate?this.invalidateShapesTimer=setTimeout((()=>this.drawShapes()),200):this.invalidateShapesRaf=requestAnimationFrame((()=>this.drawShapes()))))}drawViewports(){if(!this.viewportsDirty||this.destroyed)return;this.viewportsDirty=!1;const t=this.getDrawBounds();if(0===this.width||0===this.height)return;const e=this.width,i=this.height,o=t.x,a=t.y,n=t.width,r=t.height,s=e/n,l=i/r,c=Math.min(s,l),d=Math.floor((e-n*c)/2),h=Math.floor((i-r*c)/2),u=d-Math.floor(o*c),v=h-Math.floor(a*c),g=this.style,f=this.canvas.ctx;f.resetTransform(),f.lineWidth=0,g.border.cornerRadius>0&&(f.scale(this.renderScaleMultiplier,this.renderScaleMultiplier),f.clearRect(0,0,e,i),f.save(),drawRoundedRect(f,.5*g.border.lineWidth,.5*g.border.lineWidth,e-g.border.lineWidth,i-g.border.lineWidth,g.border.cornerRadius),f.clip(),f.resetTransform()),f.drawImage(this.shapesCanvas.canvas,0,0),f.scale(this.renderScaleMultiplier,this.renderScaleMultiplier),"MuralBounds"===this.sizeBehavior&&(f.save(),f.beginPath(),f.rect(d,h,n*c,r*c),f.clip()),this.viewports.forEach((t=>drawViewport(f,u,v,c,t,g))),drawViewport(f,u,v,c,this.userViewport,g),"MuralBounds"===this.sizeBehavior&&f.restore(),f.strokeStyle=g.muralBorder.lineColor,f.lineWidth=g.muralBorder.lineWidth,"MuralBounds"===this.sizeBehavior&&(f.beginPath(),f.rect(d-.5*g.muralBorder.lineWidth,h-.5*g.muralBorder.lineWidth,Math.ceil(n*c+g.muralBorder.lineWidth),Math.ceil(r*c+g.muralBorder.lineWidth)),f.stroke()),g.border.cornerRadius>0&&f.restore(),f.strokeStyle=g.border.lineColor,f.lineWidth=g.border.lineWidth,f.resetTransform(),f.scale(this.renderScaleMultiplier,this.renderScaleMultiplier),drawRoundedRect(f,.5*g.border.lineWidth,.5*g.border.lineWidth,e-g.border.lineWidth,i-g.border.lineWidth,g.border.cornerRadius),f.stroke()}drawShapes(){if(!this.shapesDirty||this.destroyed)return;this.shapesDirty=!1;const t=this.getDrawBounds();if(0===this.width||0===this.height)return;const e=this.width,i=this.height,o=t.x,a=t.y,n=t.width||1,r=t.height||1,s=e/n,l=i/r,c=Math.min(s,l),d=Math.floor((e-n*c)/2),h=Math.floor((i-r*c)/2),u=d-Math.floor(o*c),v=h-Math.floor(a*c),g=this.shapesCanvas.ctx,f=this.style;g.resetTransform(),g.scale(this.renderScaleMultiplier,this.renderScaleMultiplier),g.fillStyle=f.outsideMural.color,g.fillRect(0,0,e,i),"MuralBounds"===this.sizeBehavior&&f.outsideMural.lineWidth>0&&function drawBackgroundPattern(t,e,i,o){t.strokeStyle=o.outsideMural.lineColor,t.lineWidth=o.outsideMural.lineWidth,t.beginPath();for(let a=0;a<e;a+=o.outsideMural.lineSpacing)t.moveTo(a,0),t.lineTo(a+i,i);for(let a=0;a<i;a+=o.outsideMural.lineSpacing)t.moveTo(0,a),t.lineTo(e,a+e);t.stroke()}(g,e,i,f),"MuralBounds"===this.sizeBehavior&&(g.save(),g.beginPath(),g.rect(d,h,n*c,r*c),g.clip()),g.fillStyle=f.muralBackground.color,"MuralBounds"===this.sizeBehavior?g.fillRect(d,h,n*c,r*c):g.fillRect(0,0,e,i),g.strokeStyle=f.widget.lineColor,g.lineWidth=f.widget.lineWidth,g.lineCap="square",g.save(),g.lineWidth=f.widget.lineWidth/c,g.translate(u,v),g.scale(c,c),g.beginPath(),this.nodes.forEach((t=>function drawCachedNode(t,e){switch(e.type){case"aabb":t.rect(e.rect.x,e.rect.y,e.rect.width,e.rect.height);break;case"rotated-aabb":t.moveTo(e.points[0].x,e.points[0].y),t.lineTo(e.points[1].x,e.points[1].y),t.lineTo(e.points[2].x,e.points[2].y),t.lineTo(e.points[3].x,e.points[3].y),t.lineTo(e.points[0].x,e.points[0].y);break;case"path":t.translate(e.x,e.y),t.rotate(e.rotation),t.stroke(),t.stroke(e.path),t.beginPath(),t.rotate(-e.rotation),t.translate(-e.x,-e.y)}}(g,t.cache))),g.stroke(),g.restore(),"MuralBounds"===this.sizeBehavior&&g.restore(),this.invalidateViewports()}}},2037:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Renderer=void 0;const o=i(8126),a=i(8839),n=i(8898),r=i(4637),s=i(4612),l=i(4018),c=i(9097),d=i(8127),h=i(6725),u=i(3841),v=i(3036),g=i(9852),f=i(5298),y=i(4375),x=i(9752),m=i(5425),R=i(1113),b={0:-1,1:0,3:1,2:2,4:3};e.Renderer=class Renderer{get backgroundColor(){return this.backgroundColor_}set backgroundColor(t){this.backgroundColor_!==t&&(this.backgroundColor_=t,this.invalidateBounds())}set clearColor(t){var e;this.surface.clearColor!==t&&(this.surface.clearColor=t,null===(e=this.viewportOptimizationStrategy)||void 0===e||e.forceInvalidation(),this.invalidateViewport())}get bounds(){return this.lastBounds}set bounds(t){this.lastBounds.equals(t)||(this.invalidateBounds(),this.lastBounds.copy(t),this.invalidateBounds())}get rootCache(){return this.cacheStrategy}get viewportOptimization(){return this.viewportOptimizationStrategy}get done(){var t;return!(null===(t=this.invalidationStrategy)||void 0===t?void 0:t.isPendingRedraw())&&!this.wasTileCacheSkipped()}constructor(t,e,i,c,h,u,v,g,f,y,x,m,b){this.surfaceOverlayDirty=!0,this.useCache=!0,this.gridLinesVisible=!1,this.useThrottledInvalidation=!1,this.cacheStrategy=null,this.viewportOptimizationStrategy=null,this.lastBounds=new o.Rectangle,this.backgroundColor_="black",this.layers=new Map,this.layersDrawingOrder=[],this.customLayersById=new Map,this.customLayers=[],this.useSkipCacheHeuristic=!0,this.domContainer=null,this.surfaceOverlayMounted=!1,this.destroyed=!1,this.useViewportOptimization=!0,this.lastSkipCacheTime=0,this.pendingSkipCacheUpdate=!1,this.runtimeInfo=f,this.useThrottledInvalidation=f.mobile,this.canvasFactory=y,this.surface=new a.RenderSurface(t,f.screen.gpu.bugs,v,m),this.surfaceOverlay=new a.RenderSurface(e,f.screen.gpu.bugs,v,"transparent"),this.gridLines=new d.GridLines(y),this.surfaceOverlay.resize(this.surface.width,this.surface.height),this.onPreRenderCallback=c,this.onPostRenderCallback=h,this.onContextRestoredCallback=u,this.renderScaleMultiplier=v,this.root_=g,this.qt=new s.QuadTreeRoot,this.qtIterator=new n.QuadTreeIterator(this.qt),this.qtQuittableIterator=new r.QuadTreeQuittableIterator(this.qt),this.viewportVisibility=new R.ViewportVisibility(this.qtIterator),this.useViewportOptimization=!0,this.buildStrategy(),this.preRenderInterface={camera:this.surface.camera},this.postRenderInterface={camera:this.surface.camera,surface:this.surfaceOverlay,setDirty:()=>this.surfaceOverlayDirty=!0};for(const t of x){const e=new l.MCustomLayer(t.id,t.backColor,t.blocking,t.visible,this.root);this.customLayersById.set(e.id,e),this.customLayers.push(e)}this.contextLostListener=i,i.onContextLost((()=>this.onContextLost())),i.onContextRestored((()=>this.onContextRestored())),this.applyPendingChanges=b}onContextLost(){console.warn("Renderer.onContextLost()")}onContextRestored(){var t;console.warn("Renderer.onContextRestored()"),this.onContextRestoredCallback(),null===(t=this.renderingStrategy)||void 0===t||t.discardCache(),this.surface.clear(),this.surfaceOverlay.clear(),this.gridLines.discardCache(),this.invalidateBounds(),this.invalidateViewport()}buildStrategy(){var t,e;const i=[];if(null===(t=this.invalidationStrategy)||void 0===t||t.destroy(),null===(e=this.renderingStrategy)||void 0===e||e.destroy(),this.useViewportOptimization){const t=new y.OptimizedViewportStrategy(this.runtimeInfo,this.renderScaleMultiplier,(()=>this.bounds),this.surface.hasBackgroundImage());this.viewportOptimizationStrategy=t,i.push(t)}else this.viewportOptimizationStrategy=null;if(i.push(new f.CustomLayerStrategy(this.qtIterator,this.customLayers)),this.useCache){const t=new x.TileCacheStrategy(this.qtIterator,this.root,this.renderScaleMultiplier,this.drawBackground.bind(this),this.canvasFactory,this.runtimeInfo);this.cacheStrategy=t,i.push(t)}else this.cacheStrategy=null;i.push(new m.ViewportStrategy(this.qtIterator,this.drawBackground.bind(this),this.layersDrawingOrder)),this.renderingStrategy=new g.CompositeStrategy(i);const o=new h.DefaultInvalidationStrategy(this.renderingStrategy,this.surface,this.doRepaint.bind(this));this.invalidationStrategy=this.useThrottledInvalidation?new u.ThrottledInvalidationStrategy(o,this.doRepaint.bind(this)):o}get root(){return this.root_}viewportResize(t,e){var i;const{x:o,y:a}=this.surface.camera.getClipBounds(),n=this.surface.camera.scale;this.surface.resize(t,e),this.surfaceOverlay.resize(t,e),this.surfaceOverlayDirty=!0,null===(i=this.renderingStrategy)||void 0===i||i.viewportResize(t,e),this.surface.camera.setFullViewport(o,a,n),this.invalidateViewport()}render(){var t;null===(t=this.invalidationStrategy)||void 0===t||t.flush(),this.renderInternal()}renderInternal(){if(void 0===this.renderingStrategy)return v.RenderResult.Done;this.applyPendingChanges();const t=this.surface,e=t.camera,i=e.getClipBounds();this.viewportVisibility.update(i,(()=>e.scale)),this.onPreRenderCallback(this.preRenderInterface);const o=this.renderCustom(this.renderingStrategy,this.surface);return this.surfaceOverlay.camera.copy(t.camera),this.surfaceOverlayDirty&&(this.surfaceOverlay.clear(),this.surfaceOverlayDirty=!1),this.surfaceOverlay.resetTransform(),this.onPostRenderCallback(this.postRenderInterface),this.domContainer&&(this.surfaceOverlayDirty&&!this.surfaceOverlayMounted?(this.domContainer.appendChild(this.surfaceOverlay.getCanvas()),this.surfaceOverlayMounted=!0):!this.surfaceOverlayDirty&&this.surfaceOverlayMounted&&(this.surfaceOverlay.getCanvas().remove(),this.surfaceOverlayMounted=!1)),o}updateSkipTileCache(t){var e;if(null===this.cacheStrategy||!this.useSkipCacheHeuristic)return;const i=this.cacheStrategy.getVisibleCacheRectsStats(t);if(0===i.visibleRects)return;const o=i.rectsToUpdateFromInvalidationsThisFrame/i.visibleRects>.5;o&&(this.lastSkipCacheTime=performance.now()),!o&&this.getRemainingSkipTileCacheCooldown()>0||o!==this.cacheStrategy.forceSkipCache&&(this.cacheStrategy.forceSkipCache=o,null===(e=this.viewportOptimizationStrategy)||void 0===e||e.forceInvalidation())}getRemainingSkipTileCacheCooldown(){if(0===this.lastSkipCacheTime)return 0;const t=performance.now()-this.lastSkipCacheTime;return Math.max(1e3-t,0)}wasTileCacheSkipped(){return null!==this.cacheStrategy&&this.useSkipCacheHeuristic&&this.cacheStrategy.forceSkipCache}enqueueTileCacheUpdate(){if(this.pendingSkipCacheUpdate)return;this.pendingSkipCacheUpdate=!0;const fn=()=>{if(this.pendingSkipCacheUpdate=!1,!this.destroyed&&null!==this.cacheStrategy&&this.cacheStrategy.forceSkipCache){const t=this.getRemainingSkipTileCacheCooldown();0===t?this.invalidateViewport():(this.pendingSkipCacheUpdate=!0,setTimeout(fn,t))}};setTimeout(fn,1e3)}renderCustom(t,e){this.applyPendingChanges();const i=e.camera.getClipBounds();t.newFrame(),this.updateSkipTileCache(i);const o=e.beginRender(!0),a=t.render(o,i,!0,v.renderNoOp);return o.finishRendering(),this.wasTileCacheSkipped()&&this.enqueueTileCacheUpdate(),a}drawBackground(t,e){t.clearSurfaceRegion(e),e.intersects(this.bounds)&&this.drawMuralBackground(t),this.gridLinesVisible&&this.gridLines.draw(t,this.bounds,e)}drawMuralBackground(t){t.drawRectangle(Math.floor(this.bounds.x),Math.floor(this.bounds.y),Math.ceil(this.bounds.width),Math.ceil(this.bounds.height),this.backgroundColor,"",0)}warmupStrategies(){var t;null===(t=this.renderingStrategy)||void 0===t||t.warmup()}invalidateBounds(){const t=2/this.surface.getCameraScale(),e=this.bounds.clone();e.expand(t,t),this.invalidateRect(e)}invalidateViewport(){var t;null===(t=this.invalidationStrategy)||void 0===t||t.enqueuePendingRedraw()}invalidateRect(t){void 0!==this.invalidationStrategy&&this.invalidationStrategy.invalidateRect(t,!0)}doRepaint(){var t;this.renderInternal()===v.RenderResult.InProgress&&(null===(t=this.invalidationStrategy)||void 0===t||t.enqueuePendingRedraw())}getLayer(t){const e=this.layers.get(t),i=e||new c.MLayer(t,b[t],this.root);return e||(this.layers.set(t,i),this.layersDrawingOrder.push(i),this.sortDrawingLayers()),i}sortDrawingLayers(){this.layersDrawingOrder.sort(((t,e)=>t.drawingOrder-e.drawingOrder))}getCustomLayer(t){return this.customLayersById.get(t)||null}showCustomLayer(t){const e=this.getCustomLayer(t);null!==e&&!0!==e.visible&&(e.visible=!0,this.forceRedrawViewport())}hideCustomLayer(t){const e=this.getCustomLayer(t);null!==e&&!1!==e.visible&&(e.visible=!1,this.forceRedrawViewport())}isUseCacheOn(){return this.useCache}setUseCache(t){this.useCache!==t&&(this.useCache=t,this.buildStrategy(),this.invalidateViewport())}isUseViewportOptimizationOn(){return this.useViewportOptimization}setUseViewportOptimization(t){this.useViewportOptimization!==t&&(this.useViewportOptimization=t,this.buildStrategy(),this.invalidateViewport())}isUseThrottledInvalidationOn(){return this.useThrottledInvalidation}setUseThrottledInvalidation(t){this.useThrottledInvalidation!==t&&(this.useThrottledInvalidation=t,this.buildStrategy(),this.invalidateViewport())}isUseSkipCacheHeuristicOn(){return this.useSkipCacheHeuristic}setUseSkipCacheHeuristic(t){this.useSkipCacheHeuristic!==t&&(this.useSkipCacheHeuristic=t,!t&&null!==this.cacheStrategy&&this.cacheStrategy.forceSkipCache&&(this.cacheStrategy.forceSkipCache=!1),this.invalidateViewport())}showGridLines(){!0!==this.gridLinesVisible&&(this.gridLinesVisible=!0,this.forceRedrawViewport())}hideGridLines(){!1!==this.gridLinesVisible&&(this.gridLinesVisible=!1,this.forceRedrawViewport())}setGridLinesOptions(t){this.gridLines.setOptions(t),this.gridLinesVisible&&this.forceRedrawViewport()}forceRedrawViewport(){var t;null===(t=this.viewportOptimizationStrategy)||void 0===t||t.forceInvalidation(),this.invalidateViewport()}mountEngine(t){this.domContainer=t,t.appendChild(this.surface.getCanvas()),t.appendChild(this.surfaceOverlay.getCanvas()),this.surfaceOverlayMounted=!0}unmountEngine(){this.domContainer=null,this.surface.getCanvas().remove(),this.surfaceOverlay.getCanvas().remove()}destroy(){var t,e,i;this.destroyed=!0;const o=this.surface.getCanvas();null===(t=o.parentNode)||void 0===t||t.removeChild(o),this.domContainer=null,null===(e=this.invalidationStrategy)||void 0===e||e.destroy(),this.invalidationStrategy=void 0,null===(i=this.renderingStrategy)||void 0===i||i.destroy(),this.renderingStrategy=void 0,this.gridLines.destroy(),this.contextLostListener.destroy()}}},8127:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GridLines=void 0;const o=i(8168),a=i(4935);e.GridLines=class GridLines{setOptions(t){this.options=Object.assign(Object.assign({},t),{colors:t.colors.map((t=>Object.assign({},t)))}),this.options.colors.sort(((t,e)=>t.zoom-e.zoom)),this.invalidateCache()}constructor(t){this.cachedGridRender=null,this.cachedGridZoom=0,this.cachedGridRenderScaleMultiplier=1,this.cachedGridDrawSize=0,this.useCache=!0,this.options={type:"dot",size:4,spacing:23,minZoomLevel:.5,colors:[{zoom:.5,r:47,g:47,b:47,a:.24},{zoom:1,r:47,g:47,b:47,a:.12},{zoom:2,r:47,g:47,b:47,a:.06}]},this.canvasFactory=t}draw(t,e,i){const o=t.cameraScale,a=t.renderScaleMultiplier,n=this.options;if(o<n.minZoomLevel)return;if(0===n.colors.length)return;const r="canvas-only"===n.drawingMode;if(r&&!i.intersects(e))return;const s=n.spacing,l=Math.floor(i.x/s)*s,c=Math.floor(i.y/s)*s,d=Math.ceil(i.x1/s)*s,h=Math.ceil(i.y1/s)*s;this.updateCachedGrid(o,a),r&&(t.saveClip(),t.clipRectangle(e.x,e.y,e.width,e.height)),this.useCache?this.drawCachedGrid(t,l,c,d,h):t.drawDotsGrid(l,c,d,h,s,n.size,this.getDotColor(o)),r&&t.restoreClip()}getDotColor(t){const e=this.options,i=e.colors.findIndex((e=>t<=e.zoom)),o=i>=0?i:e.colors.length-1,n=e.colors[o],r=e.colors[o>0?o-1:0],s=r.zoom<n.zoom?(t-r.zoom)/(n.zoom-r.zoom):0;return`rgba(${Math.round((0,a.linearClamped)(r.r,n.r,s))},${Math.round((0,a.linearClamped)(r.g,n.g,s))},${Math.round((0,a.linearClamped)(r.b,n.b,s))},${(0,a.linearClamped)(r.a,n.a,s)})`}updateCachedGrid(t,e){if(null!==this.cachedGridRender&&this.cachedGridZoom===t&&this.cachedGridRenderScaleMultiplier===e)return;null!==this.cachedGridRender&&e===this.cachedGridRenderScaleMultiplier||this.buildCachedGridRender(e);const i=this.cachedGridRender;if(null===i)return void(this.useCache=!1);const o=this.options.spacing*t*e,a=this.options.size*t*e,n=this.getDotColor(t),r=Math.floor(i.nativeCanvas.width/o);r>1?(i.clear(),i.drawDotsGrid(0,0,i.nativeCanvas.width,i.nativeCanvas.height,o,a,n),this.useCache=!0):this.useCache=!1,this.cachedGridDrawSize=r*o,this.cachedGridZoom=t,this.cachedGridRenderScaleMultiplier=e}drawCachedGrid(t,e,i,o,a){if(null===this.cachedGridRender)return;const n=this.cachedGridRenderScaleMultiplier,r=this.cachedGridRender.nativeCanvas,s=this.cachedGridDrawSize,l=s/t.cameraScale/n;for(let n=i;n<=a;n+=l)for(let i=e;i<=o;i+=l)t.drawImageDest(r,0,0,s,s,i,n,l,l)}buildCachedGridRender(t){null!==this.cachedGridRender&&(this.canvasFactory.destroyCanvas(this.cachedGridRender.nativeCanvas),this.cachedGridRender=null);const e=this.canvasFactory.createCanvas(128*t,128*t);this.cachedGridRender=o.RenderContext.buildDefault(e,"transparent"),this.invalidateCache()}discardCache(){null!==this.cachedGridRender&&(this.buildCachedGridRender(this.cachedGridRenderScaleMultiplier),this.invalidateCache())}destroy(){null!==this.cachedGridRender&&(this.canvasFactory.destroyCanvas(this.cachedGridRender.nativeCanvas),this.cachedGridRender=null),this.cachedGridZoom=0}invalidateCache(){this.cachedGridZoom=0}}},6725:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultInvalidationStrategy=void 0;e.DefaultInvalidationStrategy=class DefaultInvalidationStrategy{constructor(t,e,i){this.renderingStrategy=t,this.surface=e,this.paint=i}isPendingRedraw(){return void 0!==this.pendingRedrawRequest}invalidateRect(t,e){this.renderingStrategy.invalidateRect(t,this.surface),e&&this.enqueuePendingRedraw()}enqueuePendingRedraw(){void 0===this.pendingRedrawRequest&&(this.pendingRedrawRequest=requestAnimationFrame(this.redraw.bind(this)))}redraw(){void 0!==this.pendingRedrawRequest&&(this.pendingRedrawRequest=void 0,this.paint())}flush(){}destroy(){void 0!==this.pendingRedrawRequest&&(cancelAnimationFrame(this.pendingRedrawRequest),this.pendingRedrawRequest=void 0)}}},3841:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThrottledInvalidationStrategy=void 0;const o=i(8126),a=i(4675),n=i(8153);e.ThrottledInvalidationStrategy=class ThrottledInvalidationStrategy{constructor(t,e){this.pendingRects=new n.PendingRedrawRects(new a.SimplePool(o.Rectangle,256)),this.pendingRedraw=!1,this.childStrategy=t,this.paint=e}isPendingRedraw(){return this.pendingRedraw||this.childStrategy.isPendingRedraw()}invalidateRect(t,e){this.pendingRects.push(t),e&&this.enqueueThrottledRedraw()}enqueueThrottledRedraw(){this.pendingRedraw||(this.pendingRedraw=!0,setTimeout(this.redraw.bind(this),1e3/45))}redraw(){this.pendingRedraw&&(this.pendingRedraw=!1,this.flush(),this.childStrategy.isPendingRedraw()||this.paint())}flush(){this.childStrategy.flush(),this.pendingRects.length>0&&(this.pendingRects.forEach((t=>this.childStrategy.invalidateRect(t,!1))),this.pendingRects.clear())}enqueuePendingRedraw(){this.childStrategy.enqueuePendingRedraw()}destroy(){this.flush(),this.pendingRedraw=!1,this.childStrategy.destroy()}}},9852:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositeStrategy=void 0;const o=i(3036);e.CompositeStrategy=class CompositeStrategy{constructor(t){this.strategies=[],this.strategies=t,this.renderFn=o.renderNoOp;for(let e=t.length-1;e>=0;--e){const i=this.renderFn,o=t[e];this.renderFn=(t,e,a)=>o.render(t,e,a,i)}}warmup(){for(let t=0,e=this.strategies.length;t<e;++t)this.strategies[t].warmup()}viewportResize(t,e){for(let i=0,o=this.strategies.length;i<o;++i)this.strategies[i].viewportResize(t,e)}invalidateRect(t,e){for(let i=0,o=this.strategies.length;i<o;++i)this.strategies[i].invalidateRect(t,e)}newFrame(){for(let t=0,e=this.strategies.length;t<e;++t)this.strategies[t].newFrame()}render(t,e,i){return this.renderFn(t,e,i)}discardCache(){this.strategies.forEach((t=>t.discardCache()))}destroy(){this.strategies.forEach((t=>t.destroy()))}}},5298:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomLayerStrategy=void 0;const o=i(3886);e.CustomLayerStrategy=class CustomLayerStrategy{constructor(t,e){this.qtIterator=t,this.customLayersDrawingOrder=e}warmup(){}viewportResize(){}invalidateRect(){}newFrame(){}render(t,e,i,a){const n=a(t,e,i);let r=!1;const s=(0,o.getNextQtFrame)();for(let i=0;i<this.customLayersDrawingOrder.length;i++){const o=this.customLayersDrawingOrder[i];o.visible&&(r||(r=!0,this.qtIterator.forEachVisibleNode(e,(t=>t.qtFrame=s))),this.renderQtLayer(o,t,e,s))}return n}renderQtLayer(t,e,i,o){if(t.backColor&&"transparent"!==t.backColor){e.setupViewportTransform();const o=e.renderScaleMultiplier/e.renderScale;e.drawRectangle(i.x,i.y,i.width+o,i.height+o,t.backColor,"",0)}const a=t.getLayerRootNodes();e.setupViewportTransform();for(let i=0;i<a.length;i++)this.renderQtFrame(a[i],e,o,t)}renderQtFrame(t,e,i,o){t.render(e,(t=>t.qtFrame===i&&t.visible),((t,e)=>{const i=t.isPartialNode&&e,a=!t.isPartialNode&&o.hasNode(t);return i||a}))}discardCache(){}destroy(){}}},3036:(t,e)=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.renderNoOp=e.RenderResult=void 0,function(t){t[t.Done=0]="Done",t[t.InProgress=1]="InProgress"}(i||(e.RenderResult=i={}));e.renderNoOp=()=>i.Done},4375:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OptimizedViewportStrategy=void 0;const o=i(9271),a=i(9271),n=i(8126),r=i(4675),s=i(3036),l=i(8153);e.OptimizedViewportStrategy=class OptimizedViewportStrategy{constructor(t,e,i,o){this.usedLastRender=!1,this.cacheValid=!1,this.cacheClipBounds=new n.Rectangle,this.zooming=!1,this.zoomingFrames=0,this.zoomingMinScale=1,this.rectsPool=new r.SimplePool(n.Rectangle,1024),this.usePan=!0,this.useZoomIn=!0,this.useZoomOut=!0,this.usePartialInvalidation=!0,this.fixedBackground=!1,this.renderScaleMultiplier=e,this.getMuralBoundsFn=i,this.fixedBackground=o,"safari"!==t.runtime||t.mobile&&"ipad"!==t.deviceType||(this.usePan=!1,this.useZoomOut=!1,this.usePartialInvalidation=!1,"ipad"===t.deviceType&&(this.useZoomIn=!1)),this.pendingRedrawViewportRects=new l.PendingRedrawRects(this.rectsPool,16)}warmup(){this.invalidateCache()}invalidateRect(t,e){e.shows(t)&&this.pendingRedrawViewportRects.push(t)}viewportResize(){this.invalidateCache()}newFrame(){}render(t,e,i,n){let r=s.RenderResult.Done;if(this.canUseCacheForInvalidation(t))this.usedLastRender=!0,r=this.drawPendingRects(t,n,[]);else if(this.canUseCacheForPanning(t)){const e=t.cameraClipBounds,i=t.cameraScale,s=this.renderScaleMultiplier,l=Math.round((e.x-this.cacheClipBounds.x)*i),c=Math.round((e.y-this.cacheClipBounds.y)*i),d=this.cacheClipBounds.x+l/i,h=this.cacheClipBounds.y+c/i,u=(-this.cacheClipBounds.x*i-l)*s,v=(-this.cacheClipBounds.y*i-c)*s,g=t.cameraClipBounds.x,f=t.cameraClipBounds.y,y=t.cameraTransformMatrixI[o.M3_TX],x=t.cameraTransformMatrixI[a.M3_TY];t.cameraClipBounds.setLocation(d,h),t.cameraTransformMatrixI[o.M3_TX]=u,t.cameraTransformMatrixI[a.M3_TY]=v,r=this.renderOptimizedViewportPanning(t,n,l,c),t.cameraClipBounds.setLocation(g,f),t.cameraTransformMatrixI[o.M3_TX]=y,t.cameraTransformMatrixI[a.M3_TY]=x,this.usedLastRender=!0,this.cacheClipBounds.setLocation(d,h)}else this.canUseCacheForZooming(t)?(this.zooming||(this.zooming=!0,this.zoomingFrames=0,this.zoomingMinScale=t.cameraScale),r=this.renderOptimizedViewportZooming(t,n),this.usedLastRender=!0,this.cacheClipBounds.copy(t.cameraClipBounds),this.zoomingFrames++,this.zoomingMinScale=Math.min(this.zoomingMinScale,t.cameraScale)):(this.invalidateCache(),r=n(t,e,i),this.usedLastRender=!1,r===s.RenderResult.Done&&(this.cacheClipBounds.copy(t.cameraClipBounds),this.cacheValid=!0,this.zooming=!1));return r}invalidateCache(){this.cacheValid=!1,this.pendingRedrawViewportRects.clear()}renderOptimizedViewportZooming(t,e){const i=this.renderScaleMultiplier,o=this.cacheClipBounds,{cameraClipBounds:a,native:n,targetWidth:r,targetHeight:l}=t,c=r/o.width,d=r/a.width,h=(a.x-o.x)*c,u=(a.y-o.y)*c,v=(a.x1-o.x)*c,g=(a.y1-o.y)*c,f=v-h,y=g-u,x=[],m=r/f;t.saveContext(),n.imageSmoothingEnabled=!0,n.resetTransform();const R=-Math.min(h,0),b=-Math.min(u,0),w=R+Math.max(f-R-r,0),S=b+Math.max(y-b-l,0);return n.drawImage(n.canvas,(h+R)*i,(u+b)*i,(f-w)*i,(y-S)*i,(0+R*m)*i,(0+b*m)*i,(r-w*m)*i,(l-S*m)*i),h<0&&x.push(this.newRectangle(0,0,-h*m,l)),v>r&&x.push(this.newRectangle(r-(v-r)*m,0,(v-r)*m,l)),u<0&&x.push(this.newRectangle(0,0,r,-u*m)),g>l&&x.push(this.newRectangle(0,l-(g-l)*m,r,(g-l)*m)),this.fixedBackground&&this.forEachOutsideMuralRect(a,this.getMuralBoundsFn(),((t,e,i,o)=>{const n=(t-a.x)*d,r=(e-a.y)*d,s=n+i*d-n,l=r+o*d-r;x.push(this.newRectangle(n,r,s,l))})),this.drawNewVisibleContent(x,t,e),this.rectsPool.returnAndClearArray(x),s.RenderResult.InProgress}renderOptimizedViewportPanning(t,e,i,o){const a=this.renderScaleMultiplier,n=t.targetWidth,r=t.targetHeight,s=t.native,l=[];return 0===i&&0===o||(t.saveContext(),s.imageSmoothingEnabled=!1,s.resetTransform(),s.drawImage(s.canvas,-i*a,-o*a),t.restoreContext(),i<0?l.push(this.newRectangle(0,0,-i,r)):i>0&&l.push(this.newRectangle(n-i,0,i,r)),o<0?l.push(this.newRectangle(0,0,n,-o)):o>0&&l.push(this.newRectangle(0,r-o,n,o)),this.fixedBackground&&this.forEachOutsideMuralRect(t.cameraClipBounds,this.getMuralBoundsFn(),this.pendingRedrawViewportRects.pushNewRectangle.bind(this.pendingRedrawViewportRects))),this.drawPendingRects(t,e,l)}drawPendingRects(t,e,i){let o=s.RenderResult.Done;const a=t.cameraScale,n=t.cameraClipBounds.x,r=t.cameraClipBounds.y;for(let t=0;t<this.pendingRedrawViewportRects.length;t++){const e=this.pendingRedrawViewportRects.get(t),o=(e.x-n)*a,s=(e.y-r)*a,l=e.width*a,c=e.height*a;i.push(this.newRectangle(o,s,l,c))}return this.pendingRedrawViewportRects.clear(),o=this.drawNewVisibleContent(i,t,e),this.rectsPool.returnAndClearArray(i),o}forEachOutsideMuralRect(t,e,i){const o=t.x,a=t.y,n=t.x1,r=t.y1,s=t.width,l=t.height;let c=0,d=0;o<e.x&&(c=e.x-o,i(o,a,e.x-o,l)),n>e.x1&&(d=n-e.x1,i(e.x1,a,n-e.x1,l)),a<e.y&&i(o+c,a,s-(d+c),e.y-a),r>e.y1&&i(o+c,e.y1,s-(d+c),r-e.y1)}newRectangle(t,e,i,o){const a=this.rectsPool.get();return a.setBounds(t,e,i,o),a}drawNewVisibleContent(t,e,i){const o=e.native,a=e.cameraScale,n=e.cameraClipBounds.x,r=e.cameraClipBounds.y,l=e.targetWidth,c=e.targetHeight,d=this.renderScaleMultiplier;let h=s.RenderResult.Done;for(let u=0;u<t.length;u++){const v=t[u],g=Math.floor(v.x)-1,f=Math.floor(v.y)-1,y=Math.max(g,0),x=Math.max(f,0),m=Math.min(Math.ceil(v.x1)+1,l)-y,R=Math.min(Math.ceil(v.y1)+1,c)-x;if(m<=0||R<=0)continue;e.saveContext(),o.resetTransform(),o.beginPath(),o.rect(y*d,x*d,m*d,R*d),o.clip(),e.setupViewportTransform(),v.setBounds(y/a+n,x/a+r,m/a,R/a);i(e,v,!0)===s.RenderResult.InProgress&&(h=s.RenderResult.InProgress),e.restoreContext()}return h}canUseCacheForInvalidation(t){const e=t.cameraClipBounds;return this.usePartialInvalidation&&this.cacheValid&&!this.zooming&&this.cacheClipBounds.equals(e)}canUseCacheForPanning(t){const e=t.cameraClipBounds,i=this.getMuralBoundsFn();return this.usePan&&this.cacheValid&&!this.zooming&&this.cacheClipBounds.width==e.width&&this.cacheClipBounds.height==e.height&&(this.cacheClipBounds.x!==e.x||this.cacheClipBounds.y!==e.y)&&this.cacheClipBounds.intersects(e)&&(!this.fixedBackground||i.intersects(e))}canUseCacheForZooming(t){const e=t.cameraClipBounds,i=this.getMuralBoundsFn(),o=e.width<this.cacheClipBounds.width,a=e.width>this.cacheClipBounds.width;return this.cacheValid&&(o&&this.useZoomIn||a&&this.useZoomOut)&&(!this.zooming||this.zoomingFrames<60)&&(!this.zooming||t.cameraScale/this.zoomingMinScale<4)&&this.cacheClipBounds.intersects(e)&&(!this.fixedBackground||i.intersects(e))}getStats(){return{usedLastRender:this.usedLastRender}}discardCache(){this.invalidateCache()}destroy(){}forceInvalidation(){this.invalidateCache()}}},3535:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScreenshotStrategy=void 0;const o=i(3036);e.ScreenshotStrategy=class ScreenshotStrategy{constructor(t,e,i){this.states=t,this.externalIdsFilter=e,this.root=i}warmup(){}viewportResize(){}invalidateRect(){}newFrame(){}render(t){return t.setupViewportTransform(),this.renderNode(this.root,t),o.RenderResult.Done}renderNode(t,e){t.render(e,(t=>t.visible),((t,e)=>{const i=this.states.includes(t.state),o=t.isPartialNode&&e,a=!t.isPartialNode&&(0==this.externalIdsFilter.length||this.externalIdsFilter.includes(t.externalId));return t===this.root||i&&(o||a)}))}discardCache(){}destroy(){}}},9752:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileCacheStrategy=void 0;const o=i(8126),a=i(4675),n=i(1041),r=i(9512),s=i(3036),l=i(8153);function floorToScale(t){return Math.floor(t/r.TILE_CACHE_SCALE)*r.TILE_CACHE_SCALE}function ceilToScale(t){return Math.ceil(t/r.TILE_CACHE_SCALE)*r.TILE_CACHE_SCALE}e.TileCacheStrategy=class TileCacheStrategy{get enabled(){return this.enabled_}get forceSkipCache(){return this.forceSkipCache_}set forceSkipCache(t){this.forceSkipCache_=t}constructor(t,e,i,r,s,c){this.frame=0,this.pendingWarmUp=!0,this.rectsPool=new a.SimplePool(o.Rectangle,1024),this.stats=function buildStats(){return{used:!1,updatedTiles:0,invalidatedTileIds:new Set}}(),this.enabled_=!0,this.forceSkipCache_=!1,this.pendingDirtyCacheRects=new Map,this.pendingRedrawRects=new l.PendingRedrawRects(this.rectsPool),this.qtIterator=t,this.root=e,this.rects=new n.TileCacheRects(s,c.screen.gpu.bugs,i),this.drawBackgroundFn=r,this.maxCacheSize="safari"===c.runtime&&c.mobile?314572800:2147483648}warmup(){this.pendingWarmUp=!0}warmupCache(t){if(this.updateEnabled(),this.enabled_){const e=this.rects.getIteratorForBounds(this.root.aabb);for(;e.next();)this.cacheIterator(e,t)}if(this.updateEnabled(),this.enabled_){const e=this.rects.getIteratorForBounds(this.root.aabb);for(;e.next();){const i=e.getCurrentInfo();null===i||i.hasBitmap||this.updateBitmap(i,t,!0)}}this.pendingRedrawRects.clear()}updateEnabled(){const t=this.rects.getIteratorForBounds(this.root.aabb),e=this.rects.getMaxPotentialMemoryUsage()<=this.maxCacheSize&&t.rectsCount<=1e7;this.enabled_!==e&&(this.enabled_=e,e||(this.pendingRedrawRects.clear(),this.rects.freeMemory()))}invalidateRect(t){if(!this.enabled_)return;const e=floorToScale(t.x)-r.TILE_CACHE_SCALE,i=floorToScale(t.y)-r.TILE_CACHE_SCALE,o=ceilToScale(t.width)+2*r.TILE_CACHE_SCALE,a=ceilToScale(t.height)+2*r.TILE_CACHE_SCALE;this.pendingRedrawRects.pushNewRectangle(e,i,o,a)}viewportResize(){}newFrame(){!function resetStats(t){t.updatedTiles=0,t.invalidatedTileIds.clear()}(this.stats),this.pendingWarmUp||this.addPendingRedrawRectsToDirtyCacheRects()}getVisibleCacheRectsStats(t){const e=this.rects.getIteratorForBounds(t);let i=0,o=0;for(;e.next();){const t=e.getCurrentInfo(),a=e.getCurrentInfoId();(null!==t||null===t&&this.pendingDirtyCacheRects.has(a))&&i++,this.stats.invalidatedTileIds.has(a)&&o++}return{visibleRects:i,rectsToUpdateFromInvalidationsThisFrame:o}}render(t,e,i,o){return this.pendingWarmUp&&(this.pendingWarmUp=!1,this.warmupCache(o)),this.addPendingRedrawRectsToDirtyCacheRects(),this.shouldUseCache(t.cameraScale)?(this.updateFromDirtyCacheRects(o,e),this.stats.used=!0,i&&this.drawBackgroundFn(t,e),this.renderCacheRects(t,e,o)):(this.stats.used=!1,o(t,e,i))}renderCacheRects(t,e,i){const o=t.cameraScale,a=t.renderScale,n=t.native;this.frame++;const r=this.rects.getIteratorForBounds(e);t.saveContext(),n.imageSmoothingEnabled=!0,n.resetTransform();const l=[];for(;r.next();){const e=r.getCurrentInfo();null!==e&&(e.visibleFrame=this.frame,e.hasBitmap?this.renderBitmap(e,o,a,t.cameraClipBounds,n):l.push(e))}if(l.length>0){for(let e=0;e<l.length;e++){const r=l[e];this.updateBitmap(r,i,!1),this.renderBitmap(r,o,a,t.cameraClipBounds,n)}this.updateEnabled()}return t.restoreContext(),s.RenderResult.Done}addPendingRedrawRectsToDirtyCacheRects(){const t=this.pendingRedrawRects.getAllRects(),e=this.pendingDirtyCacheRects;for(let i=0;i<t.length;i++){const o=t[i],a=this.rects.getIteratorForBounds(o);for(;a.next();){const t=a.getCurrentInfoId(),i=e.get(t);if(i)i.union(o);else{const i=this.rectsPool.get();i.copy(o),e.set(t,i)}this.stats.invalidatedTileIds.add(t)}}this.pendingRedrawRects.clear()}updateFromDirtyCacheRects(t,e){if(0===this.pendingDirtyCacheRects.size)return;const i=this.rects.getIteratorForBounds(e);for(;i.next();){const e=i.getCurrentInfoId(),o=this.pendingDirtyCacheRects.get(e);o&&(this.cacheIterator(i,t,o),this.rectsPool.return(o),this.pendingDirtyCacheRects.delete(e))}}cacheIterator(t,e,i){const o=t.getCurrentBounds();let a=0;if(this.qtIterator.forEachVisibleNode(o,(t=>{const e=t;e.visible&&e!==this.root&&a++})),0==a)return void t.disposeCurrentInfo();t.prepareCurrentInfo();const n=t.getCurrentInfo();if(null!==n&&n.hasBitmap){const t=i&&i.contains(o)?void 0:i;this.updateBitmap(n,e,!1,t)}}updateBitmap(t,e,i,o){this.stats.updatedTiles++,t.prepareBitmapAndSurface();const a=t.surface;if(null===a)return;o?(a.resetTransform(),a.ctx.save(),a.ctx.beginPath(),a.ctx.rect(o.x,o.y,o.width,o.height),a.ctx.clip(),a.ctx.clearRect(o.x,o.y,o.width,o.height)):a.clear();const n=a.beginRender(!1);e(n,t.bounds,!1),n.finishRendering(),o?(a.ctx.restore(),t.dirtyMipmapsRect(o)):t.dirtyAllMipmaps(i)}renderBitmap(t,e,i,o,a){const n=t.getBestMipmap(e);if(null===n)return;const r=t.bounds,s=Math.floor((r.x-o.x)*i),l=Math.floor((r.x1-o.x)*i),c=Math.floor((r.y-o.y)*i),d=Math.floor((r.y1-o.y)*i);a.drawImage(n,s,c,l-s,d-c)}shouldUseCache(t){if(!this.enabled_||this.forceSkipCache_)return!1;return r.TILE_CACHE_SCALE<1/t}getStats(){return Object.assign(Object.assign(Object.assign({},this.rects.getStats()),this.stats),{enabled:this.enabled_,forceSkip:this.forceSkipCache_})}getFullBoundsIterator(){return this.rects.getIteratorForBounds(this.root.aabb)}discardCache(){this.rects.freeMemory(),this.warmup()}destroy(){this.rects.freeMemory()}}},8153:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PendingRedrawRects=void 0;const o=i(8126);e.PendingRedrawRects=class PendingRedrawRects{constructor(t,e=0){this.rects=[],this.tmpRect=new o.Rectangle,this.pool=t,this.maxRectsBeforeMerge=e}get length(){return this.rects.length}get(t){return this.rects[t]}getAllRects(){return this.rects}push(t){let e=this.rects.length>0?this.rects[this.rects.length-1]:null;if(null!==e&&t.inside(e))return;for(;null!==e&&e.inside(t);)this.pool.return(e),this.rects.pop(),e=this.rects.length>0?this.rects[this.rects.length-1]:null;const i=this.pool.get();if(i.copy(t),this.rects.push(i),this.maxRectsBeforeMerge>0&&this.rects.length>this.maxRectsBeforeMerge){const t=this.pool.get();t.copy(this.rects[0]),t.unionRects(this.rects),this.clear(),this.rects.push(t)}}pushNewRectangle(t,e,i,o){this.tmpRect.setBounds(t,e,i,o),this.push(this.tmpRect)}clear(){this.pool.returnAndClearArray(this.rects)}forEach(t){this.rects.forEach(t)}}},5425:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportStrategy=void 0;const o=i(3886),a=i(3036);e.ViewportStrategy=class ViewportStrategy{constructor(t,e,i){this.qtIterator=t,this.drawBackgroundFn=e,this.layersDrawingOrder=i}warmup(){}viewportResize(){}invalidateRect(){}newFrame(){}render(t,e,i){i&&this.drawBackgroundFn(t,e);const n=(0,o.getNextQtFrame)();this.qtIterator.forEachVisibleNode(e,(t=>t.qtFrame=n));for(let e=0;e<this.layersDrawingOrder.length;e++)this.renderQtLayer(this.layersDrawingOrder[e],t,n);return a.RenderResult.Done}renderQtLayer(t,e,i){const o=t.getLayerRootNodes(),a=t.layer;e.setupViewportTransform();for(let t=0;t<o.length;t++)this.renderQtFrame(o[t],e,i,a)}renderQtFrame(t,e,i,o){t.render(e,(t=>t.qtFrame===i&&t.visible),(t=>t.layer===o))}discardCache(){}destroy(){}}},7562:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CacheRectBitmap=e.getCacheRectMemoryUsage=void 0;const o=i(8126),a=i(8168),n=i(8839);function floorToEven(t){return 2*Math.floor(t/2)}function ceilToEven(t){return 2*Math.ceil(t/2)}function getCacheRectMemoryUsage(t,e,i){let o=t*e;for(let a=0;a<i;a++){o+=t/(1<<a+1)*(e/(1<<a+1))}return 4*o}e.getCacheRectMemoryUsage=getCacheRectMemoryUsage;e.CacheRectBitmap=class CacheRectBitmap{get hasPendingUpdates(){return this.validMipmapLevel!==this.mipmapLevels||this.validMipmapRectLevel!==this.validMipmapLevel}constructor(t,e,i,a,r,s=null){this.bounds=new o.Rectangle,this.mipmaps=[],this.mipmapsCtx=[],this.validMipmapLevel=0,this.validMipmapRectLevel=0,this.invalidMipmapRect=new o.Rectangle,this.asyncHelper=null,this.asyncHelper=s,this.canvasFactory=a;const l=a.createCanvas(ceilToEven(t),ceilToEven(e));this.bitmap=l.canvas,this.bounds.setBounds(0,0,t,e),this.surface=new n.RenderSurface(l,r,1),this.surface.setCameraPosition(this.bounds.centerX,this.bounds.centerY),this.mipmapLevels=i,this.buildMipmaps()}init(t){this.bounds.copy(t),this.surface.setCameraPosition(t.centerX,t.centerY),this.surface.clear(),this.validMipmapLevel=0,this.validMipmapRectLevel=0}buildMipmaps(){for(let t=0;t<this.mipmapLevels;t++){const{canvas:e,ctx:i}=this.canvasFactory.createCanvas(this.bitmap.width/(1<<t+1),this.bitmap.height/(1<<t+1));i.imageSmoothingEnabled=!0,this.mipmaps.push(e),this.mipmapsCtx.push(i)}}dirtyAllMipmaps(t){if(this.validMipmapLevel=0,this.validMipmapRectLevel=0,t)for(;this.hasPendingUpdates;)this.update();else null!==this.asyncHelper&&this.asyncHelper.registerForUpdate(this)}dirtyMipmapsRect(t){if(this.validMipmapRectLevel===this.validMipmapLevel?(this.validMipmapRectLevel=0,this.invalidMipmapRect.copy(t)):(this.validMipmapRectLevel=0,this.invalidMipmapRect.union(t)),null!==this.asyncHelper)this.asyncHelper.registerForUpdate(this);else for(;this.validMipmapRectLevel!==this.validMipmapLevel;)this.update()}getBestMipmap(t){if(null===this.asyncHelper&&this.update(),t<2||0==this.validMipmapLevel)return this.bitmap;let e=-1;for(let i=0;i<this.validMipmapLevel;i++){if(1<<i+2>t){e=i;break}}for(e<0&&(e=this.validMipmapLevel-1);this.validMipmapRectLevel<=e;)this.update();return this.mipmaps[e]}update(){if(this.validMipmapLevel<this.mipmapLevels){const t=this.validMipmapLevel,e=this.mipmaps[t],i=this.mipmapsCtx[t];i.clearRect(0,0,e.width,e.height);const o=0==t?this.bitmap:this.mipmaps[t-1];(0,a.isValidDrawImageSource)(o)&&i.drawImage(o,0,0,e.width,e.height),this.validMipmapLevel++,this.validMipmapRectLevel===this.validMipmapLevel-1&&this.validMipmapRectLevel++}else if(this.validMipmapRectLevel<this.validMipmapLevel){const t=this.validMipmapRectLevel,e=this.invalidMipmapRect,i=this.mipmaps[t],o=this.mipmapsCtx[t],n=0==t?this.bitmap:this.mipmaps[t-1],r=this.bounds.width/i.width,s=this.bounds.height/i.height,l=n.width/i.width,c=n.height/i.height,d=Math.max(floorToEven((e.x-this.bounds.x)/r-r),0),h=Math.max(floorToEven((e.y-this.bounds.y)/s-s),0),u=Math.min(ceilToEven((e.x1-this.bounds.x)/r+r),i.width),v=Math.min(ceilToEven((e.y1-this.bounds.y)/s+s),i.height),g=d*l,f=h*c,y=u*l,x=v*c;o.clearRect(d,h,u-d,v-h),(0,a.isValidDrawImageSource)(n)&&o.drawImage(n,g,f,y-g,x-f,d,h,u-d,v-h),this.validMipmapRectLevel++}this.hasPendingUpdates||null===this.asyncHelper||this.asyncHelper.unregisterForUpdate(this)}getMemoryUsage(){return getCacheRectMemoryUsage(this.bitmap.width,this.bitmap.height,this.mipmapLevels)}disposeBitmaps(){this.canvasFactory.destroyCanvas(this.bitmap),this.mipmaps.forEach(this.canvasFactory.destroyCanvas)}clear(){null!==this.asyncHelper&&this.asyncHelper.unregisterForUpdate(this)}}},1557:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileCacheRectAsyncHelper=void 0;e.TileCacheRectAsyncHelper=class TileCacheRectAsyncHelper{constructor(){this.rects=new Set,this.animationFrameRequested=!1}registerForUpdate(t){this.rects.add(t),this.requestEnterFrame()}unregisterForUpdate(t){this.rects.delete(t)}requestEnterFrame(){this.animationFrameRequested||(this.animationFrameRequested=!0,requestAnimationFrame((()=>this.onAnimationFrame())))}onAnimationFrame(){this.animationFrameRequested=!1,this.rects.forEach((t=>t.update())),this.rects.size>0&&this.requestEnterFrame()}clear(){this.rects.clear()}}},9521:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileCacheRectInfo=void 0;const o=i(8126),a=i(7562),n=i(9512);e.TileCacheRectInfo=class TileCacheRectInfo{get bitmap(){return null!==this.rectBitmap?this.rectBitmap.bitmap:null}get surface(){return null!==this.rectBitmap?this.rectBitmap.surface:null}get hasBitmap(){return null!==this.rectBitmap}constructor(t){this.visibleFrame=-1,this.bounds=new o.Rectangle,this.rectBitmap=null,this.bounds.setDimension(n.TILE_CACHE_RECT_SIZE,n.TILE_CACHE_RECT_SIZE),this.bitmapsPool=t}init(t,e){this.bounds.setLocation(t,e),null!==this.rectBitmap&&this.rectBitmap.init(this.bounds),this.visibleFrame=-1}prepareBitmapAndSurface(){null===this.rectBitmap&&(this.rectBitmap=this.bitmapsPool.get(),this.rectBitmap.init(this.bounds))}disposeBitmapAndSurface(){null!==this.rectBitmap&&(this.bitmapsPool.return(this.rectBitmap),this.rectBitmap=null)}dirtyAllMipmaps(t){var e;null===(e=this.rectBitmap)||void 0===e||e.dirtyAllMipmaps(t)}dirtyMipmapsRect(t){var e;null===(e=this.rectBitmap)||void 0===e||e.dirtyMipmapsRect(t)}getBestMipmap(t){return null!==this.rectBitmap?this.rectBitmap.getBestMipmap(1/(t*n.TILE_CACHE_SCALE)):null}getMemoryUsage(){return null!==this.rectBitmap?this.rectBitmap.getMemoryUsage():0}getMaxPotentialMemoryUsage(t){return(0,a.getCacheRectMemoryUsage)(n.TILE_CACHE_BITMAP_SIZE*t,n.TILE_CACHE_BITMAP_SIZE*t,n.TILE_CACHE_MIPMAP_LEVELS)}clear(){var t;null===(t=this.rectBitmap)||void 0===t||t.clear()}}},1041:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileCacheRects=void 0;const o=i(4675),a=i(7562),n=i(1557),r=i(9521),s=i(8939),l=i(9512);e.TileCacheRects=class TileCacheRects{constructor(t,e,i){this.rectsMap=new Map,this.tmpArray=[],this.renderScaleMultiplier=i,this.asyncHelper=new n.TileCacheRectAsyncHelper,this.bitmapsPool=new o.ParametrizedPool((()=>{const o=new a.CacheRectBitmap(l.TILE_CACHE_BITMAP_SIZE*i,l.TILE_CACHE_BITMAP_SIZE*i,l.TILE_CACHE_MIPMAP_LEVELS,t,e,this.asyncHelper);return o.surface.clearColor="transparent",o.surface.setCameraScale(1/l.TILE_CACHE_SCALE*i),o}),(t=>t.clear())),this.rectsPool=new o.ParametrizedPool((()=>new r.TileCacheRectInfo(this.bitmapsPool)),(t=>t.clear()))}get rectsCount(){return this.rectsMap.size}getIteratorForBounds(t){const e=Math.floor(t.x/l.TILE_CACHE_RECT_SIZE),i=Math.floor(t.y/l.TILE_CACHE_RECT_SIZE),o=Math.floor(t.x1/l.TILE_CACHE_RECT_SIZE+1),a=Math.floor(t.y1/l.TILE_CACHE_RECT_SIZE+1);return new s.TileCacheRectsIterator(this.rectsMap,this.rectsPool,e,i,o,a)}getStats(){const t=this.rectsCount;let e=0,i=0;return this.rectsMap.forEach((t=>{e+=t.getMemoryUsage()})),this.bitmapsPool.forEach((t=>i+=t.getMemoryUsage())),this.rectsPool.forEach((t=>i+=t.getMemoryUsage())),{rectsCount:t,totalMemoryMB:Math.round(e/1048576),totalPoolMB:Math.round(i/1048576)}}getMaxPotentialMemoryUsage(){let t=0;return this.rectsMap.forEach((e=>{t+=e.getMaxPotentialMemoryUsage(this.renderScaleMultiplier)})),t}cleanUpNonVisibleEntries(t,e){const i=this.tmpArray;i.length=0,this.rectsMap.forEach((e=>{e.hasBitmap&&e.visibleFrame!==t&&i.push(e)})),i.sort(((t,e)=>t.visibleFrame-e.visibleFrame));for(let t=0;t<e&&t<i.length;t++)i[t].disposeBitmapAndSurface()}freeMemory(){this.rectsMap.forEach((t=>t.disposeBitmapAndSurface())),this.rectsMap.clear(),this.rectsPool.clear(),this.bitmapsPool.forEach((t=>t.disposeBitmaps())),this.bitmapsPool.clear(),this.asyncHelper.clear()}}},8939:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileCacheRectsIterator=void 0;const o=i(8126),a=i(9512);e.TileCacheRectsIterator=class TileCacheRectsIterator{get rectsCount(){return(this.toX-this.fromX)*(this.toY-this.fromY)}constructor(t,e,i,a,n,r){this.fromX=0,this.fromY=0,this.toX=0,this.toY=0,this.started=!1,this.valid=!1,this.x=0,this.y=0,this.currentId=0,this.currentBounds=new o.Rectangle,this.currentInfo=null,this.rectsMap=t,this.rectsPool=e,this.fromX=i,this.fromY=a,this.toX=n,this.toY=r,this.x=this.fromX,this.y=this.fromY}restart(){this.started=!1,this.valid=!1,this.x=this.fromX,this.y=this.fromY,this.currentId=0,this.currentBounds.setEmpty(),this.currentInfo=null}getCurrentInfo(){return this.currentInfo}getCurrentInfoId(){return this.currentId}disposeCurrentInfo(){this.valid&&null!==this.currentInfo&&(this.currentInfo.disposeBitmapAndSurface(),this.rectsMap.delete(this.currentId),this.rectsPool.return(this.currentInfo),this.currentInfo=null)}prepareCurrentInfo(){this.valid&&null===this.currentInfo&&(this.currentInfo=this.rectsPool.get(),this.currentInfo.init(this.currentBounds.x,this.currentBounds.y),this.rectsMap.set(this.currentId,this.currentInfo))}getCurrentBounds(){return this.currentBounds}next(){if(this.started?(this.x++,this.x>=this.toX&&(this.x=this.fromX,this.y++)):this.started=!0,this.valid=this.x<this.toX&&this.y<this.toY,this.valid){this.currentId=(this.x<<16)+this.y,this.currentBounds.setBounds(this.x*a.TILE_CACHE_RECT_SIZE,this.y*a.TILE_CACHE_RECT_SIZE,a.TILE_CACHE_RECT_SIZE,a.TILE_CACHE_RECT_SIZE);const t=this.rectsMap.get(this.currentId);this.currentInfo=t||null}else this.currentId=0,this.currentBounds.setBounds(0,0,0,0),this.currentInfo=null;return this.valid}}},9512:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TILE_CACHE_MIPMAP_LEVELS=e.TILE_CACHE_RECT_SIZE=e.TILE_CACHE_SCALE=e.TILE_CACHE_BITMAP_SIZE=void 0,e.TILE_CACHE_BITMAP_SIZE=512,e.TILE_CACHE_SCALE=6,e.TILE_CACHE_RECT_SIZE=e.TILE_CACHE_BITMAP_SIZE*e.TILE_CACHE_SCALE,e.TILE_CACHE_MIPMAP_LEVELS=3},1113:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportVisibility=void 0;e.ViewportVisibility=class ViewportVisibility{constructor(t){this.lastViewportVisibleNodes=new Map,this.qtIterator=t}update(t,e){const i=this.lastViewportVisibleNodes,o=new Map;this.qtIterator.forEachVisibleNode(t,(t=>o.set(t.id,t))),o.forEach((t=>{i.has(t.id)||t.viewportVisibilityChanged(!0,e)})),i.forEach((t=>{o.has(t.id)||t.viewportVisibilityChanged(!1)})),this.lastViewportVisibleNodes=o}}},4973:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDomActions=void 0;e.createDomActions=(t,e)=>({mountEngine:t=>{e.mountEngine(t)},mountMinimap:e=>{e.appendChild(t.canvasMinimap.canvas)},unmountEngine:()=>{e.unmountEngine()},unmountMinimap:()=>{t.canvasMinimap.canvas.remove()}})},8212:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFeedbackActions=void 0;const o=i(8126),a=i(2848),n="rgba(118,168,240,0.5)";e.createFeedbackActions=t=>{const e=new Set,addIds=t=>{let i=!1;return t.forEach((t=>{e.add(t),i=!0})),i};return{api:{add:(...e)=>{addIds(e)&&t.invalidateViewport()},set:i=>{const o=e.size>0;o&&e.clear();const a=addIds(i);(o||a)&&t.invalidateViewport()},remove:(...i)=>{let o=!1;i.forEach((t=>{o=o||e.has(t),e.delete(t)})),o&&t.invalidateViewport()},clear:()=>{e.size&&(e.clear(),t.invalidateViewport())}},draw:i=>{if(!e.size)return;const r=new Path2D,s=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],l={width:0,height:0},c=[],d=i.surface.camera.scale,h=i.surface.camera.getClipBounds().x,u=i.surface.camera.getClipBounds().y,v=i.surface.renderScaleMultiplier,transformBoxToCamera=t=>{const e=t.x,i=t.y,o=t.x1,a=t.y1,n=Math.round((e-h)*d),r=Math.round((i-u)*d),s=Math.round((o-h)*d),l=Math.round((a-u)*d);t.setBounds(n,r,s-n,l-r)},transformSizeToCamera=t=>{t.width=Math.round(t.width*d),t.height=Math.round(t.height*d)},transformPointToCamera=t=>(t.x=(t.x-h)*d,t.y=(t.y-u)*d,t),g=new o.Rectangle;for(const i of e){const e=t.findNodeByExternalId(i);if(e)if(e.selectionShapes)c.push(e);else if(e.axisAligned)g.copy(e.aabbSelfOnlyWithoutRenderOverflow),transformBoxToCamera(g),(0,a.drawBox)(g,r);else{const{border:t}=e;e.getNonRotatedGlobalSizeWithBorder(l),transformSizeToCamera(l),s[0].x=-t,s[0].y=-t,s[1].x=e.width+t,s[1].y=-t,s[2].x=e.width+t,s[2].y=e.height+t,s[3].x=-t,s[3].y=e.height+t,e.transformPointsInPlace(s);for(let t=0;t<s.length;t++)transformPointToCamera(s[t]);r.moveTo(s[0].x,s[0].y),r.lineTo(s[1].x,s[1].y),r.lineTo(s[2].x,s[2].y),r.lineTo(s[3].x,s[3].y),r.closePath()}}const f=i.surface;f.ctx.globalAlpha=1,i.setDirty(),f.ctx.resetTransform(),f.ctx.scale(v,v);for(let t=0;t<c.length;t++){const e=c[t];(0,a.drawSelectionShape)(e,n,2,!1,f.ctx,f.camera)}f.ctx.resetTransform(),f.ctx.scale(v,v),f.ctx.fillStyle=n,f.ctx.fill(r)}}}},8456:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createGridActions=void 0;e.createGridActions=t=>({show:()=>{t.showGridLines()},hide:()=>{t.hideGridLines()},setOptions(e){t.setGridLinesOptions(e)}})},3339:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCanvasEngine=void 0;const o=i(4075),a=i(5123),n=i(3449),r=i(6757),s=i(3733),l=i(4973),c=i(8212),d=i(8456),h=i(2387),u=i(1226),v=i(4007),g=i(5789),f=i(8030),y=i(6183),x=i(7149);e.createCanvasEngine=(t,e,i,m,R)=>{const b=s.MDocument.create(e.canvas,e.canvasOverlay,e.canvasMinimap,e.contextLostListener,e.bounds.x,e.bounds.y,e.bounds.width,e.bounds.height,e.background,t,e.viewport.x,e.viewport.y,e.viewport.zoom,e.renderScaleMultiplier,e.runtimeInfo,m,e.layers||[],R.minimap,e.clearColor);b.registerViewportChangeListener(e.onViewportChange);const w=(0,y.createSelectionActions)(b,!!e.drawExplicitShadows,R.selection),S=(0,c.createFeedbackActions)(b),A=(0,o.createCustomFeedbackActions)(b),C=(0,a.createCustomHandleActions)(b),I=(0,v.createNodesActions)(b,w.api),M=(0,g.createRenderActions)(b),T=(0,r.createDebugActions)(b,i,m,w,A,M,I.api,e.runtimeInfo);return b.postRenderFn=t=>{S.draw(t),C.draw(t),w.draw(t),A.draw(t),T.draw(t),I.api.hover.updateActive()},b.onContextRestoredFn=()=>{var t;null===(t=e.onContextRestored)||void 0===t||t.call(e),i.clear()},{debug:T.api,destroy:()=>b.destroy(),minimap:(0,h.createMinimapActions)(b.minimap),mural:(0,u.createMuralActions)(b),nodes:I.api,selection:w.api,feedback:S.api,viewport:(0,x.createViewportActions)(b),gridlines:(0,d.createGridActions)(b),screenshot:(0,f.createScreenshotActions)(b,m,e.runtimeInfo),customLayers:(0,n.createCustomLayersActions)(b),customHandle:C.api,customFeedback:A.api,dom:(0,l.createDomActions)(e,b),render:M,__hackMDoc:b}}},2387:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMinimapActions=void 0;e.createMinimapActions=t=>({fromScreenPos:(e,i)=>t.fromScreenPos(e,i),setSizeBehavior:e=>t.setSizeBehavior(e),setPadding:e=>t.setPadding(e),show:()=>t.show(),hide:()=>t.hide(),getViewport:e=>t.getViewport(e),setViewport:(e,i)=>t.setViewport(e,i),deleteViewport:e=>t.deleteViewport(e),setUserColor:(e,i)=>t.setUserViewportColor(e,i),resize:(e,i)=>t.resize(e,i),setStyle:e=>t.setStyle(e)})},1226:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMuralActions=void 0;e.createMuralActions=t=>({offset:(e,i)=>{t.offsetBounds(e,i)},resize:(e,i)=>{t.resizeBounds(e,i)},setBackground:e=>t.setBackground(e)})},2986:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNodesActionsHover=void 0;const o=i(7684),a=i(201);e.createNodesActionsHover=(t,e)=>{let i=null,n=null,r=null,s=null;const l=[],c=new Set,d=new Set,collectHoverNodes=(t,e,i)=>{for(let o=t;o;o=o.parent)o.children.filter((t=>2===t.state&&!t.disabled)).forEach((t=>e.set(t.externalId,t))),o.children.filter((t=>1===t.state&&!t.disabled)).forEach((t=>i.set(t.externalId,t)))},setHoveringNodes=(e=new Map,i=new Map)=>{((e,i)=>{l.forEach((o=>{const n=(0,a.getNodeByHint)(t,o.externalId,o.hint);collectHoverNodes(n,e,i)}))})(e,i),((e=new Map)=>{c.forEach((i=>{if(!e.has(i)){const e=t.findNodeByExternalId(i);e&&(0,o.startOutAnimations)(e),c.delete(i)}})),e.forEach((t=>{c.has(t.externalId)||((0,o.startInAnimations)(t),c.add(t.externalId))}))})(e),((e=new Map)=>{d.forEach((i=>{if(!e.has(i)){const e=t.findNodeByExternalId(i);e&&(0,o.startInAnimations)(e),d.delete(i)}})),e.forEach((t=>{d.has(t.externalId)||((0,o.startOutAnimations)(t),d.add(t.externalId))}))})(i)},doHoverAt=(e,i,o,a=0)=>{if(a>50)return;const n=t.getNode(e,i,o||0,(t=>t.visible&&t.alpha>0&&3!==t.state));if(n===r)return void(0!==a||n||setHoveringNodes());r=n;const s=new Map,l=new Map;collectHoverNodes(n,s,l),setHoveringNodes(s,l),doHoverAt(e,i,o,a+1)},doHoverOver=e=>{const i=t.findNodeByExternalId(e);if(i===s)return void(i||setHoveringNodes());s=i;const o=s?s.children.find((t=>3===t.state)):null;setHoveringNodes(new Map(o?[[o.externalId,o]]:[]))},isLocked=(t,e)=>!!l.find((i=>i.externalId===t&&i.hint===e)),h={at:(t,o,a)=>{n=null,i={x:t,y:o,tolerance:a},((t,i)=>null!==e.handler.getAt(t,i))(t,o)?(setHoveringNodes(),r=null,s=null):doHoverAt(t,o,a)},updateActive:()=>{i?(r=null,doHoverAt(i.x,i.y,i.tolerance)):n?(s=null,doHoverOver(n.externalId)):setHoveringNodes()},over:t=>{i=null,n={externalId:t},doHoverOver(t)},clear:()=>{r=null,i=null,s=null,n=null,setHoveringNodes()},lock:(e,i)=>{if(isLocked(e,i))return;(0,a.getNodeByHint)(t,e,i)&&(((t,e)=>{l.push({externalId:t,hint:e})})(e,i),h.updateActive())},unlock:(t,e)=>{isLocked(t,e)&&(((t,e)=>{const i=l.findIndex((i=>i.externalId===t&&i.hint===e));i>=0&&l.splice(i,1)})(t,e),h.updateActive())},clearLocked:()=>{0!==l.length&&(l.length=0,h.updateActive())}};return h}},4070:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNodesActionsTransient=void 0;const o=i(7684),a=i(8021),changeNodeDraggingVisualFeedbackActivation=(t,e,i)=>{const a=t.findNodeByExternalId(e);if(!a)return;a.toggleState(10,i,1);const n=t.findNodeByExternalId(e+"-shadow-offset");n&&(i?(0,o.startShadowDraggingBeginAnimation)(n):(0,o.startShadowDraggingEndAnimation)(n))},changeNodeMoveToTopActivation=(t,e,i)=>{const o=t.findNodeByExternalId(e);o&&(o.ownLayer=i?2:1,o.toggleState(6,i,1))};class RenderTransientActionImpl{constructor(t,e,i,o){this._ended=!1,this._moveToTopEnabled=!1,this._draggingVisualFeedbackEnabled=!1,this._ids=t,this._moveToTopNodeActivator=e,this._draggingVisualFeedbackNodeActivator=i,this._onEndFn=o}moveToTop(){return this.checkEnded()||this._moveToTopEnabled||(this._moveToTopEnabled=!0,this._moveToTopNodeActivator.add(this._ids)),this}draggingVisualFeedback(){return this.checkEnded()||this._draggingVisualFeedbackEnabled||(this._draggingVisualFeedbackEnabled=!0,this._draggingVisualFeedbackNodeActivator.add(this._ids)),this}end(){this.checkEnded()||(this._ended=!0,this._draggingVisualFeedbackEnabled&&this._draggingVisualFeedbackNodeActivator.delete(this._ids),this._moveToTopEnabled&&this._moveToTopNodeActivator.delete(this._ids),this._onEndFn())}checkEnded(){return this._ended&&console.error("RenderTransientAction already ended"),this._ended}}e.createNodesActionsTransient=t=>{let e=0;const i=new a.RefCountedNodeActivator(t,changeNodeMoveToTopActivation),o=new a.RefCountedNodeActivator(t,changeNodeDraggingVisualFeedbackActivation);return{start:(...t)=>{const a=new RenderTransientActionImpl(t,i,o,(()=>{e--}));return e++,a},getActiveCount:()=>e}}},7684:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startShadowDraggingEndAnimation=e.startShadowDraggingBeginAnimation=e.startInAnimations=e.startOutAnimations=void 0;const noopFn=()=>{},animateAlpha=(t,e,i,o=noopFn)=>{const a=t.getAnimation(e);a?t.animate.alphaTo(i,a.duration,a.delay).onDone(o):(t.alpha=i,o(!0))},i=1e-4,animateScale=(t,e,o,a=noopFn)=>{const n=t.getAnimation(e);n?t.animate.scaleTo(Math.max(o,i),n.duration,n.delay).onDone(a):(t.setAnimationScale(Math.max(o,i)),a(!0))};e.startOutAnimations=t=>{var e,i;const o=t.getAnimation("alpha-out"),a=t.getAnimation("scale-out");o||a?(o&&animateAlpha(t,"alpha-out",null!==(e=o.target)&&void 0!==e?e:0,(e=>{e&&(t.visible=!1)})),a&&animateScale(t,"scale-out",null!==(i=a.target)&&void 0!==i?i:1,(e=>{e&&(t.visible=!1)}))):t.visible=!1};e.startInAnimations=t=>{var e,i;const o=t.getAnimation("alpha-in"),a=t.getAnimation("scale-in");o||a?(t.visible=!0,o&&animateAlpha(t,"alpha-in",null!==(e=o.target)&&void 0!==e?e:1),a&&animateScale(t,"scale-in",null!==(i=a.target)&&void 0!==i?i:1)):t.visible=!0};const animateShadowDraggingTransition=(t,e,i,o=noopFn)=>{if(!t.shadowProperties)return;const a=t.getAnimation(e);a?t.animate.shadowDraggingTransitionTo(i,a.duration,a.delay).onDone(o):(t.shadowProperties=Object.assign(Object.assign({},t.shadowProperties),{transitionPercent:i}),o(!0))};e.startShadowDraggingBeginAnimation=t=>{t.shadowProperties={transition:1,transitionPercent:0},animateShadowDraggingTransition(t,"drag-begin",1)};e.startShadowDraggingEndAnimation=t=>{t.shadowProperties={transition:2,transitionPercent:0},animateShadowDraggingTransition(t,"drag-end",1)}},4007:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNodesActions=void 0;const o=i(8126),a=i(2986),n=i(4070),r=i(201);e.createNodesActions=(t,e)=>({api:{hover:(0,a.createNodesActionsHover)(t,e),transientActions:(0,n.createNodesActionsTransient)(t),updateOrBuildNodeFromState:(e,i,o)=>{t.updateOrBuildNodesFromState(o,e,i)},remove:e=>{e.forEach((e=>{const i=t.findNodeByExternalId(e);i&&t.removeAndDestroyNode(i)}))},setParent:(e,i)=>{const o=t.findNodeByExternalId(e);if(null===o)return!1;const a=i?t.findNodeByExternalId(i):t.root;return null!==a&&(o.parent!==a&&(o.removeFromParent(),a.adoptChild(o)),!0)},hide:(e,i)=>(0,r.toggleVisibility)(t.findNodeByExternalId(e),i,!1),show:(e,i)=>(0,r.toggleVisibility)(t.findNodeByExternalId(e),i,!0),setAlpha:(e,i)=>{const o=t.findNodeByExternalId(e);o&&(o.alpha=i)},toggleState:(e,i,o,a)=>{const n=t.findNodeByExternalId(e);n&&n.toggleState(i,o,a?0:1)},setDrawTopSameLayer:(e,i)=>{const o=t.findNodeByExternalId(e);o&&o.setStackingLayer(Math.floor(o.stackingLayer)+(i?.5:0))},getUnsafe:(e,i)=>(0,r.getNodeByHint)(t,e,i),getSafe:(e,i)=>(t.applyPendingChanges(),(0,r.getNodeByHint)(t,e,i)),getAt:(e,i,o,a)=>t.getNode(e,i,o,a),getAllAt:(e,i,o,a)=>t.getNodes(e,i,o,a),getAllAtRect:(e,i,a,n,r)=>{const s=o.Rectangle.fromBounds(e,i,a-e,n-i);return t.getNodesAtRect(s,r)},getFirstNonPartialNodeAtRect:(e,i,a,n,r,s)=>{const l=o.Rectangle.fromBounds(e,i,a-e,n-i);return t.getFirstNonPartialNodeAtRect(l,r,s)},getAllNonPartialNodesAtRectUnordered:(e,i,a,n,r)=>{const s=o.Rectangle.fromBounds(e,i,a-e,n-i);return t.getAllNonPartialNodesAtRectUnordered(s,r)},getAllRect:()=>t.getAllRect(),setLoadingProgress:(e,i,o=0)=>{const a=t.findNodeByExternalId(e);if(!a)return;((0,r.findChildWithHint)(a,"_loading_progress")||a).animate.setLoadingProgress(i,o)},setScaleConstraint:(e,i,o,a)=>{const n=t.findNodeByExternalId(e);if(!n)return;const s=(0,r.findChildInState)(n,a);s&&s.animate.setCameraScaleConstraint(t.camera,i,o)},setPulse:(e,i,o)=>{const a=t.findNodeByExternalId(e);if(!a)return;const n=i?(0,r.findChildWithHint)(a,i):a;null==n||n.animate.setCommentPulse(o)},setIntroScale:(e,i,o,a,n,s,l)=>{const c=t.findNodeByExternalId(e);if(!c)return;const d=i?(0,r.findChildWithHint)(c,i):c;null==d||d.animate.setIntroScale(o,a,n,s,l)},setIntroAlpha:(e,i,o,a,n,s,l,c)=>{const d=t.findNodeByExternalId(e);if(!d)return;const h=i?(0,r.findChildWithHint)(d,i):d;null==h||h.animate.setIntroAlpha(o,a,n,s,l,c)}}})},8021:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RefCountedNodeActivator=void 0;e.RefCountedNodeActivator=class RefCountedNodeActivator{constructor(t,e){this._active=new Map,this._muraldoc=t,this._nodeActivationFn=e}add(t){var e;const i=this._active;for(const o of t){const t=null!==(e=i.get(o))&&void 0!==e?e:0;0===t&&this._nodeActivationFn(this._muraldoc,o,!0),i.set(o,t+1)}}delete(t){var e;const i=this._active;for(const o of t){const t=null!==(e=i.get(o))&&void 0!==e?e:0;t<=0?console.error("Trying to remove inexistent node from RefCountedNodeActivator"):1===t?(this._nodeActivationFn(this._muraldoc,o,!1),i.delete(o)):i.set(o,t-1)}}}},201:(t,e)=>{"use strict";function getChildrenInStateImpl(t,e,i){t.state===e?i.push(t):t.children.forEach((t=>{t.isPartialNode&&getChildrenInStateImpl(t,e,i)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.getNodeByHint=e.findChildWithHint=e.findChildInState=e.toggleVisibility=e.getDescendantWithHint=e.getNonPartialDescendants=e.getChildrenInState=void 0,e.getChildrenInState=function getChildrenInState(t,e){const i=[];return getChildrenInStateImpl(t,e,i),i};const visitDescendants=(t,e)=>{for(let i=0,o=t.children.length;i<o;++i){const o=t.children[i],a=e(o);if(1===a)return!0;if(2!==a&&visitDescendants(o,e))return!0}return!1};e.getNonPartialDescendants=t=>{const e=[];return visitDescendants(t,(t=>(t.isPartialNode||e.push(t),0))),e};e.getDescendantWithHint=(t,e)=>{let i=null;return visitDescendants(t,(t=>t.isPartialNode?t.hint!==e?0:(i=t,1):2)),i};e.toggleVisibility=(t,i,o)=>{if(!t)return null;const a=i?(0,e.getDescendantWithHint)(t,i):t;return a&&(a.visible=o),a};e.findChildInState=(t,i)=>{if(t.state===i)return t;for(let o=0;o<t.children.length;o++){const a=(0,e.findChildInState)(t.children[o],i);if(a)return a}return null};e.findChildWithHint=(t,i)=>{if(t.hint===i)return t;for(let o=0;o<t.children.length;o++){const a=(0,e.findChildWithHint)(t.children[o],i);if(a)return a}return null};e.getNodeByHint=(t,i,o)=>{const a=t.findNodeByExternalId(i);return a?o&&a.hint!==o?(0,e.getDescendantWithHint)(a,o):a:null}},5789:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createRenderActions=void 0;e.createRenderActions=t=>({flushRender:()=>t.render()})},7708:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Camera=void 0;const o=i(9271),a=i(8126);e.Camera=class Camera{get x(){return this.position.x}get y(){return this.position.y}constructor(){this.changeListeners=[],this.scale_=1,this.width=0,this.height=0,this.position={x:0,y:0},this.transformAnchor={x:.5,y:.5},this.clipArea=new a.Rectangle,this.transformMatrix=o.Matrix3.create(),this.calcTransformMatrix()}setViewport(t,e){this.width=t,this.height=e,this.calcTransformMatrix(),this.notifyViewportChange()}translate(t,e){this.position.x+=t,this.position.y+=e,this.calcTransformMatrix(),this.notifyViewportChange()}get scale(){return this.scale_}set scale(t){this.scale_=Math.max(t,.01),this.calcTransformMatrix(),this.notifyViewportChange()}getPosition(){return this.position}setPosition(t,e){this.position.x=t,this.position.y=e,this.calcTransformMatrix(),this.notifyViewportChange()}getClipBounds(){return this.clipArea}notifyViewportChange(){const t={x:this.clipArea.x,y:this.clipArea.y,zoom:this.scale_},e=this.changeListeners;for(let i=0;i<e.length;i++)e[i](t)}calcTransformMatrix(){const t=this.transformAnchor.x*this.width,e=this.transformAnchor.y*this.height,i=1/this.scale_;o.Matrix3.setTransformNotRotated(this.transformMatrix,this.position.x-i*t,this.position.y-i*e,i,i),this.clipArea.setBounds(this.transformMatrix[o.M3_TX],this.transformMatrix[o.M3_TY],this.width/this.scale_,this.height/this.scale_)}setupZoomAtScreenPos(t,e,i){if(i){const i={x:t,y:e};o.Matrix3.transformPointInPlace(this.transformMatrix,i),this.setPosition(i.x,i.y)}this.transformAnchor.x=t/this.width,this.transformAnchor.y=e/this.height,this.calcTransformMatrix()}setFullViewport(t,e,i){this.scale_=i,this.position.x=t+this.transformAnchor.x*this.width/i,this.position.y=e+this.transformAnchor.y*this.height/i,this.calcTransformMatrix(),this.notifyViewportChange()}copy(t){this.scale_=t.scale_,this.width=t.width,this.height=t.height,this.position.x=t.position.x,this.position.y=t.position.y,this.transformAnchor.x=t.transformAnchor.x,this.transformAnchor.y=t.transformAnchor.y,this.calcTransformMatrix(),this.notifyViewportChange()}registerChangeListener(t){this.changeListeners.push(t)}unregisterChangeListener(t){const e=this.changeListeners.indexOf(t);e>=0&&this.changeListeners.splice(e,1)}}},8839:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderSurface=void 0;const o=i(9271),a=i(7708),n=i(7988);e.RenderSurface=class RenderSurface{set clearColor(t){"string"==typeof t?(this.clearImage=null,this.clearColor_=t):(this.clearImage=t,this.clearColor_=null)}get clearColor(){return null!==this.clearImage?this.clearImage:null!==this.clearColor_?this.clearColor_:"transparent"}hasBackgroundImage(){return null!==this.clearImage}constructor(t,e,i,n="#4E5155"){if(this.width=0,this.height=0,this.clearColor_=null,this.clearImage=null,this.camera=new a.Camera,this.renderingMatrix=o.Matrix3.create(),this.renderingMatrixInverse=o.Matrix3.create(),this.canvas=t.canvas,this.gpuBugs=e,this.ctx=t.ctx,this.renderScaleMultiplier=i,this.canvas.tabIndex=t.canvas.tabIndex,this.width=this.canvas.width,this.height=this.canvas.height,1!==i){const t=this.canvas.width,e=this.canvas.height;this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.canvas.width=t*i,this.canvas.height=e*i}this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.resetTransform=this.ctx.resetTransform||function(){this.setTransform(1,0,0,1,0,0)}.bind(this.ctx),this.clearColor=n,this.camera.scale=1,this.camera.setViewport(this.width,this.height),this.camera.setPosition(this.width/2,this.height/2)}resize(t,e){1!==this.renderScaleMultiplier?(this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.canvas.width=t*this.renderScaleMultiplier,this.canvas.height=e*this.renderScaleMultiplier):(this.canvas.width=t,this.canvas.height=e),this.width=t,this.height=e,this.camera.setViewport(t,e)}drawPattern(t,e,i,o){const a=this.clearImage;if(!a)return;this.ctx.scale(this.renderScaleMultiplier,this.renderScaleMultiplier);const n=Math.max(Math.floor(t/a.width),0)*a.width,r=Math.max(Math.floor(e/a.height),0)*a.height,s=Math.min(t+i,this.width),l=Math.min(e+o,this.height);for(let t=n;t<=s;t+=a.width)for(let e=r;e<=l;e+=a.height)this.ctx.drawImage(a,t,e)}clear(){this.clearRegionInternal(0,0,this.width,this.height)}clearRegion(t){const{x:e,y:i}=this.camera.getClipBounds(),o=this.camera.scale,a=(t.x-e)*o,n=(t.y-i)*o,r=t.width*o,s=t.height*o;this.clearRegionInternal(a,n,r,s)}clearRegionInternal(t,e,i,o){if(this.ctx.save(),this.ctx.resetTransform(),null!==this.clearImage)this.drawPattern(t,e,i,o);else{const a=t*this.renderScaleMultiplier,n=e*this.renderScaleMultiplier,r=i*this.renderScaleMultiplier,s=o*this.renderScaleMultiplier;null!==this.clearColor_&&"transparent"!==this.clearColor_?(a<=0&&n<=0&&a+r>=this.canvas.width&&n+s>=this.canvas.height&&this.gpuBugs.has("clear-whole-canvas-before-fill-faster")&&this.ctx.clearRect(a,n,r,s),this.ctx.fillStyle=this.clearColor_,this.ctx.fillRect(a,n,r,s)):this.ctx.clearRect(a,n,r,s)}this.ctx.restore()}getRenderingMatrixInverse(){return this.renderingMatrix.set(this.camera.transformMatrix),this.renderingMatrix[0]/=this.renderScaleMultiplier,this.renderingMatrix[4]/=this.renderScaleMultiplier,o.Matrix3.inverse(this.renderingMatrix,this.renderingMatrixInverse),this.renderingMatrixInverse}resetTransform(){const t=this.getRenderingMatrixInverse();this.ctx.setTransform(t[0],t[1],t[3],t[4],t[2],t[5])}get cameraPosition(){return this.camera.getPosition()}setCameraPosition(t,e){this.camera.setPosition(t,e)}setCameraScale(t){this.camera.scale=t}getCameraScale(){return this.camera.scale}shows(t){return this.camera.getClipBounds().intersects(t)}getCanvas(){return this.canvas}beginRender(t){return new n.CameraRenderContext({canvas:this.canvas,ctx:this.ctx},t,this.renderScaleMultiplier,this.getCameraScale(),this.getRenderingMatrixInverse(),this.camera.getClipBounds(),this.clear.bind(this),this.clearRegion.bind(this))}copyImageFromContext(t){this.ctx.save(),this.ctx.resetTransform(),this.ctx.drawImage(t.nativeCanvas,0,0),this.ctx.restore()}reset(){this.ctx.resetTransform(),this.clear()}}},7988:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CameraRenderContext=void 0;const o=i(8168);class CameraRenderContext extends o.RenderContext{constructor(t,e,i,o,a,n,r,s){super(t,e,i,o,a,"white"),this.cameraClipBounds=n,this.clearSurface=r,this.clearSurfaceRegion=s}}e.CameraRenderContext=CameraRenderContext},8030:function(t,e,i){"use strict";var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))((function(a,n){function fulfilled(t){try{step(o.next(t))}catch(t){n(t)}}function rejected(t){try{step(o.throw(t))}catch(t){n(t)}}function step(t){t.done?a(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createScreenshotActions=void 0;const a=i(8126),n=i(3535),r=i(8839);function isNotNil(t){return null!=t}function takeScreenshot(t,e,i,a,s,l,c,d,h){return o(this,void 0,void 0,(function*(){const{targetCanvas:o=null}=h,u=o?function getTargetCanvasWithContext(t){return{canvas:t,ctx:t.getContext("2d")}}(o):e.createCanvas(h.outputWidth,h.outputHeight);try{if(!u.ctx)throw new Error("Unable to take screenshot, could be an out-of-memory issue or the requested output size could be too big");const e=new r.RenderSurface(u,i.screen.gpu.bugs,1,h.backgroundColor||"white");e.clear(),e.camera.setFullViewport(a,s,l),e.resetTransform();const v=new n.ScreenshotStrategy(c,d,t.root);t.renderCustom(v,e);const g=h.outputMimeType||"image/png",f=h.outputQuality||.92;return{dataURL:o?"":e.getCanvas().toDataURL(g,f),mimeType:g}}finally{o||e.destroyCanvas(u.canvas)}}))}e.createScreenshotActions=(t,e,i)=>({viewport:(o,a,n,r,s)=>takeScreenshot(t,e,i,o,a,n,r,[],s),only:(o,n,r,s)=>{t.applyPendingChanges();const l=!!s.includeOutOfBoundsElements,c=o.map((e=>t.findNodeByExternalId(e))).filter(isNotNil).map((t=>l?t.aabbWithoutRenderOverflow:t.aabbSelfOnlyWithoutRenderOverflow)).reduce(((t,e)=>(t.isEmpty()?t.copy(e):t.union(e),t)),new a.Rectangle);c.expand(2*n,2*n),0!==c.width&&0!==c.height||c.setBounds(0,0,10,10);const d=Math.min(s.outputWidth/c.width,s.outputHeight/c.height),h=c.x-.5*(s.outputWidth-c.width*d)/d,u=c.y-.5*(s.outputHeight-c.height*d)/d;return takeScreenshot(t,e,i,h,u,d,r,o,s)}})},864:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MIN_TOUCH_HANDLER_SIZE=e.TOUCH_HANDLER_SIZE=e.SELECTION_SHAPE_SMALL_BORDER=e.DISABLED_SHADOW=e.MIN_HEIGHT_FOR_HANDLERS_WHEN_RESIZE_EAST_ACTIVE=e.MIN_SIZE_FOR_HANDLERS=e.ROTATION_HANDLER_MAX_HIT_SIZE=e.RESIZE_HANDLER_EXPLICIT_SHADOW_COLOR=void 0,e.RESIZE_HANDLER_EXPLICIT_SHADOW_COLOR="rgba(0,0,0,1)",e.ROTATION_HANDLER_MAX_HIT_SIZE=92,e.MIN_SIZE_FOR_HANDLERS=18,e.MIN_HEIGHT_FOR_HANDLERS_WHEN_RESIZE_EAST_ACTIVE=36,e.DISABLED_SHADOW="rgba(0,0,0,0)",e.SELECTION_SHAPE_SMALL_BORDER=.5,e.TOUCH_HANDLER_SIZE=40,e.MIN_TOUCH_HANDLER_SIZE=20},2848:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawSelectionShape=e.drawResizeHandlerCapsule=e.drawQuickAddHandler=e.drawResizeHandler=e.drawBox=e.debugDrawHandlerHoverFeedback=e.drawHandlerHoverFeedback=void 0;const o=i(9314),a=i(4935),n=i(864),r=i(8557),drawRoundedRectangleByCenterPoint=(t,e,i,a,s,l,c,d,h,u,v,g,f,y,x)=>{a<2*c&&(c=a/2),s<2*c&&(c=s/2);const m=l*o.DegToRad,R=u%2==0?0:.5;t.save(),t.translate(e,i),t.rotate(m);const b=-a/2,w=-s/2,S=(0,r.calculateBorderOffset)(u,v),A=w+R-S,C=w+s-R+S,I=b+R-S,M=b+a-R+S;t.lineWidth=u,t.beginPath(),t.moveTo(I+c,A),t.arcTo(M,A,M,A+c,c),t.arcTo(M,C,M-c,C,c),t.arcTo(I,C,I,C-c,c),t.arcTo(I,A,I+c,A,c),t.closePath(),t.shadowBlur=f,t.shadowColor=g,t.shadowOffsetX=y,t.shadowOffsetY=x,t.fillStyle=d,t.fill(),u>0&&(t.lineWidth=u,t.strokeStyle=h,t.stroke()),t.shadowBlur=0,t.shadowColor=n.DISABLED_SHADOW,t.shadowOffsetX=0,t.shadowOffsetY=0,t.fillStyle=d,t.fill(),u>0&&(t.lineWidth=u,t.strokeStyle=h,t.stroke()),t.restore()};e.drawHandlerHoverFeedback=(t,e,i)=>{const a=e.rotation*o.DegToRad;switch(i.save(),i.translate(t.x,t.y),i.rotate(a),e.type){case"path":{const t=e.path,a=t.rotation*o.DegToRad;i.translate(t.x,t.y),i.rotate(a),t.fillColor&&(i.fillStyle=t.fillColor,i.fill(t.path)),t.strokeWidth>0&&t.strokeColor&&(i.strokeStyle=t.strokeColor,i.lineWidth=t.strokeWidth,i.stroke(t.path));break}case"circle":{const t=e.circle;i.beginPath(),i.ellipse(t.x,t.y,t.radius,t.radius,0,0,2*Math.PI),t.fillColor&&(i.fillStyle=t.fillColor,i.fill()),t.strokeWidth>0&&t.strokeColor&&(i.strokeStyle=t.strokeColor,i.lineWidth=t.strokeWidth,i.stroke());break}}i.restore()};e.debugDrawHandlerHoverFeedback=(t,e,i)=>{const a=e.rotation*o.DegToRad;switch(i.save(),i.translate(t.x,t.y),i.rotate(a),e.rects.forEach(((t,e)=>{i.fillStyle=e%2==0?"rgba(255,0,0,0.5)":"rgba(0,255,0,0.5)",i.fillRect(t.x,t.y,t.width,t.height)})),e.type){case"path":{const t=e.path,a=t.rotation*o.DegToRad;i.translate(t.x,t.y),i.rotate(a),t.fillColor&&(i.fillStyle="rgba(0,0,255,0.5)",i.fill(t.path)),t.strokeWidth>0&&t.strokeColor&&(i.strokeStyle="rgba(0,0,255,0.5)",i.lineWidth=t.strokeWidth,i.stroke(t.path));break}case"circle":{const t=e.circle;i.beginPath(),i.ellipse(t.x,t.y,t.radius,t.radius,0,0,2*Math.PI),t.fillColor&&(i.fillStyle="rgba(0,0,255,0.5)",i.fill()),t.strokeWidth>0&&t.strokeColor&&(i.strokeStyle="rgba(0,0,255,0.5)",i.lineWidth=t.strokeWidth,i.stroke());break}}i.restore()};e.drawBox=(t,e)=>{const i=e||new Path2D;return i.rect(t.x,t.y,t.width,t.height),i};e.drawResizeHandler=(t,e,i,o,a,n,r)=>{const s=n.playing?n.timeNormalized:1,l=a.size*s,c=r.x*a.size*.5*(1-s),d=r.y*a.size*.5*(1-s);drawRoundedRectangleByCenterPoint(o,t.x-c,t.y-d,l,l,e,a.cornerRadius,a.backgroundColor,a.borderColor,a.borderThickness,a.borderGrowth,i,a.shadow.blur,a.shadow.offsetX,a.shadow.offsetY)};e.drawQuickAddHandler=(t,e,i,o,n,r)=>{const s=o.playing?o.timeNormalized:1,l=i.size/2*s,c=n.x*i.size*.5*(1-s),d=n.y*i.size*.5*(1-s),h=0===s?r:1===s?t:{x:(0,a.linear)(r.x,t.x,s),y:(0,a.linear)(r.y,t.y,s)};e.strokeStyle=i.borderColor,e.lineWidth=i.borderThickness,e.fillStyle=i.backgroundColor,e.beginPath(),e.ellipse(h.x-c,h.y-d,l,l,0,0,2*Math.PI),e.fill(),e.stroke()};e.drawResizeHandlerCapsule=(t,e,i,o,a,n,r)=>{const s=n.playing?n.timeNormalized:1,l=a.width*s,c=a.height*s,d=r.x*a.width*.5*(1-s),h=r.y*a.height*.5*(1-s);drawRoundedRectangleByCenterPoint(o,t.x-d,t.y-h,l,c,e,a.cornerRadius,a.backgroundColor,a.borderColor,a.borderThickness,a.borderGrowth,i,a.shadow.blur,a.shadow.offsetX,a.shadow.offsetY)};const s=[0,0];e.drawSelectionShape=function drawSelectionShape(t,e,i,o,a,r){const l=t.selectionShapes;if(null===l)return;const c=r.scale,d=((t,e)=>{const i=t.scale,o=t.getClipBounds().x,a=t.getClipBounds().y;return e.x=(e.x-o)*i,e.y=(e.y-a)*i,e})(r,null===t.parent?{x:t.x,y:t.y}:t.localToGlobalTransform({x:0,y:0}));a.translate(d.x,d.y),t.rotation&&a.rotate(t.rotation*Math.PI/180),a.scale(c,c);let h=!1;if(l.length>0&&"path"===l[0].type){const t=l[0];h=!!t.stroke&&t.stroke.width*c<1}const u=h?n.SELECTION_SHAPE_SMALL_BORDER:i,v=o?u:u/c;a.lineJoin="round",a.lineCap="round";for(let t=0;t<l.length;t++){const i=l[t];switch(i.type){case"path":{const t=0!==i.x||0!==i.y||0!==i.rotation||1!==i.scale;let o=1;t&&(a.translate(i.x,i.y),a.rotate(i.rotation*Math.PI/180),a.scale(i.scale,i.scale),o=i.scale),i.fill&&(a.fillStyle=e,a.fill(i.path)),a.strokeStyle=e,a.lineWidth=((i.stroke?i.stroke.width:0)+2*v)/o,a.setLineDash(s),a.stroke(i.path),t&&(a.scale(1/i.scale,1/i.scale),a.rotate(-i.rotation*Math.PI/180),a.translate(-i.x,-i.y));break}}}if(!h)for(let t=0;t<l.length;t++){const e=l[t];switch(e.type){case"path":{const t=0!==e.x||0!==e.y||0!==e.rotation||1!==e.scale;t&&(a.translate(e.x,e.y),e.rotation&&a.rotate(e.rotation*Math.PI/180),a.scale(e.scale,e.scale));const i=a.globalAlpha;a.globalAlpha=1,e.fill&&(a.fillStyle=e.fill.color,a.fill(e.path,e.fill.rule)),e.stroke&&(a.lineWidth=e.stroke.width,a.strokeStyle=e.stroke.color,a.lineCap=e.stroke.lineCap,a.lineJoin=e.stroke.lineJoin,a.setLineDash(e.stroke.pattern),a.lineDashOffset=e.stroke.lineDashOffset,a.stroke(e.path)),t&&(a.scale(1/e.scale,1/e.scale),e.rotation&&a.rotate(-e.rotation*Math.PI/180),a.translate(-e.x,-e.y)),a.globalAlpha=i;break}}}a.setLineDash(s),a.lineDashOffset=0,a.scale(1/c,1/c),t.rotation&&a.rotate(-t.rotation*Math.PI/180),a.translate(-d.x,-d.y)}},3543:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.copyAndTransformHandlersFromCameraSpaceToGlobalSpace=e.getHandlers=e.isInsideHandlerHover=e.isInsideHandler=void 0;const o=i(8126),a=i(9314),n=i(6507),r=i(864),s=i(2848),getTouchHandlerSize=(t,e,i)=>t<2*r.MIN_TOUCH_HANDLER_SIZE||e<2*r.MIN_TOUCH_HANDLER_SIZE?i:t<2*r.TOUCH_HANDLER_SIZE||e<2*r.TOUCH_HANDLER_SIZE?r.MIN_TOUCH_HANDLER_SIZE:r.TOUCH_HANDLER_SIZE;e.isInsideHandler=(t,e,i)=>{switch(i.type){case"square":return i.x-i.halfSize<=t&&t<=i.x+i.halfSize&&i.y-i.halfSize<=e&&e<=i.y+i.halfSize;case"rotatedRect":{const o=a.Point.toLocal({x:t,y:e},i,i.rotation);return o.x<=i.halfWidth&&o.x>=-i.halfWidth&&o.y<=i.halfHeight&&o.y>=-i.halfHeight}}};e.isInsideHandlerHover=(t,e,i)=>{if(!i.hover)return!1;const o=a.Point.toLocal({x:t,y:e},i,i.hover.rotation);return i.hover.rects.some((t=>t.containsPoint(o.x,o.y)))};const getPathRotationFromHandlerLocation=t=>{switch(t){case"nw":return 0;case"ne":return 90;case"se":return 180;case"sw":return 270}},getHoverRectsFromHandlerLocation=(t,e,i,a)=>{const s=a.drawing.size,l=Math.SQRT1_2*a.offset+s/2,calcLongSide=t=>(0,n.clamp)(t/2,s,r.ROTATION_HANDLER_MAX_HIT_SIZE),calcShortSide=(t,e)=>{const i=Math.min(e,t);return{side:(0,n.clamp)(e+i,s,t),lengthIn:i}},c=calcLongSide(e),d=calcLongSide(i),h=calcShortSide(d,l),u=calcShortSide(c,l),v=t.includes("n"),g=t.includes("w"),f=g?-1:1,y=v?-1:1,x=g?0:-c,m=v?0:-d,R=g?0:-u.side,b=v?0:-h.side;return[o.Rectangle.fromBounds(x+f*l/2,b+y*h.lengthIn/2,c,h.side),o.Rectangle.fromBounds(R+f*u.lengthIn/2,m+y*l/2,u.side,d)]},getHandlerLocationFromHandlerType=t=>{switch(t){case"ne-resize":case"ne-rotate":case"ne-resize-rotate-touch":return"ne";case"nw-resize":case"nw-rotate":case"nw-resize-rotate-touch":return"nw";case"se-resize":case"se-rotate":case"se-resize-rotate-touch":return"se";case"sw-resize":case"sw-rotate":case"sw-resize-rotate-touch":return"sw";case"e-resize":case"e-resize-full":case"e-resize-touch":case"e-quick-add":case"e-quick-add-closer":return"e";case"w-resize":case"w-resize-full":case"w-resize-touch":case"w-quick-add":case"w-quick-add-closer":return"w";case"n-resize-full":case"n-resize-touch":case"n-quick-add":case"n-quick-add-closer":return"n";case"s-resize-full":case"s-resize-touch":case"s-quick-add":case"s-quick-add-closer":return"s"}},getAnimationPivot=t=>{switch(t){case"n":return{x:0,y:-1};case"s":return{x:0,y:1};case"e":return{x:1,y:0};case"w":return{x:-1,y:0};case"ne":return{x:1,y:-1};case"nw":return{x:-1,y:-1};case"se":return{x:1,y:1};case"sw":return{x:-1,y:1}}},getPointInLine=(t,e,i)=>{const o=a.Point.sub(t,e),n=a.Point.normalize(o);return{x:t.x+n.x*i,y:t.y+n.y*i}},getPointAtCornerDirectedOutwardsLine=(t,e,i,o)=>{const n=a.Point.sub(t,e),r=a.Point.normalize(n),s=a.Point.sub(t,i),l=a.Point.normalize(s),c=a.Point.normalize(a.Point.avg(r,l));return{x:t.x+c.x*o,y:t.y+c.y*o}},getHandlerCoordinates=(t,e,i,o,n)=>{if(!i){const e=Math.sin(Math.PI/4)*n;switch(o){case"nw":return{x:t.x-e,y:t.y-e};case"ne":return{x:t.x1+e,y:t.y-e};case"se":return{x:t.x1+e,y:t.y1+e};case"sw":return{x:t.x-e,y:t.y1+e};case"e":return{x:t.x1+n,y:t.centerY};case"w":return{x:t.x-n,y:t.centerY};case"n":return{x:t.centerX,y:t.y-n};case"s":return{x:t.centerX,y:t.y1+n}}}switch(o){case"nw":return getPointAtCornerDirectedOutwardsLine(e[0],e[1],e[3],n);case"ne":return getPointAtCornerDirectedOutwardsLine(e[1],e[2],e[0],n);case"se":return getPointAtCornerDirectedOutwardsLine(e[2],e[1],e[3],n);case"sw":return getPointAtCornerDirectedOutwardsLine(e[3],e[0],e[2],n);case"e":return getPointInLine(a.Point.avg(e[1],e[2]),a.Point.avg(e[0],e[3]),n);case"w":return getPointInLine(a.Point.avg(e[0],e[3]),a.Point.avg(e[1],e[2]),n);case"n":return getPointInLine(a.Point.avg(e[0],e[1]),a.Point.avg(e[2],e[3]),n);case"s":return getPointInLine(a.Point.avg(e[2],e[3]),a.Point.avg(e[0],e[1]),n)}},getAvailableHitHeight=(t,e,i,o)=>{switch(getHandlerLocationFromHandlerType(t)){case"e":if(e.has("ne-resize")||e.has("se-resize"))return Math.max(i-o,0);break;case"w":if(e.has("nw-resize")||e.has("sw-resize"))return Math.max(i-o,0)}return i},getAvailableHitWidth=(t,e,i,o)=>{switch(getHandlerLocationFromHandlerType(t)){case"n":if(e.has("ne-resize")||e.has("nw-resize"))return Math.max(i-o,0);break;case"s":if(e.has("se-resize")||e.has("sw-resize"))return Math.max(i-o,0)}return i};let l=null;const getRotationHandlerPath=t=>(null===l&&(l=new Path2D(t)),l),getHandler=(t,e,i,a,n,l,c,d,h)=>{const u=0!==n;switch(t){case"e-resize":case"e-resize-full":case"w-resize":case"w-resize-full":{const o=!t.endsWith("-full"),l=getHandlerCoordinates(i,a,u,getHandlerLocationFromHandlerType(t),0),v=getAvailableHitHeight(t,e,c,h.resizeCorner.size)/2;return Object.assign(Object.assign({type:"rotatedRect",id:t,inputType:"mouse",rotation:n,halfWidth:h.resizeCapsule.width,halfHeight:v},l),{draw:o?(e,i)=>{(0,s.drawResizeHandlerCapsule)(l,n,d?r.RESIZE_HANDLER_EXPLICIT_SHADOW_COLOR:h.resizeCapsule.shadow.color,e,h.resizeCapsule,i,getAnimationPivot(getHandlerLocationFromHandlerType(t)))}:void 0})}case"n-resize-full":case"s-resize-full":{const o=getHandlerCoordinates(i,a,u,getHandlerLocationFromHandlerType(t),0),r=getAvailableHitWidth(t,e,l,h.resizeCorner.size)/2;return Object.assign({type:"rotatedRect",id:t,inputType:"mouse",rotation:n,halfHeight:h.resizeCapsule.width,halfWidth:r},o)}case"ne-resize":case"nw-resize":case"se-resize":case"sw-resize":{const e=getHandlerCoordinates(i,a,u,getHandlerLocationFromHandlerType(t),0),o=getAnimationPivot(getHandlerLocationFromHandlerType(t));return Object.assign(Object.assign({type:"square",id:t,inputType:"mouse",halfSize:h.resizeCorner.size/2},e),{draw:(t,i)=>{(0,s.drawResizeHandler)(e,n,d?r.RESIZE_HANDLER_EXPLICIT_SHADOW_COLOR:h.resizeCorner.shadow.color,t,h.resizeCorner,i,o)}})}case"ne-rotate":case"nw-rotate":case"se-rotate":case"sw-rotate":{const e=(t=>{switch(t){case"ne-resize":case"ne-rotate":return"ne";case"nw-resize":case"nw-rotate":return"nw";case"se-resize":case"se-rotate":return"se";case"sw-resize":case"sw-rotate":return"sw"}})(t),o=getHandlerCoordinates(i,a,u,e,h.rotationHandler.offset),r={type:"path",path:{path:getRotationHandlerPath(h.rotationHandler.drawing.path),fillColor:h.rotationHandler.drawing.color,strokeColor:"",strokeWidth:0,x:0,y:0,rotation:h.rotationHandler.drawing.topLeftRotation+getPathRotationFromHandlerLocation(e)},rotation:n,rects:getHoverRectsFromHandlerLocation(e,l,c,h.rotationHandler)};return Object.assign({type:"square",id:t,inputType:"mouse",halfSize:h.rotationHandler.drawing.size/2,hover:r},o)}case"nw-resize-rotate-touch":case"ne-resize-rotate-touch":case"sw-resize-rotate-touch":case"se-resize-rotate-touch":{const e=getTouchHandlerSize(l,c,h.resizeCorner.size),o=getHandlerCoordinates(i,a,u,getHandlerLocationFromHandlerType(t),0);return Object.assign({type:"square",id:t,inputType:"touch",halfSize:e/2},o)}case"e-resize-touch":case"w-resize-touch":{const o=getTouchHandlerSize(l,c,h.resizeCorner.size),r=getHandlerCoordinates(i,a,u,getHandlerLocationFromHandlerType(t),0),s=getAvailableHitHeight(t,e,c,o)/2;return Object.assign({type:"rotatedRect",id:t,inputType:"touch",rotation:n,halfWidth:o/2,halfHeight:s},r)}case"n-resize-touch":case"s-resize-touch":{const o=getTouchHandlerSize(l,c,h.resizeCorner.size),r=getHandlerCoordinates(i,a,u,getHandlerLocationFromHandlerType(t),0),s=getAvailableHitWidth(t,e,l,o)/2;return Object.assign({type:"rotatedRect",id:t,inputType:"touch",rotation:n,halfHeight:o/2,halfWidth:s},r)}case"e-quick-add":case"w-quick-add":case"n-quick-add":case"s-quick-add":case"e-quick-add-closer":case"w-quick-add-closer":case"n-quick-add-closer":case"s-quick-add-closer":{const e=t.endsWith("-closer")?0:h.quickAddHandler.offset+h.quickAddHandler.size/2+h.quickAddHandler.borderThickness,n=getHandlerLocationFromHandlerType(t),r=getHandlerCoordinates(i,a,u,n,e),l=0===e?r:getHandlerCoordinates(i,a,u,n,0),c=getAnimationPivot(n),d={type:"circle",circle:{radius:h.quickAddHandler.hover.size/2,fillColor:h.quickAddHandler.hover.backgroundColor,strokeColor:h.quickAddHandler.borderColor,strokeWidth:h.quickAddHandler.borderThickness,x:0,y:0},rotation:0,rects:[o.Rectangle.fromBounds(-h.quickAddHandler.hover.size/2,-h.quickAddHandler.hover.size/2,h.quickAddHandler.hover.size,h.quickAddHandler.hover.size)]};return Object.assign(Object.assign({type:"square",id:t,inputType:"mouse",halfSize:Math.max(h.quickAddHandler.size,h.quickAddHandler.hover.size)/2,hover:d},r),{draw:(t,e)=>{(0,s.drawQuickAddHandler)(r,t,h.quickAddHandler,e,c,l)}})}}};e.getHandlers=(t,e,i,o,n,s,l)=>{const c=a.Point.distance(i[0],i[1]),d=a.Point.distance(i[1],i[2]),h=((t,e,i)=>{const o=new Set,a=t.has("e-resize")?"e-resize":null,addVisibleHandlerIfActive=e=>{t.has(e)&&o.add(e)};return e<r.MIN_SIZE_FOR_HANDLERS||i<r.MIN_SIZE_FOR_HANDLERS?(a?(addVisibleHandlerIfActive("nw-resize"),addVisibleHandlerIfActive("nw-rotate"),addVisibleHandlerIfActive("nw-resize-rotate-touch")):(addVisibleHandlerIfActive("se-resize"),addVisibleHandlerIfActive("se-rotate"),addVisibleHandlerIfActive("se-resize-rotate-touch")),o):a&&i<r.MIN_HEIGHT_FOR_HANDLERS_WHEN_RESIZE_EAST_ACTIVE?(o.add(a),addVisibleHandlerIfActive("nw-resize"),addVisibleHandlerIfActive("nw-rotate"),addVisibleHandlerIfActive("nw-resize-rotate-touch"),o):t})(t,o.width,o.height),u=[];for(const t of h)u.push(getHandler(t,h,e,i,n,c,d,s,l));return u};e.copyAndTransformHandlersFromCameraSpaceToGlobalSpace=(t,e,i,a)=>{const n=[];for(let r=0;r<t.length;r++){const s=t[r],l=Object.assign(Object.assign({},s),{x:s.x/a+e,y:s.y/a+i});if(s.hover){switch(l.hover=Object.assign({},s.hover),l.hover.type){case"path":l.hover.path=Object.assign(Object.assign({},l.hover.path),{x:l.hover.path.x/a,y:l.hover.path.y/a});break;case"circle":l.hover.circle=Object.assign(Object.assign({},l.hover.circle),{x:l.hover.circle.x/a,y:l.hover.circle.y/a})}l.hover.rects=l.hover.rects.map((t=>o.Rectangle.fromBounds(t.x/a,t.y/a,t.width/a,t.height/a)))}switch(l.type){case"square":l.halfSize/=a;break;case"rotatedRect":l.halfWidth/=a,l.halfHeight/=a}n.push(l)}return n}},6183:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSelectionActions=void 0;const o=i(8126),a=i(2848),n=i(3543),r=i(178),s=i(8557);e.createSelectionActions=(t,e=!1,i)=>{const l=i.padding+(0,s.calculateBorderOffset)(i.thickness,i.thicknessGrowth),c=new Set;let d=[];const h=(0,r.createNodesOnTopOrBottomApi)(t),u=new Set;let v,g=!1,f=0,y=null;const x={x:0,y:0};let m=!1,R=!0,b=!1,w=i.color,S=!0;const updateHover=t=>{let e=null;if(!m)return!1;if(S||!h.isInsideNodeBeingDrawnOnTop(x.x,x.y))for(const i of t)if((0,n.isInsideHandlerHover)(x.x,x.y,i)){e=i.id;break}return e!==y&&(y=e,!0)},setShowHandlers=e=>{R!==e&&(R=e,t.invalidateViewport())},addIds=t=>{let e=!1;return t.forEach((t=>{c.add(t),e=!0})),e};return{api:{add:(...e)=>{addIds(e)&&t.invalidateViewport()},set:e=>{const i=c.size>0;i&&c.clear();const o=addIds(e);(i||o)&&t.invalidateViewport()},get:()=>[...c],remove:(...e)=>{let i=!1;e.forEach((t=>{i=i||c.has(t),c.delete(t)})),i&&t.invalidateViewport()},clear:()=>{c.size&&(c.clear(),t.invalidateViewport())},handler:{show:()=>setShowHandlers(!0),hide:()=>setShowHandlers(!1),setHandlers:(...e)=>{let i=!1;for(const t of u)e.includes(t)||(u.delete(t),i=!0);for(const t of e)u.has(t)||(u.add(t),i=!0);i&&(updateHover(d),t.invalidateViewport())},setColor:e=>{w!==e&&(w=e,t.invalidateViewport())},getAt:(t,e,i="mouse")=>{if(!S&&h.isInsideNodeBeingDrawnOnTop(t,e))return null;for(let o=0,a=d.length;o<a;++o){const{id:a}=d[o];if(d[o].inputType===i&&(0,n.isInsideHandler)(t,e,d[o]))return a}return null},hoverAt:(e,i)=>{x.x===e&&x.y===i||(x.x=e,x.y=i,m=!0,updateHover(d)&&t.invalidateViewport())},playEaseInAnimation:()=>{R&&0!==u.size&&c.size&&(i.animation.easeInSeconds<=0||(g=!0,f=performance.now()/1e3,t.invalidateViewport()))},setIgnoreNodesBeingDrawnOnTop:t=>{S=t},getIgnoreNodesBeingDrawnOnTop:()=>S}},toggleDrawDebug:()=>{b=!b,t.invalidateViewport()},draw:r=>{if(!c.size||!R)return d.length=0,void h.clear();const s=new Path2D,x=new o.Rectangle,m=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],S={width:0,height:0},A=[],C=[],I=[];let M=!0,T=0,_=0;const L=r.surface.camera.scale,O=r.surface.camera.getClipBounds().x,P=r.surface.camera.getClipBounds().y,E=r.surface.renderScaleMultiplier,N=Math.min(Math.round(l*L),l),z=N/L,transformBoxToCamera=t=>{const e=t.x,i=t.y,o=t.x1,a=t.y1,n=Math.round((e-O)*L),r=Math.round((i-P)*L),s=Math.round((o-O)*L),l=Math.round((a-P)*L);t.setBounds(n,r,s-n,l-r)},transformSizeToCamera=t=>{t.width=Math.round(t.width*L),t.height=Math.round(t.height*L)},transformPointToCamera=t=>(t.x=Math.round((t.x-O)*L),t.y=Math.round((t.y-P)*L),t),k=new o.Rectangle;for(const e of c){const i=t.findNodeByExternalId(e);if(i)if(_++,i.selectionShapes&&A.push(i),i.selectionDrawNodeIdsOnTopOnSelected&&C.push(i),i.selectionDrawNodeIdsOnBottomOnSelected&&I.push(i),i.axisAligned)k.copy(i.aabbSelfOnlyWithoutRenderOverflow),transformBoxToCamera(k),k.expand(2*N,2*N),null===i.selectionShapes&&(0,a.drawBox)(k,s),M?(x.copy(k),M=!1):x.union(k);else{const{border:t}=i;T=i.rotation,i.getNonRotatedGlobalSizeWithBorder(S),transformSizeToCamera(S),S.width+=2*N,S.height+=2*N,m[0].x=-t-z,m[0].y=-t-z,m[1].x=i.width+t+z,m[1].y=-t-z,m[2].x=i.width+t+z,m[2].y=i.height+t+z,m[3].x=-t-z,m[3].y=i.height+t+z,i.transformPointsInPlace(m);for(let t=0;t<m.length;t++)transformPointToCamera(m[t]);null===i.selectionShapes&&(s.moveTo(m[0].x,m[0].y),s.lineTo(m[1].x,m[1].y),s.lineTo(m[2].x,m[2].y),s.lineTo(m[3].x,m[3].y),s.closePath()),M?(x.copy(o.Rectangle.fromPoints(...m)),M=!1):x.unionPoints(...m)}}if(0===_)return void(d.length=0);const D=void 0===v?performance.now()/1e3:f+v,F={playing:g,timeNormalized:g?Math.min((D-f)/i.animation.easeInSeconds,1):1},B=r.surface;if(r.setDirty(),A.length>0){B.ctx.save(),B.ctx.resetTransform(),B.ctx.scale(E,E);for(let t=0;t<A.length;t++){const e=A[t];(0,a.drawSelectionShape)(e,i.color,i.thickness,!1,B.ctx,B.camera)}B.ctx.restore()}if(h.drawOnBottom(I,B),B.ctx.globalAlpha=F.playing?F.timeNormalized:1,B.ctx.resetTransform(),B.ctx.scale(E,E),B.ctx.strokeStyle=w,B.ctx.lineWidth=i.thickness,B.ctx.stroke(s),_>1){T=0,B.ctx.setLineDash([i.dashLength,i.gapLength]);const t=(0,a.drawBox)(x);B.ctx.stroke(t),B.ctx.setLineDash([])}0===T&&(m[0].x=x.x,m[0].y=x.y,m[1].x=x.x1,m[1].y=x.y,m[2].x=x.x1,m[2].y=x.y1,m[3].x=x.x,m[3].y=x.y1,S.width=x.width,S.height=x.height),d.length=0,d.push(...(0,n.getHandlers)(u,x,m,S,T,e,i));for(const t of d)t.draw&&t.draw(B.ctx,F);const j=(0,n.copyAndTransformHandlersFromCameraSpaceToGlobalSpace)(d,O,P,L);updateHover(j);const H=d.find((t=>t.id===y));H&&H.hover&&(0,a.drawHandlerHoverFeedback)(H,H.hover,B.ctx),b&&d.forEach((t=>{t.hover&&(0,a.debugDrawHandlerHoverFeedback)(t,t.hover,B.ctx)})),d=j,F.playing&&(F.timeNormalized>=1?g=!1:t.invalidateViewport()),B.ctx.globalAlpha=1,h.drawOnTop(C,B)},animationsDone:()=>!(g&&R&&u.size>0&&c.size>0&&i.animation.easeInSeconds>0),setDebugAnimationTime:t=>{v=t}}}},178:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNodesOnTopOrBottomApi=void 0;const o=i(3488),sortNodesByDrawingOrder=t=>{if(t.length<=1)return t;const e=new Map;return t.forEach((t=>{const i=[];let o=t;for(;null!==o;)null!==o.parent&&i.push(o.parent.children.indexOf(o)),o=o.parent;i.reverse(),e.set(t.id,i)})),t.sort(((t,i)=>{const o=e.get(t.id),a=e.get(i.id),n=Math.min(o.length,a.length);for(let t=0;t<n;t++)if(o[t]!==a[t])return o[t]-a[t];return 0}))},drawNodes=(t,e)=>{for(const i of t)i.render(e,(t=>t.visible),((t,e)=>e))};function mergeNewNodesWithExistingNodes(t,e,i){e.forEach((o=>{if(!i.has(o)){e.delete(o);const i=t.findNodeByExternalId(o);i&&(i.ownLayer=0)}})),i.forEach((i=>{if(!e.has(i)){e.add(i);const o=t.findNodeByExternalId(i);o&&(o.ownLayer=4)}}))}e.createNodesOnTopOrBottomApi=function createNodesOnTopOrBottomApi(t){const e=new Set,i=new Set,a={clear:()=>{a.clearOnTop(),a.clearOnBottom()},clearOnTop:()=>{0!==e.size&&(e.forEach((e=>{const i=t.findNodeByExternalId(e);i&&(i.ownLayer=0)})),e.clear())},clearOnBottom:()=>{0!==i.size&&(i.forEach((e=>{const i=t.findNodeByExternalId(e);i&&(i.ownLayer=0)})),i.clear())},size:()=>e.size+i.size,isInsideNodeBeingDrawnOnTop:(i,o)=>{if(0===e.size)return!1;let a=t.getNode(i,o,void 0,(e=>((t,e)=>{let i=t;for(;i;){if(!i.isVisibleAtZoomLevel(e))return!1;i=i.parent}return!0})(e,t.camera.scale)));for(;a;){if(e.has(a.externalId))return!0;a=a.parent}return!1},drawOnTop:(i,n)=>{if(0===i.length||i.length>10)return void a.clearOnTop();n.ctx.save();const r=n.beginRender(!0);sortNodesByDrawingOrder(i),i.forEach((e=>{if(!e.selectionDrawNodeIdsOnTopOnSelected)return;const i=e.selectionDrawNodeIdsOnTopOnSelected.map((e=>t.findNodeByExternalId(e))).filter(o.isNotNil);drawNodes(i,r)})),r.finishRendering(),n.ctx.restore();const s=new Set(i.flatMap((t=>{var e;return null!==(e=t.selectionDrawNodeIdsOnTopOnSelected)&&void 0!==e?e:[]})));mergeNewNodesWithExistingNodes(t,e,s)},drawOnBottom:(e,n)=>{if(0===e.length||e.length>10)return void a.clearOnBottom();n.ctx.save();const r=n.beginRender(!0);sortNodesByDrawingOrder(e),e.forEach((e=>{if(!e.selectionDrawNodeIdsOnBottomOnSelected)return;const i=e.selectionDrawNodeIdsOnBottomOnSelected.map((e=>t.findNodeByExternalId(e))).filter(o.isNotNil);drawNodes(i,r)})),r.finishRendering(),n.ctx.restore();const s=new Set(e.flatMap((t=>{var e;return null!==(e=t.selectionDrawNodeIdsOnBottomOnSelected)&&void 0!==e?e:[]})));mergeNewNodesWithExistingNodes(t,i,s)}};return a}},8557:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNonPartialParentNode=e.calculateBorderOffset=void 0;e.calculateBorderOffset=(t,e)=>"inwards-outwards"===e?0:Math.floor(t/2)*("outwards"===e?1:-1);e.getNonPartialParentNode=t=>{let e=t;for(;e&&e.isPartialNode&&e.parent;)e=e.parent;return e}},4675:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParametrizedPool=e.SimplePool=void 0;e.SimplePool=class SimplePool{constructor(t,e=0){this.builder=t,this.pool=[];for(let t=0;t<e;t++)this.pool.push(new this.builder)}get(){return this.pool.pop()||new this.builder}return(t){this.pool.push(t)}returnAndClearArray(t){for(let e=0;e<t.length;e++)this.return(t[e]);t.length=0}forEach(t){this.pool.forEach(t)}clear(){this.pool.length=0}};e.ParametrizedPool=class ParametrizedPool{constructor(t,e=null){this.destroyer=null,this.pool=[],this.builder=t,this.destroyer=e}get(){return this.pool.pop()||this.builder()}return(t){this.destroyer&&this.destroyer(t),this.pool.push(t)}returnAndClearArray(t){for(let e=0;e<t.length;e++)this.return(t[e]);t.length=0}forEach(t){this.pool.forEach(t)}clear(){this.pool.length=0}}},3886:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuadTree=e.getNextQtFrame=void 0;const o=i(8126),a=512;let n=0;e.getNextQtFrame=function getNextQtFrame(){const t=n+1;return n=t,t};class QuadTree{constructor(t,e,i,a,n){this.rect=new o.Rectangle,this.subdivisions=null,this.parent=null,this.nodes=[],this.nodesAABB=new Float64Array(8*o.RECTANGLE_ELEMENTS),this.rect.setBounds(t,e,i,a),void 0!==n&&(this.parent=n)}static Empty(){return new QuadTree(-512,-512,1024,1024)}insertAndExpandIfNeeded(t){const e=this.expandIfNeeded(t.aabb);return e.insert(t),e}insert(t){if(this.needsSubdivision()&&this.subdivide(),this.insertInChildren(t))return;const e=this.nodes;let i=this.nodesAABB;const a=e.length;if(e.push(t),t.qtParent=this,t.qtIndexInParent=a,i.length<e.length*o.RECTANGLE_ELEMENTS){const t=new Float64Array(2*i.length);t.set(i),this.nodesAABB=t,i=t}t.aabb.copyToFloat64Array(i,a*o.RECTANGLE_ELEMENTS)}updatedAABB(t){t.qtParent===this&&t.aabb.copyToFloat64Array(this.nodesAABB,t.qtIndexInParent*o.RECTANGLE_ELEMENTS)}delete(t){if(t.qtParent!==this)return;const e=this.nodes,i=this.nodesAABB,a=t.qtIndexInParent,n=e.length-1;if(a!==n){const t=e.pop();e[a]=t,t.qtIndexInParent=a,i.copyWithin(a*o.RECTANGLE_ELEMENTS,n*o.RECTANGLE_ELEMENTS,(n+1)*o.RECTANGLE_ELEMENTS)}else e.pop();t.qtParent=null,t.qtIndexInParent=-1,null!==this.subdivisions?this.tryToJoin():null!==this.parent&&this.parent.tryToJoin()}tryToJoin(){const t=this.subdivisions;null!=t&&null===t.topLeft.subdivisions&&null===t.topRight.subdivisions&&null===t.bottomLeft.subdivisions&&null===t.bottomRight.subdivisions&&this.nodes.length+t.topLeft.nodes.length+t.topRight.nodes.length+t.bottomLeft.nodes.length+t.bottomRight.nodes.length<16&&(this.subdivisions=null,t.topLeft.nodes.forEach((t=>this.insert(t))),t.topRight.nodes.forEach((t=>this.insert(t))),t.bottomLeft.nodes.forEach((t=>this.insert(t))),t.bottomRight.nodes.forEach((t=>this.insert(t))),null!==this.parent&&this.parent.tryToJoin())}findRect(t){return this.rect.contains(t)?this.findRectInternal(t):null}findRectInternal(t){const e=this.subdivisions;if(null!==e){const i=e.topLeft.rect.x1,o=e.topLeft.rect.y1,a=t.y1<=o,n=t.y>=o,r=t.x>=i,s=t.x1<=i;if(a){if(r){const i=e.topRight.findRectInternal(t);if(null!==i)return i}else if(s){const i=e.topLeft.findRectInternal(t);if(null!==i)return i}}else if(n)if(r){const i=e.bottomRight.findRectInternal(t);if(null!==i)return i}else if(s){const i=e.bottomLeft.findRectInternal(t);if(null!==i)return i}}return this}insertInChildren(t){const e=this.subdivisions;return null!==e&&(e.topLeft.canHold(t.aabb)?(e.topLeft.insert(t),!0):e.topRight.canHold(t.aabb)?(e.topRight.insert(t),!0):e.bottomLeft.canHold(t.aabb)?(e.bottomLeft.insert(t),!0):!!e.bottomRight.canHold(t.aabb)&&(e.bottomRight.insert(t),!0))}subdivide(){const t=this.rect;if(null!==this.subdivisions)return this.subdivisions;const e=t.width/2,i=t.height/2;this.subdivisions={topLeft:new QuadTree(t.x,t.y,e,i,this),topRight:new QuadTree(t.x+e,t.y,e,i,this),bottomLeft:new QuadTree(t.x,t.y+i,e,i,this),bottomRight:new QuadTree(t.x+e,t.y+i,e,i,this)};const o=this.nodes;return this.nodes=[],o.forEach((t=>this.insert(t))),this.subdivisions}needsSubdivision(){return null===this.subdivisions&&this.nodes.length+1>32&&this.rect.width>a}canHold(t){return this.rect.contains(t)}canHoldInChildren(t){const e=this.subdivisions;if(null===e)return!1;const i=e.topLeft.rect.x1,o=e.topLeft.rect.y1;return(t.x>=i||t.x1<=i)&&(t.y>=o||t.y1<=o)}expandIfNeeded(t){let e=this;for(;!e.canHold(t);){const t=new QuadTree(e.rect.x-e.rect.width/2,e.rect.y-e.rect.height/2,2*e.rect.width,2*e.rect.height),i=e.subdivisions;if(null!==i){const e=t.subdivide();if(null!==i.topLeft.subdivisions||i.topLeft.nodes.length>0){const t=e.topLeft.subdivide();t.bottomRight=i.topLeft,t.bottomRight.parent=e.topLeft}if(null!==i.topRight.subdivisions||i.topRight.nodes.length>0){const t=e.topRight.subdivide();t.bottomLeft=i.topRight,t.bottomLeft.parent=e.topRight}if(null!==i.bottomLeft.subdivisions||i.bottomLeft.nodes.length>0){const t=e.bottomLeft.subdivide();t.topRight=i.bottomLeft,t.topRight.parent=e.bottomLeft}if(null!==i.bottomRight.subdivisions||i.bottomRight.nodes.length>0){const t=e.bottomRight.subdivide();t.topLeft=i.bottomRight,t.topLeft.parent=e.bottomRight}}e.nodes.length>0&&(t.nodes=e.nodes,t.nodesAABB=e.nodesAABB,t.nodes.forEach((e=>e.qtParent=t))),e=t}return e}}e.QuadTree=QuadTree},8898:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuadTreeIterator=void 0;const o=i(8126);e.QuadTreeIterator=class QuadTreeIterator{constructor(t){this.root_=t}forEachVisibleNode(t,e){this.forEachInBoundsInternal(t,e)}forEachInBoundsInternal(t,e){let i=this.root_.root.findRect(t);null===i&&(i=this.root_.root),null!==i.parent&&this.forEachInBoundsInParents(i.parent,t,e),this.forEachInBoundsInMe(i,t,e)}forEachInBoundsInParents(t,e,i){this.callFnInBounds(t,e,i),null!==t.parent&&this.forEachInBoundsInParents(t.parent,e,i)}forEachInBoundsInMe(t,e,i){if(t.rect.inside(e))this.forAll(t,i);else if(e.intersects(t.rect)){this.callFnInBounds(t,e,i);const o=t.subdivisions;null!==o&&(this.forEachInBoundsInMe(o.topLeft,e,i),this.forEachInBoundsInMe(o.topRight,e,i),this.forEachInBoundsInMe(o.bottomLeft,e,i),this.forEachInBoundsInMe(o.bottomRight,e,i))}}callFnInBounds(t,e,i){const a=t.nodes,n=a.length;if(0===n)return;const r=t.nodesAABB,s=e.x,l=e.y,c=e.x1,d=e.y1;let h=0;for(let t=0;t<n;t++)r[h+o.RECT_X]<c&&r[h+o.RECT_Y]<d&&r[h+o.RECT_X1]>s&&r[h+o.RECT_Y1]>l&&i(a[t]),h+=o.RECTANGLE_ELEMENTS}forAll(t,e){this.callFn(t,e);const i=t.subdivisions;null!==i&&(this.forAll(i.topLeft,e),this.forAll(i.topRight,e),this.forAll(i.bottomLeft,e),this.forAll(i.bottomRight,e))}callFn(t,e){const i=t.nodes,o=i.length;for(let t=0;t<o;t++)e(i[t])}}},4637:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuadTreeQuittableIterator=void 0;const o=i(8126);e.QuadTreeQuittableIterator=class QuadTreeQuittableIterator{constructor(t){this.root_=t}forEachVisibleNode(t,e){this.forEachInBoundsInternal(t,e)}forEachInBoundsInternal(t,e){let i=this.root_.root.findRect(t);null===i&&(i=this.root_.root),null!==i.parent&&1===this.forEachInBoundsInParents(i.parent,t,e)||this.forEachInBoundsInMe(i,t,e)}forEachInBoundsInParents(t,e,i){return 1===this.callFnInBounds(t,e,i)?1:(null!==t.parent&&this.forEachInBoundsInParents(t.parent,e,i),0)}forEachInBoundsInMe(t,e,i){if(t.rect.inside(e)){if(1===this.forAll(t,i))return 1}else if(e.intersects(t.rect)){if(1===this.callFnInBounds(t,e,i))return 1;const o=t.subdivisions;if(null!==o){if(1===this.forEachInBoundsInMe(o.topLeft,e,i))return 1;if(1===this.forEachInBoundsInMe(o.topRight,e,i))return 1;if(1===this.forEachInBoundsInMe(o.bottomLeft,e,i))return 1;if(1===this.forEachInBoundsInMe(o.bottomRight,e,i))return 1}}return 0}callFnInBounds(t,e,i){const a=t.nodes,n=a.length;if(0===n)return 0;const r=t.nodesAABB,s=e.x,l=e.y,c=e.x1,d=e.y1;let h=0;for(let t=0;t<n;t++){if(r[h+o.RECT_X]<c&&r[h+o.RECT_Y]<d&&r[h+o.RECT_X1]>s&&r[h+o.RECT_Y1]>l&&1===i(a[t]))return 1;h+=o.RECTANGLE_ELEMENTS}return 0}forAll(t,e){if(1===this.callFn(t,e))return 1;const i=t.subdivisions;if(null!==i){if(1===this.forAll(i.topLeft,e))return 1;if(1===this.forAll(i.topRight,e))return 1;if(1===this.forAll(i.bottomLeft,e))return 1;if(1===this.forAll(i.bottomRight,e))return 1}return 0}callFn(t,e){const i=t.nodes,o=i.length;for(let t=0;t<o;t++)if(1===e(i[t]))return 1;return 0}}},4612:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuadTreeRoot=void 0;const o=i(3886);e.QuadTreeRoot=class QuadTreeRoot{constructor(){this.mainRoot=o.QuadTree.Empty()}get root(){return this.mainRoot}insert(t){null===t.qtParent?this.mainRoot=this.mainRoot.insertAndExpandIfNeeded(t):console.error("QuadTree: Trying to insert a node that already has a qtParent!!! This can only happen if you try to use a node in more than one QT, or forget to remove it from an old QT")}delete(t){null!==t.qtParent&&t.qtParent.delete(t)}updated(t){const e=t.qtParent;null!==e&&(!e.canHold(t.aabb)||e.canHoldInChildren(t.aabb)?(this.delete(t),this.insert(t)):e.updatedAABB(t))}}},7149:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createViewportActions=void 0;e.createViewportActions=t=>{const e={get:()=>{const{x:e,y:i}=t.camera.getClipBounds();return{x:e,y:i,zoom:t.camera.scale}},getSize:()=>({width:t.cameraWidth,height:t.cameraHeight}),fromScreenPos:(t,i)=>{const{x:o,y:a,zoom:n}=e.get();return{x:t/n+o,y:i/n+a}},toScreenPos:(t,i)=>{const{x:o,y:a,zoom:n}=e.get();return{x:(t-o)*n,y:(i-a)*n}},goTo:(i,o)=>{e.set(i,o,t.camera.scale)},resize:(e,i)=>{t.viewportResize(e,i)},set:(e,i,o)=>{t.camera.setFullViewport(e,i,o),t.invalidateViewport()},setBackground:e=>{t.setClearColor(e)},setZoomCenter:(e,i)=>{t.camera.setupZoomAtScreenPos(e,i,!0)},zoom:e=>{t.cameraScale=e},zoomAt:(t,i,o)=>{e.setZoomCenter(t,i),e.zoom(o)},zoomTo:()=>{console.error("zoomTo is no longer supported")},getZoom:()=>t.cameraScale};return e}},3597:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.octetStream=void 0,e.octetStream="application/octet-stream"},1510:function(t,e,i){"use strict";var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))((function(a,n){function fulfilled(t){try{step(o.next(t))}catch(t){n(t)}}function rejected(t){try{step(o.throw(t))}catch(t){n(t)}}function step(t){t.done?a(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.isSvgImage=e.isIconId=e.toIconUrl=e.getAssetFromCache=e.getFontCache=e.getAssetCache=e.getMimeType=e.getMimeExtension=e.validImageMimeTypes=e.mimeMap=void 0;const a=i(5982),n=i(3597);e.mimeMap={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",gif:"image/gif",json:"application/json",ico:"image/x-icon",bmp:"image/bmp",webp:"image/webp"},e.validImageMimeTypes=new Set(Object.values(e.mimeMap).filter((t=>t.startsWith("image"))));e.getMimeExtension=t=>Object.keys(e.mimeMap).find((i=>e.mimeMap[i]===t));e.getMimeType=t=>(t.replace(/\/phantomjs\/.*$/,"").replace(/^.*\/([^/]+)$/,"$1").toLowerCase().match(/\.\w+/g)||[]).map((t=>e.mimeMap[t.slice(1)])).filter((t=>!!t))[0]||n.octetStream;const scaleSize=(t,e)=>t&&{width:t.width*e,height:t.height*e},scaleAsset=t=>e=>Object.assign(Object.assign({},e),{opts:e.opts&&Object.assign(Object.assign({},e.opts),{fit:scaleSize(e.opts.fit,t),bound:scaleSize(e.opts.bound,t)})}),fetchAssets=(t,e,i)=>Promise.all(i.map(t)).then((t=>i.reduce(((i,o,a)=>{const n=t[a];return n.data.byteLength>0&&(i[e(o)]=n),i}),{}))),groupAssetsSlices=(t,e,i,o,a)=>{const merge=t=>Object.assign(Object.assign({},a),t);if(o.length<i)return fetchAssets(t,e,o).then(merge);const n=o.slice(0,i),r=o.slice(i);return fetchAssets(t,e,n).then((o=>groupAssetsSlices(t,e,i,r,merge(o))))};e.getAssetCache=(t,e,i=1,o)=>((t,e,i,o)=>groupAssetsSlices(t,e,i,o,{}))(t,a.getCacheKey,o||1/0,(0,a.getAssets)(e).map(scaleAsset(i)));const r=new Map;e.getFontCache=(t,e)=>o(void 0,void 0,void 0,(function*(){const i=new Map;for(let o=0;o<e.length;o++){const a=e[o];if(!r.has(a)){const e=yield t(a);r.set(a,e)}i.set(a,r.get(a))}return i}));e.getAssetFromCache=(t,e)=>i=>{var o,n;const r=(0,a.getCacheKey)(scaleAsset(e)(i)),s=t[r];return s||console.log(`mural-render getAssetFromCache miss - url: ${i.url} key: ${r} id:${null===(o=i.widgetContext)||void 0===o?void 0:o.ownerId} module:${null===(n=i.widgetContext)||void 0===n?void 0:n.renderInternalModule}`),s};e.toIconUrl=t=>`/api/v0/noun/id/${t}.svg`;e.isIconId=t=>!t.startsWith("/")&&!t.includes("://")&&!t.includes("base64");e.isSvgImage=t=>t.includes(e.mimeMap.svg)||t.includes(".svg")},4673:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRTLFontFamily=e.aliasMap=e.semiBoldMap=e.boldMap=void 0;e.boldMap={"proxima-nova":"proxima-nova-bold","museo-slab":"museo-slab-bold","noto-sans":"noto-sans-bold","noto-sans-cjk":"noto-sans-cjk-bold","noto-sans-hebrew":"noto-sans-hebrew-bold","noto-sans-devanagari":"noto-sans-devanagari-bold","noto-sans-thai":"noto-sans-thai-bold","noto-naskh-arabic":"noto-naskh-arabic-bold",adelle:"adelle-bold","ey-interstate":"ey-interstate-bold","abc-social":"abc-social-bold","stk-bureau-serif":"stk-bureau-serif-bold","big-shoulders-display":"big-shoulders-display-bold",caveat:"caveat-bold","dyna-puff":"dyna-puff-bold","ibm-plex-mono":"ibm-plex-mono-bold","ibm-plex-sans":"ibm-plex-sans-bold","ibm-plex-serif":"ibm-plex-serif-bold","inter-tight":"inter-tight-bold","play-fair-display":"play-fair-display-bold",solway:"solway-bold","zilla-slab":"zilla-slab-bold"},e.semiBoldMap={"proxima-nova":"proxima-nova-semibold"},e.aliasMap={"tk-proxima-nova-eb":"proxima-nova-bold","tk-blambot-casual":"blambot-casual",markerfelt:"marker-felt"};e.isRTLFontFamily=t=>"noto-sans-hebrew"===t||"noto-sans-hebrew-bold"===t||"noto-naskh-arabic"===t||"noto-naskh-arabic-bold"===t,e.default={"proxima-nova":"proximanova-regular-webfont.ttf","proxima-nova-bold":"proximanova-bold-webfont.ttf","proxima-nova-semibold":"proximanova-semibold-webfont.ttf","museo-slab":"museo_slab_300-webfont.ttf","museo-slab-bold":"museo_slab_700-webfont.ttf",adelle:"adelle_reg-webfont.ttf","adelle-bold":"adelle_extrabold-webfont.ttf","marker-felt":"marker_felt-webfont.ttf","shark-water":"shark_in_the_water__bold-webfont.ttf","blambot-casual":"blambotcasual-webfont.ttf","blambot-pro":"blambotprolite-webfont.ttf","lint-mccree":"lint-mccree2-webfont.ttf","abc-social":"ABCSocial-Regular.ttf","abc-social-bold":"ABCSocial-Bold.ttf","stk-bureau-serif":"STKBureau-Serif-Light.ttf","stk-bureau-serif-bold":"STKBureau-Serif-Bold.ttf","big-shoulders-display":"BigShouldersDisplay-Regular.ttf","big-shoulders-display-bold":"BigShouldersDisplay-Bold.ttf",caveat:"Caveat-Regular.ttf","caveat-bold":"Caveat-Bold.ttf","dyna-puff":"DynaPuff-Regular.ttf","dyna-puff-bold":"DynaPuff-Bold.ttf","ibm-plex-mono":"IBMPlexMono-Regular.ttf","ibm-plex-mono-bold":"IBMPlexMono-Bold.ttf","ibm-plex-sans":"IBMPlexSans-Regular.ttf","ibm-plex-sans-bold":"IBMPlexSans-Bold.ttf","ibm-plex-serif":"IBMPlexSerif-Regular.ttf","ibm-plex-serif-bold":"IBMPlexSerif-Bold.ttf","inter-tight":"InterTight-Regular.ttf","inter-tight-bold":"InterTight-Bold.ttf","play-fair-display":"PlayfairDisplay-Regular.ttf","play-fair-display-bold":"PlayfairDisplay-Bold.ttf",solway:"Solway-Regular.ttf","solway-bold":"Solway-Bold.ttf","zilla-slab":"ZillaSlab-Regular.ttf","zilla-slab-bold":"ZillaSlab-Bold.ttf","noto-sans-hebrew":"NotoSansHebrew-Regular.ttf","noto-sans-hebrew-bold":"NotoSansHebrew-Bold.ttf","noto-sans-devanagari":"NotoSansDevanagari-Regular.ttf","noto-sans-devanagari-bold":"NotoSansDevanagari-Bold.ttf","noto-sans-thai":"NotoSansThai-Regular.ttf","noto-sans-thai-bold":"NotoSansThai-Bold.ttf","noto-naskh-arabic":"NotoNaskhArabic-Regular.ttf","noto-naskh-arabic-bold":"NotoNaskhArabic-Bold.ttf","noto-sans-cjk":"NotoSansCJKsc-Regular.otf","noto-sans-cjk-bold":"NotoSansCJKsc-Bold.otf","noto-sans":"NotoSans-Regular.ttf","noto-sans-bold":"NotoSans-Bold.ttf",stickers:"murally-stickers.ttf","ey-interstate":"EYInterstate-Regular.ttf","ey-interstate-bold":"EYInterstate-Bold.ttf","emoji-fallback":"TwitterColorEmoji-SVGinOT.ttf"}},9729:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={"proxima-nova":{lineHeight:1.2177734375,ascent:.919921875,descent:-.2978515625},"proxima-nova-bold":{lineHeight:1.2177734375,ascent:.919921875,descent:-.2978515625},"proxima-nova-semibold":{lineHeight:1.2177734375,ascent:.919921875,descent:-.2978515625},"museo-slab":{lineHeight:1.12744140625,ascent:.89111328125,descent:-.236328125},"museo-slab-bold":{lineHeight:1.16650390625,ascent:.9130859375,descent:-.25341796875},adelle:{lineHeight:1.28173828125,ascent:.97021484375,descent:-.3115234375},"adelle-bold":{lineHeight:1.3232421875,ascent:1.005859375,descent:-.3173828125},"marker-felt":{lineHeight:1.31591796875,ascent:1.0771484375,descent:-.23876953125},"shark-water":{lineHeight:1.44921875,ascent:1.02734375,descent:-.421875},"blambot-casual":{lineHeight:1.2470703125,ascent:1.0009765625,descent:-.24609375},"blambot-pro":{lineHeight:1.232421875,ascent:.9560546875,descent:-.2763671875},"lint-mccree":{lineHeight:1.2158203125,ascent:1.0244140625,descent:-.19140625},"abc-social":{lineHeight:1.284,ascent:.949,descent:-.335},"abc-social-bold":{lineHeight:1.284,ascent:.949,descent:-.335},"stk-bureau-serif":{lineHeight:1.034,ascent:.812,descent:-.222},"stk-bureau-serif-bold":{lineHeight:1.034,ascent:.812,descent:-.222},"big-shoulders-display":{lineHeight:1.197,ascent:.984,descent:-.213},"big-shoulders-display-bold":{lineHeight:1.197,ascent:.984,descent:-.213},caveat:{lineHeight:1.26,ascent:.96,descent:-.3},"caveat-bold":{lineHeight:1.26,ascent:.96,descent:-.3},"dyna-puff":{lineHeight:1.2,ascent:.965,descent:-.235},"dyna-puff-bold":{lineHeight:1.2,ascent:.965,descent:-.235},"ibm-plex-mono":{lineHeight:1.3,ascent:1.025,descent:-.275},"ibm-plex-mono-bold":{lineHeight:1.3,ascent:1.025,descent:-.275},"ibm-plex-sans":{lineHeight:1.3,ascent:1.025,descent:-.275},"ibm-plex-sans-bold":{lineHeight:1.3,ascent:1.025,descent:-.275},"ibm-plex-serif":{lineHeight:1.3,ascent:1.025,descent:-.275},"ibm-plex-serif-bold":{lineHeight:1.3,ascent:1.025,descent:-.275},"inter-tight":{lineHeight:1.2099609375,ascent:.96875,descent:-.2412109375},"inter-tight-bold":{lineHeight:1.2099609375,ascent:.96875,descent:-.2412109375},"play-fair-display":{lineHeight:1.333,ascent:1.082,descent:-.251},"play-fair-display-bold":{lineHeight:1.333,ascent:1.082,descent:-.251},solway:{lineHeight:1.2,ascent:.95,descent:-.25},"solway-bold":{lineHeight:1.2,ascent:.95,descent:-.25},"zilla-slab":{lineHeight:1.2,ascent:.944,descent:-.256},"zilla-slab-bold":{lineHeight:1.2,ascent:.944,descent:-.256},"noto-sans-hebrew":{lineHeight:1.362,ascent:1.069,descent:-.293},"noto-sans-hebrew-bold":{lineHeight:1.362,ascent:1.069,descent:-.293},"noto-sans-devanagari":{lineHeight:1.304,ascent:.896,descent:-.408},"noto-sans-devanagari-bold":{lineHeight:1.304,ascent:.896,descent:-.408},"noto-sans-thai":{lineHeight:1.511,ascent:1.061,descent:-.45},"noto-sans-thai-bold":{lineHeight:1.511,ascent:1.061,descent:-.45},"noto-naskh-arabic":{lineHeight:1.70263671875,ascent:1.06884765625,descent:-.6337890625},"noto-naskh-arabic-bold":{lineHeight:1.70263671875,ascent:1.06884765625,descent:-.6337890625},"noto-sans-cjk":{lineHeight:1.2177734375,ascent:.919921875,descent:-.2978515625},"noto-sans-cjk-bold":{lineHeight:1.2177734375,ascent:.919921875,descent:-.2978515625},"noto-sans":{lineHeight:1.362,ascent:1.069,descent:-.293},"noto-sans-bold":{lineHeight:1.362,ascent:1.069,descent:-.293},stickers:{lineHeight:1,ascent:1,descent:0},"ey-interstate":{lineHeight:1.2001953125,ascent:.9599609375,descent:-.240234375},"ey-interstate-bold":{lineHeight:1.2001953125,ascent:.9599609375,descent:-.240234375},"emoji-fallback":{lineHeight:1.05908203125,ascent:.958984375,descent:-.10009765625}}},1792:function(t,e,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,i,o){void 0===o&&(o=i);var a=Object.getOwnPropertyDescriptor(e,i);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,o,a)}:function(t,e,i,o){void 0===o&&(o=i),t[o]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&o(e,t,i);return a(e,t),e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeFont=e.areAllFontFamilyCharactersHyphenableCandidates=e.makeSemiBold=e.makeBold=e.getUnifiedLineMetrics=e.getFontMetrics=void 0;const s=n(i(4673)),l=r(i(9729));e.default=s.default;e.getFontMetrics=(t,e,i)=>{const o=l.default[t];return{lineHeight:o.lineHeight*e*i,ascent:o.ascent*e*i,descent:o.descent*e*i}};const mergeMetrics=(t,e)=>({ascent:Math.max(t.ascent,e.ascent),descent:Math.min(t.descent,e.descent),lineHeight:Math.max(t.lineHeight,e.lineHeight)}),c={ascent:0,descent:0,lineHeight:0},foldMetrics=t=>t.reduce(mergeMetrics,c);e.getUnifiedLineMetrics=(t,i,o)=>foldMetrics(t.map((t=>((t,i,o)=>foldMetrics(t.map((t=>(0,e.getFontMetrics)(t.fontFamily,i,o)))))(t,i,o))));const makeFontVariant=(t,e)=>t[e]||e;e.makeBold=t=>makeFontVariant(s.boldMap,t);e.makeSemiBold=t=>makeFontVariant(s.semiBoldMap,t);e.areAllFontFamilyCharactersHyphenableCandidates=t=>(t=>"noto-sans-cjk"===t||"noto-sans-cjk-bold"===t)(t)||(t=>"noto-sans-thai"===t)(t);e.normalizeFont=t=>{const i=(t=>{let e=(t||"").toLowerCase();return s.default[e]?e:(e=s.aliasMap[e],s.default[e]?e:(console.log(`Error: cannot find font '${t}'`),e=Object.keys(s.default).filter((e=>-1!==t.indexOf(e)))[0],s.default[e]?e:"proxima-nova"))})(t.fontFamily);return t.bold?(0,e.makeBold)(i):i}},9934:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getCubicBezierLookupTable=e.getCubicBezierEvaluatorAtX=void 0;const a=o(i(5874)),isNearZero=t=>Math.abs(t)<1e-6,crt=t=>t<0?-Math.pow(-t,1/3):Math.pow(t,1/3),n=2*Math.PI;e.getCubicBezierEvaluatorAtX=(t,e,i,o)=>{const r=((t,e)=>{const i=3*t,o=3*e,a=i-o+1;let r=-2*i+o,s=i;if(isNearZero(a))return isNearZero(r)?isNearZero(s)?()=>[]:t=>[- -t/s]:t=>{const e=-t,i=Math.sqrt(s*s-4*r*e),o=2*r;return[(i-s)/o,(-s-i)/o]};r/=a,s/=a;const l=r/3,c=(3*s-r*r)/3,d=c/3,h=2*r*r*r/27-9*r*s/27;return t=>{const e=h+-t/a,i=e/2,o=i*i+d*d*d;if(o<0){const t=-c/3,i=Math.sqrt(t*t*t),o=-e/(2*i),a=o<-1?-1:o>1?1:o,r=Math.acos(a),s=2*crt(i);return[s*Math.cos(r/3)-l,s*Math.cos((r+n)/3)-l,s*Math.cos((r+2*n)/3)-l]}if(0===o){const t=i<0?crt(-i):-crt(i);return[2*t-l,-t-l]}{const t=Math.sqrt(o);return[crt(-i+t)-crt(i+t)-l]}}})(t,i),s=new a.default(0,0,t,e,i,o,1,1);return t=>{if(t<=0)return 0;if(t>=1)return 1;const e=r(t);let i=0;if(e.length>0)for(const t of e)if(!(t<0||t>1)){i=t;break}return s.get(i).y}};e.getCubicBezierLookupTable=(t,i,o,a,n)=>{const r=(0,e.getCubicBezierEvaluatorAtX)(t,i,o,a),s=[];for(let t=0;t<n;t++){const e=t/(n-1);s.push(r(e))}return s}},8930:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCSSCubicBezierEasing=void 0;const o=i(9934),a=new Map;class EasingLerpedLookupTable{constructor(t){this.ys=t}getValue(t){const e=this.ys.length-1,i=t*e,o=i%1;let a=Math.floor(i);a<0&&(a=0),a>e&&(a=e);let n=a+1;n>e&&(n=e);return this.ys[a]*(1-o)+this.ys[n]*o}}e.getCSSCubicBezierEasing=(t,e)=>{if(!((t,e)=>{let i=!0;4!=t.length&&(console.error("Not enough control points for easing"),i=!1),e<2&&(console.error("Not enough levels of detail for easing"),i=!1);const o=t[0],a=t[1],n=t[2],r=t[3];return 0<=o&&o<=1&&0<=n&&n<=1||(console.error("Control point X outside [0,1] range"),i=!1),(Number.isNaN(a)||Number.isNaN(r))&&(console.error("Control point Y is NaN"),i=!1),i})(t,e))return(()=>new EasingLerpedLookupTable([0,1]))();const i=((t,e)=>`${t[0]}-${t[1]}-${t[2]}-${t[3]}-${e}`)(t,e),n=a.get(i);if(n)return n;const r=(0,o.getCubicBezierLookupTable)(t[0],t[1],t[2],t[3],e),s=new EasingLerpedLookupTable(r);return a.set(i,s),s}},3139:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildCirclePath=e.buildSquarePath=void 0;e.buildSquarePath=(t,e)=>`M 0 0 L ${t} 0 L ${t} ${e} L 0 ${e} Z`;e.buildCirclePath=(t,e)=>`M ${t/2}, 0 a ${t/2} ${e/2} 0 1 0 1 0 Z`},3912:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SimplifiedSvgPath=e.SvgCommandClose=e.SvgCommandCubicBezier=e.SvgCommandLine=e.SvgCommandMove=void 0;const a=o(i(6721));e.SvgCommandMove="M",e.SvgCommandLine="L",e.SvgCommandCubicBezier="C",e.SvgCommandClose="Z";const n={M:2,L:2,C:6,Z:0};var r;!function(t){function create(){return{commands:[],values:[]}}function addMove(t,i,o){return t.commands.push(e.SvgCommandMove),t.values.push(i,o),t}function addLine(t,i,o){return t.commands.push(e.SvgCommandLine),t.values.push(i,o),t}function addCubicBezier(t,i,o,a,n,r,s){return t.commands.push(e.SvgCommandCubicBezier),t.values.push(i,o,a,n,r,s),t}function addClose(t){return t.commands.push(e.SvgCommandClose),t}function iterate(t,e){let i=0;for(const o of t.commands)e(o,t.values,i,n[o]),i+=n[o];return t}t.create=create,t.cloneValues=function cloneValues(t){return{commands:t.commands,values:[...t.values]}},t.addMove=addMove,t.addLine=addLine,t.addCubicBezier=addCubicBezier,t.addClose=addClose,t.iterate=iterate,t.toPath=function toPath(t){let e="";return iterate(t,((t,i,o,a)=>{e+=t;for(let t=0;t<a;t++)e+=i[o+t]+" "})),e},t.createFromPath=function createFromPath(t,e){const i=create();return(0,a.default)(t).abs().unarc().unshort().iterate(((t,o,a,n)=>{switch(t[0]){case"M":addMove(i,t[1],t[2]);break;case"L":addLine(i,t[1],t[2]);break;case"C":addCubicBezier(i,t[1],t[2],t[3],t[4],t[5],t[6]);break;case"H":addLine(i,t[1],n);break;case"V":addLine(i,a,t[1]);break;case"Z":addClose(i);break;default:(null!=e?e:console.error)(`Unhandled SVG path command while converting to Simplified SVG Path ${t[0]}`)}})),i}}(r||(e.SimplifiedSvgPath=r={}))},8949:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitTextItem=void 0;const o=i(860);e.splitTextItem=t=>{const e=(0,o.unicodeSplitByCJK)(t);return null===e?null:{texts:e}}},303:function(t,e,i){"use strict";var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))((function(a,n){function fulfilled(t){try{step(o.next(t))}catch(t){n(t)}}function rejected(t){try{step(o.throw(t))}catch(t){n(t)}}function step(t){t.done?a(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=a(i(1792)),r=i(8949),s=i(4929),l={},arrayBuffer2Base64=t=>btoa(String.fromCharCode.apply(null,new Uint8Array(t))),mapResponse=t=>({ok:t.ok,arrayBuffer:()=>t.arrayBuffer(),text:()=>t.text(),status:t.status,location:t.headers.get("location")||"",contentType:t.headers.get("content-type")||""}),fetchFn=(t,e)=>fetch(t,e).then(mapResponse);e.default=t=>({arrayBuffer2Base64,config:t,buildMeasureText:s.buildMeasureText,buildSplitTextItem:()=>r.splitTextItem,arrayBuffer2String:t=>new TextDecoder("utf-8").decode(new Uint8Array(t)),string2ArrayBuffer:t=>(new TextEncoder).encode(t),fetchFn,stringToBase64:btoa,base64ToString:atob,readFontFn:t=>{if(void 0!==l[t])return l[t];const e=`/res/fonts/${n.default[t]}`;return l[t]=(()=>o(void 0,void 0,void 0,(function*(){const t=yield fetchFn(e);return{data:yield t.arrayBuffer(),url:e}})))(),l[t]}})},4929:function(t,e,i){"use strict";var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))((function(a,n){function fulfilled(t){try{step(o.next(t))}catch(t){n(t)}}function rejected(t){try{step(o.throw(t))}catch(t){n(t)}}function step(t){t.done?a(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getCanvasImageFromUrl=e.getImageFromUrl=e.buildMeasureText=void 0;const a=i(1510),n=i(1792),r=i(3488);class FontCache{constructor(t){this.cache=new Map,this.lruCounter=0,this.maxSize=0,this.maxSize=t}measureText(t,e,i){if(t&&i){const o=this.getCacheEntry(t,Math.round(100*e)/100);if(o){const t=o.cachedMeasures.get(i);if(void 0!==t)return t;const e=o.context.measureText(i).width;return o.cachedMeasures.set(i,e),o.cachedSize+=i.length,(o.cachedSize>524288||o.cachedMeasures.size>1e4)&&(o.cachedMeasures.clear(),o.cachedSize=0),e}}return 0}getCacheEntry(t,e){const{cache:i,maxSize:o}=this,a=-1!==t.indexOf("bold"),r=-1!==t.indexOf("italic"),s=`${t}/${e}/${a}/${r}`,l=i.get(s);if(l)return l.lastUsed=this.lruCounter++,l;const c=`${r?"italic ":""}${e}px ${a?(0,n.makeBold)(t):t}`;if(i.size<o){const t=document.createElement("canvas").getContext("2d");if(t){t.font=c;const e={context:t,lastUsed:this.lruCounter++,cachedMeasures:new Map,cachedSize:0};return i.set(s,e),e}}const d=Array.from(i.entries()).reduce(((t,e)=>t&&t[1].lastUsed<=e[1].lastUsed?t:e),null);if(!d)return null;const[h,{context:u}]=d;i.delete(h),u.font=c;const v={context:u,lastUsed:this.lruCounter++,cachedMeasures:new Map,cachedSize:0};return i.set(s,v),v}}e.buildMeasureText=()=>{const t=new FontCache(4);return(e,i,o)=>t.measureText(e,i,o)};e.getImageFromUrl=(t,e,i,n)=>(s,l,c)=>{const d=(({dataUrl:t,url:e,levelOfDetail:i,opts:{color:o}={}})=>({id:`${o||"default"}|${t||e}`,levelOfDetail:i||0}))(s);return l.get(d,(l=>((t,e,i,{dataUrl:n,url:s,levelOfDetail:l,opts:{color:c,isIcon:d}={},widgetContext:h},u,v)=>o(void 0,void 0,void 0,(function*(){let o=n;if(!o)try{o=yield i(s,{levelOfDetail:l,isIcon:d,progressCb:v},{widget:h,cacheToken:{externalId:null==h?void 0:h.ownerId,cacheKey:u}})}catch(t){return console.error("mural-render - asset fetch error",t),{error:t}}if("string"!=typeof o||!o.includes(a.mimeMap.svg))return o;const{base64Content:g}=(0,r.fromDataUrl)(o),f=t(g),y=(0,r.sanitizeSvg)(f,{color:c});return(0,r.toDataUrl)(a.mimeMap.svg,e(y))})))(t,e,i,s,d,l).then((t=>"string"!=typeof t&&"error"in t?{type:"error"}:n(t,s,l)))),c)};e.getCanvasImageFromUrl=(t,i=null)=>(0,e.getImageFromUrl)(atob,btoa,t,((t,e,o)=>"string"!=typeof t?{type:"simple",image:t,vectorial:!1}:null!==i&&(e.url.endsWith(".gif")||t.includes(a.mimeMap.gif))?i(t,e.widgetContext,o):((t,e,i)=>new Promise((o=>{const n=new Image;i&&i(0,!0),n.onload=()=>{i&&i(1,!0),o({type:"simple",image:n,vectorial:(0,a.isSvgImage)(t)})},n.onerror=t=>{var i,a;console.warn(`image.onerror - url: ${e.url} error: ${t} at:utils-loadImage id:${null===(i=e.widgetContext)||void 0===i?void 0:i.ownerId} module:${null===(a=e.widgetContext)||void 0===a?void 0:a.renderInternalModule} imgsrc=${n.src}`),o({type:"error"})},n.src=t})))(t,e,o)))},808:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ellipse=void 0;const o=i(9314);var a;!function(t){t.normal=function normal({center:t,rX:e,rY:i},{x:o,y:a}){const n=o-t.x,r=a-t.y,s=-Math.pow(i,2)*n/(Math.pow(e,2)*r),l=Math.atan(s)+Math.PI/2,c=r<0?-1:1;return{x:Math.cos(l)*c,y:Math.sin(l)*c}},t.closestPoint=function closestPoint({center:{x:t,y:e},rX:i,rY:o},a){const n=a.x-t,r=a.y-e,s=Math.abs(n),l=Math.abs(r),c=i,d=o;let h=.70710678118,u=.70710678118;for(let t=0;t<3;++t){const t=h*h*h*(c*c-d*d)/c,e=u*u*u*(d*d-c*c)/d,i=c*h-t,o=d*u-e,a=s-t,n=l-e,r=Math.sqrt(i*i+o*o),v=Math.sqrt(n*n+a*a);h=Math.min(1,Math.max(0,(a*r/v+t)/c)),u=Math.min(1,Math.max(0,(n*r/v+e)/d));const g=Math.sqrt(h*h+u*u);h/=g,u/=g}return{x:c*(n<0?-h:h)+t,y:d*(r<0?-u:u)+e}},t.segmentIntersection=function segmentIntersection({center:t,rX:e,rY:i},a,n,r){const s=a.x-t.x,l=a.y-t.y,c=n.x-t.x,d=n.y-t.y,h=(c-s)*(c-s)/e/e+(d-l)*(d-l)/i/i,u=2*s*(c-s)/e/e+2*l*(d-l)/i/i,v=s*s/e/e+l*l/i/i-1,g=new Array,f=u*u-4*h*v;(t=>Math.abs(t)<.001)(f)?g.push(-u/2/h):f>0&&(g.push((-u+Math.sqrt(f))/2/h),g.push((-u-Math.sqrt(f))/2/h));const y=new Array;for(const e of g)if(!r||e>=0&&e<=1){const i=s+(c-s)*e+t.x,o=l+(d-l)*e+t.y;y.push({x:i,y:o})}return 0===y.length?null:1===y.length||o.Point.cartesianDistance(a,y[0])<o.Point.cartesianDistance(a,y[1])?y[0]:y[1]}}(a||(e.Ellipse=a={}))},8698:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;const o=i(9314);var a;!function(t){t.intersection=function intersection(t,e){const i=t.p0,o=t.p1,a=e.p0,n=e.p1,r=o.x-i.x,s=o.y-i.y,l=n.x-a.x,c=n.y-a.y,d=r*c-s*l;if(Math.abs(d)<1e-8)return null;const h=((a.x-i.x)*c-(a.y-i.y)*l)/d;return h>=0&&h<=1?{point:{x:i.x+h*r,y:i.y+h*s},t:t.t0+h*(t.t1-t.t0)}:null},t.projectPoint=function projectPoint(t,e){const i=t.x-e.p0.x,o=t.y-e.p0.y,a=e.p1.x-e.p0.x,n=e.p1.y-e.p0.y,r=(i*a+o*n)/(a*a+n*n),s=Math.min(Math.max(0,r),1);return{pointProjected:{x:e.p0.x*(1-s)+e.p1.x*s,y:e.p0.y*(1-s)+e.p1.y*s},tProjected:e.t0+s*(e.t1-e.t0)}},t.normalPointingOutwards=function normalPointingOutwards(t,e,i){const a=t.p1.x-t.p0.x,n=t.p1.y-t.p0.y,r=o.Point.normalize({x:n,y:-a}),s=o.Point.normalize({x:-n,y:a}),l=i.x-e.x,c=i.y-e.y;return r.x*l+r.y*c>s.x*l+s.y*c?r:s},t.bounds=function bounds(t,e=0){if(0===e||t.p0.x===t.p1.x||t.p0.y===t.p1.y)return{minX:Math.min(t.p0.x-e,t.p1.x-e),minY:Math.min(t.p0.y-e,t.p1.y-e),maxX:Math.max(t.p0.x+e,t.p1.x+e),maxY:Math.max(t.p0.y+e,t.p1.y+e)};const i=o.Point.normalize(o.Point.sub(t.p1,t.p0)),a={x:i.y,y:-i.x},n=o.Point.scl(a,e),r=[o.Point.add(t.p0,n),o.Point.sub(t.p0,n),o.Point.add(t.p1,n),o.Point.sub(t.p1,n)],s={minX:r[0].x,minY:r[0].y,maxX:r[0].x,maxY:r[0].y};for(let t=1;t<r.length;t++){const{x:e,y:i}=r[t];s.minX=Math.min(s.minX,e),s.minY=Math.min(s.minY,i),s.maxX=Math.max(s.maxX,e),s.maxY=Math.max(s.maxY,i)}return s}}(a||(e.Line=a={}))},9271:(t,e)=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Matrix3=e.M3_NR_Z1=e.M3_NR_Z0=e.M3_NR_SY=e.M3_NR_SX=e.M3_TY=e.M3_TX=e.MATRIX3_ELEMENTS=void 0,e.MATRIX3_ELEMENTS=6,e.M3_TX=2,e.M3_TY=5,e.M3_NR_SX=0,e.M3_NR_SY=4,e.M3_NR_Z0=1,e.M3_NR_Z1=3,function(t){t.create=function create(){const i=new Float32Array(e.MATRIX3_ELEMENTS);return t.identity(i),i},t.identity=function identity(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0},t.multiply=function multiply(t,e,i){const o=e[0],a=e[1],n=e[2],r=e[3],s=e[4],l=e[5],c=i[0],d=i[1],h=i[2],u=i[3],v=i[4],g=i[5];t[0]=o*c+a*u,t[1]=o*d+a*v,t[2]=o*h+a*g+n,t[3]=r*c+s*u,t[4]=r*d+s*v,t[5]=r*h+s*g+l},t.multiplyNonRotated=function multiplyNonRotated(t,i,o){const a=i[e.M3_TX],n=i[e.M3_TY],r=i[e.M3_NR_SX],s=i[e.M3_NR_SY],l=o[e.M3_TX],c=o[e.M3_TY],d=o[e.M3_NR_SX],h=o[e.M3_NR_SY];t[e.M3_TX]=a+l*r,t[e.M3_TY]=n+c*s,t[e.M3_NR_SX]=r*d,t[e.M3_NR_SY]=s*h,t[e.M3_NR_Z0]=0,t[e.M3_NR_Z1]=0},t.inverse=function inverse(e,i){const o=e[0],a=e[1],n=e[2],r=e[3],s=e[4],l=e[5];let c=o*s-r*a;0!==c?(c=1/c,i[0]=s*c,i[1]=-a*c,i[2]=(a*l-n*s)*c,i[3]=-r*c,i[4]=o*c,i[5]=(n*r-o*l)*c):t.identity(i)},t.transformPointInPlace=function transformPointInPlace(t,e){const i=e.x,o=e.y;e.x=i*t[0]+o*t[1]+t[2],e.y=i*t[3]+o*t[4]+t[5]},t.transformPoint=function transformPoint(t,e){const i=e.x,o=e.y;return{x:i*t[0]+o*t[1]+t[2],y:i*t[3]+o*t[4]+t[5]}},t.rotateAndScalePointInPlace=function rotateAndScalePointInPlace(t,e){const i=e.x,o=e.y;e.x=i*t[0]+o*t[1],e.y=i*t[3]+o*t[4]},t.rotateAndScalePoint=function rotateAndScalePoint(t,e){const i=e.x,o=e.y;return{x:i*t[0]+o*t[1],y:i*t[3]+o*t[4]}},t.copy=function copy(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]},t.setTransformNotRotated=function setTransformNotRotated(t,i,o,a,n){t[e.M3_NR_SX]=a,t[e.M3_NR_Z0]=0,t[e.M3_NR_Z1]=0,t[e.M3_NR_SY]=n,t[e.M3_TX]=i,t[e.M3_TY]=o},t.setTransformRotated=function setTransformRotated(t,i,o,a,n,r){const s=Math.cos(r),l=Math.sin(r),c=a*s,d=a*-l,h=n*l,u=n*s;t[0]=c,t[1]=d,t[e.M3_TX]=i,t[3]=h,t[4]=u,t[e.M3_TY]=o}}(i||(e.Matrix3=i={}))},2208:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OBB=void 0;const o=i(9314);var a;!function(t){t.buildFromCorners=function buildFromCorners(t){const e=[o.Point.sub(t[1],t[0]),o.Point.sub(t[3],t[0])],i=o.Point.squaredLength(e[0])||1,a=o.Point.squaredLength(e[1])||1;return e[0]=o.Point.scl(e[0],1/i),e[1]=o.Point.scl(e[1],1/a),{corners:t,axis:e,origin:[o.Point.dot(t[0],e[0]),o.Point.dot(t[0],e[1])]}},t.buildFromRectangle=function buildFromRectangle(e){return t.buildFromCorners([{x:e.x,y:e.y},{x:e.x1,y:e.y},{x:e.x1,y:e.y1},{x:e.x,y:e.y1}])},t.overlaps1Way=function overlaps1Way(t,e){for(let i=0;i<2;++i){let a=o.Point.dot(e.corners[0],t.axis[i]),n=a,r=a;for(let s=1;s<4;++s)a=o.Point.dot(e.corners[s],t.axis[i]),a<n?n=a:a>r&&(r=a);if(n>1+t.origin[i]||r<t.origin[i])return!1}return!0},t.overlaps=function overlaps(e,i){return t.overlaps1Way(e,i)&&t.overlaps1Way(i,e)},t.overlapsAABBAndCorners=function overlapsAABBAndCorners(e,i){const o=t.buildFromCorners(i),a=t.buildFromRectangle(e);return t.overlaps(o,a)}}(a||(e.OBB=a={}))},9314:(t,e)=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Point=e.RadToDeg=e.DegToRad=void 0,e.DegToRad=Math.PI/180,e.RadToDeg=180/Math.PI,function(t){t.create=function create(t,e){return{x:t,y:e}},t.normalize=function normalize(t){const e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},t.normalizeInPlace=function normalizeInPlace(t){const e=Math.sqrt(t.x*t.x+t.y*t.y);0!==e&&(t.x/=e,t.y/=e)},t.scl=function scl(t,e){return{x:t.x*e,y:t.y*e}},t.sub=function sub(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.add=function add(t,e){return{x:t.x+e.x,y:t.y+e.y}},t.avg=function avg(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},t.dot=function dot(t,e){return t.x*e.x+t.y*e.y},t.distance=function distance(t,e){const i=t.x-e.x,o=t.y-e.y;return Math.sqrt(i*i+o*o)},t.cartesianDistance=function cartesianDistance(t,e){const i=e.x-t.x,o=e.y-t.y;return i*i+o*o},t.cartesianDistanceToDistance=function cartesianDistanceToDistance(t){return Math.sqrt(t)},t.squaredLength=function squaredLength(t){return t.x*t.x+t.y*t.y},t.length=function length(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.sequenceLength=function sequenceLength(e){let i=0;for(let o=1;o<e.length;o++)i+=t.distance(e[o-1],e[o]);return i},t.toLocal=function toLocal(t,i,o){const a=-o*e.DegToRad,n=t.x-i.x,r=t.y-i.y,s=Math.cos(a),l=Math.sin(a);return{x:s*n-l*r,y:l*n+s*r}},t.rotate=function rotate(t,e){const i=Math.cos(e),o=Math.sin(e);return{x:t.x*i-t.y*o,y:t.y*i+t.x*o}},t.rotationFromDirection=function rotationFromDirection(t,e){const i=Math.atan2(t.y,t.x);return Math.atan2(e.y,e.x)-i},t.equal=function equal(t,e){return t.x===e.x&&t.y===e.y},t.clone=function clone(t){return{x:t.x,y:t.y}}}(i||(e.Point=i={}))},8126:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=e.RECT_Y1=e.RECT_X1=e.RECT_Y=e.RECT_X=e.RECTANGLE_ELEMENTS=void 0,e.RECTANGLE_ELEMENTS=4,e.RECT_X=0,e.RECT_Y=1,e.RECT_X1=2,e.RECT_Y1=3;class Rectangle{constructor(){this.x_=0,this.y_=0,this.x1_=0,this.y1_=0}get x(){return this.x_}get y(){return this.y_}get x1(){return this.x1_}get y1(){return this.y1_}get width(){return this.x1_-this.x_}get height(){return this.y1_-this.y_}get centerX(){return.5*(this.x_+this.x1_)}get centerY(){return.5*(this.y_+this.y1_)}static fromPoints(...t){const e=new Rectangle;return e.x_=Number.MAX_SAFE_INTEGER,e.y_=Number.MAX_SAFE_INTEGER,e.x1_=-Number.MAX_SAFE_INTEGER,e.y1_=-Number.MAX_SAFE_INTEGER,e.unionPoints(...t),e}static fromBounds(t,e,i,o){const a=new Rectangle;return a.setBounds(t,e,i,o),a}setLocation(t,e){const i=this.width,o=this.height;this.x_=t,this.y_=e,this.x1_=this.x_+i,this.y1_=this.y_+o}setDimension(t,e){this.x1_=this.x_+t,this.y1_=this.y_+e}setBounds(t,e,i,o){this.x_=t,this.y_=e,this.x1_=t+i,this.y1_=e+o}expand(t,e){this.setLocation(this.x-t/2,this.y-e/2),this.setDimension(this.width+t,this.height+e)}contains(t){return t.x_>=this.x_&&t.y_>=this.y_&&t.x1_<=this.x1_&&t.y1_<=this.y1_}containsPoint(t,e){return t<=this.x1_&&t>=this.x_&&e<=this.y1_&&e>=this.y_}containsPointTolerance(t,e,i){return t<=this.x1_+i&&t>=this.x_-i&&e<=this.y1_+i&&e>=this.y_-i}copy(t){this.x_=t.x_,this.y_=t.y_,this.x1_=t.x1_,this.y1_=t.y1_}clone(){const t=new Rectangle;return t.x_=this.x_,t.y_=this.y_,t.x1_=this.x1_,t.y1_=this.y1_,t}equals(t){return t.x_===this.x_&&t.y_===this.y_&&t.x1_===this.x1_&&t.y1_===this.y1_}isEmpty(){return this.x===this.x1_&&this.y===this.y1_}setEmpty(){this.x_=0,this.y_=0,this.x1_=0,this.y1_=0}unionPoint(t,e){this.x_=Math.min(this.x_,t),this.y_=Math.min(this.y_,e),this.x1_=Math.max(this.x1_,t),this.y1_=Math.max(this.y1_,e)}unionPoints(...t){const e=t.map((t=>t.x)),i=t.map((t=>t.y));this.x_=Math.min(this.x_,...e),this.y_=Math.min(this.y_,...i),this.x1_=Math.max(this.x1_,...e),this.y1_=Math.max(this.y1_,...i)}union(t){this.x_=Math.min(this.x_,t.x_),this.y_=Math.min(this.y_,t.y_),this.x1_=Math.max(this.x1_,t.x1_),this.y1_=Math.max(this.y1_,t.y1_)}unionRects(t){for(let e=0;e<t.length;e++)this.union(t[e])}intersects(t){return!(t.x1_<=this.x_)&&(!(t.x_>=this.x1_)&&(!(t.y1_<=this.y_)&&(!(t.y_>=this.y1_)&&(!t.isEmpty()&&!this.isEmpty()))))}intersect(t,e){e.x_=Math.max(this.x_,t.x_),e.y_=Math.max(this.y_,t.y_),e.x1_=Math.min(this.x1_,t.x1_),e.y1_=Math.min(this.y1_,t.y1_)}inside(t){return this.x1_<=t.x1_&&this.y1_<=t.y1_&&this.x_>=t.x_&&this.y_>=t.y_}matchesAnyBorder(t){return this.x_===t.x_||this.y_===t.y_||this.x1_===t.x1_||this.y1_===t.y1_}copyToFloat64Array(t,i){t[i+e.RECT_X]=this.x_,t[i+e.RECT_Y]=this.y_,t[i+e.RECT_X1]=this.x1_,t[i+e.RECT_Y1]=this.y1_}readFromFloat64Array(t,i){this.x_=t[i+e.RECT_X],this.y_=t[i+e.RECT_Y],this.x1_=t[i+e.RECT_X1],this.y1_=t[i+e.RECT_Y1]}}e.Rectangle=Rectangle},1123:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLASSIC_MURAL_STYLE=e.CLASSIC_DRAGGING_SHADOW_ANIMATION=e.CLASSIC_ROTATION_HANDLER_PATH=e.CLASSIC_LINE_HEIGHT_MULTIPLIER=void 0;const i={idle:{underline:!1,backgroundColor:"transparent",backgroundStrokeColor:"transparent",backgroundStrokeWidth:0,backgroundCornerRadius:0,color:"inherit",italic:!1},hover:{underline:!1,backgroundColor:"transparent",backgroundStrokeColor:"transparent",backgroundStrokeWidth:0,backgroundCornerRadius:0,color:"inherit",italic:!1}};e.CLASSIC_LINE_HEIGHT_MULTIPLIER=1,e.CLASSIC_ROTATION_HANDLER_PATH="M 10.154 5.253 l -1.6 -1.6 l -3.3 -3.3 v 3.9 c -5.2 0 -9.5 -4.3 -9.5 -9.5 h 3.9 l -3.3 -3.3 l -1.5 -1.5 l -0.1 -0.1 l -4.9 4.9 h 3.9 c 0 6.3 5.2 11.5 11.5 11.5 v 3.9 l 4.9 -4.9 z";const o={"-":{1:{dashLength:2,gapLength:2},3:{dashLength:6,gapLength:6},5:{dashLength:10,gapLength:10},7:{dashLength:14,gapLength:14}},".":{1:{dashLength:1,gapLength:1},3:{dashLength:3,gapLength:3},5:{dashLength:5,gapLength:5},7:{dashLength:7,gapLength:7}},". ":{1:{dashLength:2,gapLength:6},3:{dashLength:6,gapLength:18},5:{dashLength:10,gapLength:60},7:{dashLength:14,gapLength:84}}};e.CLASSIC_DRAGGING_SHADOW_ANIMATION={animate:{easeInCurveControlPoints:[.17,0,0,1],easeInDelay:0,easeInSeconds:.667,easeOutCurveControlPoints:[.17,0,0,1],easeOutDelay:0,easeOutSeconds:.667},blurOverride:12,offsetDownPixels:16};const a={enter:{in:{delay:.1,duration:.1},out:{delay:0,duration:.1}},hover:{in:{delay:0,duration:.1},out:{delay:0,duration:.1}}};e.CLASSIC_MURAL_STYLE={selection:{color:"#69a8f6",dashLength:3,gapLength:3,padding:3,animation:{easeInSeconds:0},quickAddHandler:{backgroundColor:"rgba(255,255,255,0.8)",borderColor:"#69A8F6",borderThickness:2,hover:{backgroundColor:"#69A8F6",size:10},offset:10,size:8},resizeCapsule:{backgroundColor:"#fafafa",borderColor:"#b7b7b7",borderGrowth:"inwards-outwards",borderThickness:1,cornerRadius:3,height:18,shadow:{blur:3,color:"rgba(0,0,0,0.3)",offsetX:0,offsetY:1},width:6},resizeCorner:{backgroundColor:"#fafafa",borderColor:"#b7b7b7",borderGrowth:"inwards-outwards",borderThickness:1,cornerRadius:2,shadow:{blur:3,color:"rgba(0,0,0,0.3)",offsetX:0,offsetY:1},size:12},rotationHandler:{drawing:{color:"#69A8F6",path:e.CLASSIC_ROTATION_HANDLER_PATH,size:22,topLeftRotation:90},offset:20},thickness:2,thicknessGrowth:"outwards"},widgets:{label:{bold:!1,height:18,maxIconHeight:14,fontFamily:"proxima-nova-semibold",fontSize:13,borderThickness:1,paddingHorizontal:5,iconOffsetY:1.5,textOffsetY:1,iconPaddingRight:2,cornerRadius:3,spacingBetweenLabels:5,fallbacks:{backgroundColor:"#F9F9F9",borderColor:"#D8D8D8",textColor:"#393939"},burger:{height:18,width:18,dotSize:2,dotDistance:4,idle:{backgroundColor:"#FFFFFF",borderColor:"#D5D5D5",dotColor:"#2F2F2F"},hover:{backgroundColor:"#393939",borderColor:"#393939",dotColor:"#FFFFFF"}}},comment:{mode:"classic",inner:{backgroundColor:{type:"user"},textColor:{type:"hex",hex:"#FFFFFF"}},outer:{backgroundColor:{type:"hex",hex:"#FFFFFF"}},unreadBorder:{growth:"inwards-outwards",color:"#FF0066",strokeWidth:1.5},selectedBorder:{growth:"outwards",color:"#4a90e2",strokeWidth:3}},area:{boldTitle:!1,cornerRadius:0,padding:30,lineHeightMultiplier:e.CLASSIC_LINE_HEIGHT_MULTIPLIER,shadow:{alwaysVisible:!1,blur:4,color:"#00000018",cornerRadius:4,height:3,whileDragging:e.CLASSIC_DRAGGING_SHADOW_ANIMATION},strokeOverrides:o,titleOffsetX:30,titleOffsetY:20,titlePaddingBottom:10},arrow:{strokeOverrides:o,tip:{shape:"latex",sizeBasePixelGrowth:0,sizeScaledFromStrokeWidth:4}},file:{buttonWidth:55,cornerRadius:0,generic:{layout:{button:{verticalMargin:8,horizontalMargin:11},fileIcon:{height:32,paddingLeft:103,paddingTop:30,width:32},title:{height:20,paddingLeft:11,paddingTop:108,paddingRight:88,verticalAlign:"top"}},caption:{verticalAlign:"bottom"}},theme:"classic",preview:{layout:{button:{verticalMargin:14,horizontalMargin:11},fileIcon:{height:38,paddingLeft:13,paddingTop:9,width:38},title:{height:20,paddingLeft:64,paddingTop:20,paddingRight:76,verticalAlign:"middle"},image:{paddingSides:0,paddingTop:0,paddingBottom:56}}},shadow:{alwaysVisible:!1,blur:4,height:3,color:"#00000018",cornerRadius:4,whileDragging:e.CLASSIC_DRAGGING_SHADOW_ANIMATION}},framework:{cornerRadius:0,strokeOverrides:o},image:{borderColor:"#e2e2e2",borderPadding:4,borderThickness:1,cornerRadius:0,objectFit:"fit",shadow:{alwaysVisible:!1,blur:4,color:"#00000018",cornerRadius:4,height:3,whileDragging:e.CLASSIC_DRAGGING_SHADOW_ANIMATION}},openButton:{animation:a,bold:!1,borderThickness:1,cornerRadius:4,externalIconOffsetVertical:4,fontSize:12,height:24,hover:{backgroundColor:"#393939",borderColor:"#393939",externalIcon:{source:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAMYGlDQ1BJQ0MgUHJvZmlsZQAASImVVwdYU8kWnltSSWiBCEgJvYkiNYCUEFoEAamCqIQkkFBiTAgqdnRRwbWLKFZ0VUTR1RWQtSBid1HsfbGgoqyLBRsqb0ICuvrK9w7f3Plz5sx/CjP3zgCg08aXyXJRXQDypPnyuPBg1piUVBbpEcABBf4NBi58gULGiY2NAlD6+3/K22sAUfWXXVRcP47/V9EXihQCAJA0iDOECkEexI0A4EUCmTwfAGII1FtPzpepsBhiAzkMEOLpKpylxktVOEONt/bZJMRxIa4HgEzj8+VZAGg3Qz2rQJAFebQfQewqFUqkAOgYQBwgEPOFECdAPCQvb6IKz4bYAdrLIN4BMTvjG86sf/BnDPDz+VkDWJ1Xn5BDJApZLn/q/1ma/y15ucp+H3aw0cTyiDhV/rCGN3ImRqowDeJOaUZ0jKrWEL+XCNV1BwClipURiWp71FSg4ML6ASbErkJ+SCTEphCHSXOjozT6jExJGA9iuFrQKZJ8XoJm7gKRIjRew7lOPjEuph9nyrkczdwavrzPr8q+WZmTyNHw3xCLeP38bwrFCckQUwHAqAWSpGiItSE2UOTER6ptMKtCMTe630aujFPFbwMxWyQND1bzY2mZ8rA4jb0sT9GfL1YslvCiNbg8X5wQoa4PtlPA74vfCOJakZST2M8jUoyJ6s9FKAoJVeeOtYikiZp8sXuy/OA4zdwuWW6sxh4ni3LDVXoriE0UBfGaufiIfLg41fx4lCw/NkEdJ56ezR8Zq44HLwBRgAtCAAsoYcsAE0E2kLR01nXCX+qRMMAHcpAFRMBFo+mfkdw3IoXPeFAI/oJIBBQD84L7RkWgAOo/D2jVTxeQ2Tda0DcjBzyGOA9Eglz4W9k3SzrgLQk8ghrJD94FMNZc2FRjP+o4UBOl0Sj7eVk6/ZbEUGIIMYIYRnTETfAA3A+Pgs8g2NxwNu7TH+1Xe8JjQivhAeEqoY1wc4KkSP5dLKNAG+QP02Sc8W3GuB3k9MSDcX/IDplxJm4CXHAP6IeDB0LPnlDL1cStyp31b/IcyOCbmmvsKK4UlDKIEkRx+H6mtpO25wCLqqLf1kcda8ZAVbkDI9/7535TZyHsI7+3xBZg+7FT2DHsDHYIqwMs7ChWj53HDqvwwBp61LeG+r3F9cWTA3kkP/jja3yqKqlwrXbtcP2kGQP5oin5qg3GnSibKpdkifNZHPgVELF4UsHQISw3VzdXAFTfFPVr6jWz71uBMM9+1c21BMB/am9v76GvusiLAOw/DLf5ra86+3b4OjgLwOnVAqW8QK3DVQ8CfBvowB1lDMyBNXCAGbkBL+AHgkAoGAliQAJIAeNhncVwPcvBZDAdzAHFoBQsBavAWrARbAE7wG6wD9SBQ+AYOAnOgYvgKrgN1087eA66wFvQgyAICaEjDMQYsUBsEWfEDWEjAUgoEoXEISlIOpKFSBElMh2Zi5Qiy5G1yGakCvkVOYgcQ84grchN5D7SgbxCPqIYSkMNUDPUDh2GslEOGokmoOPQLHQSWojOQxej5WglugutRY+h59CraBv6HO3GAKaFMTFLzAVjY1wsBkvFMjE5NhMrwcqwSqwGa4D/6ctYG9aJfcCJOANn4S5wDUfgibgAn4TPxBfha/EdeC3ejF/G7+Nd+BcCnWBKcCb4EniEMYQswmRCMaGMsI1wgHAC7qZ2wlsikcgk2hO94W5MIWYTpxEXEdcT9xAbia3Eh8RuEolkTHIm+ZNiSHxSPqmYtIa0i3SUdInUTnpP1iJbkN3IYeRUspRcRC4j7yQfIV8iPyH3UHQpthRfSgxFSJlKWULZSmmgXKC0U3qoelR7qj81gZpNnUMtp9ZQT1DvUF9raWlZaflojdaSaM3WKtfaq3Va677WB5o+zYnGpaXRlLTFtO20RtpN2ms6nW5HD6Kn0vPpi+lV9OP0e/T32gztodo8baH2LO0K7VrtS9ovdCg6tjocnfE6hTplOvt1Luh06lJ07XS5unzdmboVugd1r+t26zH0huvF6OXpLdLbqXdG76k+Sd9OP1RfqD9Pf4v+cf2HDIxhzeAyBIy5jK2ME4x2A6KBvQHPINug1GC3QYtBl6G+oYdhkuEUwwrDw4ZtTIxpx+Qxc5lLmPuY15gfB5kN4gwSDVo4qGbQpUHvjAYbBRmJjEqM9hhdNfpozDIONc4xXmZcZ3zXBDdxMhltMtlkg8kJk87BBoP9BgsGlwzeN/iWKWrqZBpnOs10i+l5024zc7NwM5nZGrPjZp3mTPMg82zzleZHzDssGBYBFhKLlRZHLZ6xDFkcVi6rnNXM6rI0tYywVFputmyx7LGyt0q0KrLaY3XXmmrNts60XmndZN1lY2Ezyma6TbXNLVuKLdtWbLva9pTtOzt7u2S7+XZ1dk/tjex59oX21fZ3HOgOgQ6THCodrjgSHdmOOY7rHS86oU6eTmKnCqcLzqizl7PEeb1z6xDCEJ8h0iGVQ6670Fw4LgUu1S73hzKHRg0tGlo39MUwm2Gpw5YNOzXsi6una67rVtfbw/WHjxxeNLxh+Cs3JzeBW4XbFXe6e5j7LPd695cezh4ijw0eNzwZnqM853s2eX728vaSe9V4dXjbeKd7r/O+zjZgx7IXsU/7EHyCfWb5HPL54Ovlm++7z/dvPxe/HL+dfk9H2I8Qjdg64qG/lT/ff7N/WwArID1gU0BboGUgP7Ay8EGQdZAwaFvQE44jJ5uzi/Mi2DVYHnwg+B3XlzuD2xiChYSHlIS0hOqHJoauDb0XZhWWFVYd1hXuGT4tvDGCEBEZsSziOs+MJ+BV8bpGeo+cMbI5khYZH7k28kGUU5Q8qmEUOmrkqBWj7kTbRkuj62JADC9mRczdWPvYSbG/jyaOjh1dMfpx3PC46XGn4hnxE+J3xr9NCE5YknA70SFRmdiUpJOUllSV9C45JHl5ctuYYWNmjDmXYpIiSalPJaUmpW5L7R4bOnbV2PY0z7TitGvj7MdNGXdmvMn43PGHJ+hM4E/Yn05IT07fmf6JH8Ov5Hdn8DLWZXQJuILVgufCIOFKYYfIX7Rc9CTTP3N55tMs/6wVWR3iQHGZuFPClayVvMyOyN6Y/S4nJmd7Tm9ucu6ePHJeet5Bqb40R9o80XzilImtMmdZsaxtku+kVZO65JHybQpEMU5Rn28AD+/nlQ7Kn5T3CwIKKgreT06avH+K3hTplPNTnaYunPqkMKzwl2n4NMG0pumW0+dMvz+DM2PzTGRmxsymWdaz5s1qnx0+e8cc6pycOX8UuRYtL3ozN3luwzyzebPnPfwp/KfqYu1iefH1+X7zNy7AF0gWtCx0X7hm4ZcSYcnZUtfSstJPiwSLzv48/Ofyn3sXZy5uWeK1ZMNS4lLp0mvLApftWK63vHD5wxWjVtSuZK0sWflm1YRVZ8o8yjaupq5Wrm4rjyqvX2OzZumaT2vFa69WBFfsWWe6buG6d+uF6y9tCNpQs9FsY+nGj5skm25sDt9cW2lXWbaFuKVgy+OtSVtP/cL+pWqbybbSbZ+3S7e37Yjb0VzlXVW103Tnkmq0WlndsStt18XdIbvra1xqNu9h7indC/Yq9z77Nf3Xa/si9zXtZ++v+c32t3UHGAdKapHaqbVddeK6tvqU+taDIw82Nfg1HPh96O/bD1keqjhseHjJEeqReUd6jxYe7W6UNXYeyzr2sGlC0+3jY45faR7d3HIi8sTpk2Enj5/inDp62v/0oTO+Zw6eZZ+tO+d1rva85/kDf3j+caDFq6X2gveF+os+FxtaR7QeuRR46djlkMsnr/CunLsafbX1WuK1G9fTrrfdEN54ejP35stbBbd6bs++Q7hTclf3btk903uVfzr+uafNq+3w/ZD75x/EP7j9UPDw+SPFo0/t8x7TH5c9sXhS9dTt6aGOsI6Lz8Y+a38ue97TWfyX3l/rXji8+O3voL/Pd43pan8pf9n7atFr49fb33i8aeqO7b73Nu9tz7uS98bvd3xgfzj1Mfnjk57Jn0ifyj87fm74EvnlTm9eb6+ML+f3HQUw2NDMTABebQeAngIAA54hqGPVd74+QdT31D4E/hNW3wv7xAuAGtipjuvcRgD2wmY3G3LDXnVUTwgCqLv7QNOIItPdTc1Fgzcewvve3tdmAJAaAPgs7+3tWd/b+xneUbGbADROUt81VUKEd4NNASp01ShuNvhO1PfQb3L8vgeqCDzA9/2/AOk0ijp5+c9oAAAAlmVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAJAAAAABAAAAkAAAAAEAA5KGAAcAAAASAAAAhKACAAQAAAABAAAAIqADAAQAAAABAAAAIgAAAABBU0NJSQAAAFNjcmVlbnNob3Rfk37EAAAACXBIWXMAABYlAAAWJQFJUiTwAAACcWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NzY8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NTY8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KgLUIpAAAAM1JREFUWAntlcEOhCAMRJfNJvz/53LSzJ7I2IhtB+KB3qp0eJ2aWj7JaK0dSYl/+VchotDYIOxiic641lpYbJTf3bVsNHcQaGAJyAhiCYgFYY31x3O1DvGZp/lTiKmOeCCmgXghpoBEIOQgUQgpSAZCBpKFkIAoINIgKogUiBICIJfNioejUEDwBnf/9BQQVqNuR9BJD8OdWZfgWV+DnOvcjvQiLIZ30QiB4DIlBPTCIChWxgZhN7cj2xF2gPPLZuUNyAWz8v2xsrOvceQEe49UYaf3tJcAAAAASUVORK5CYII=",type:"image",actionScale:1,width:8.5},textColor:"#FFFFFF"},idle:{backgroundColor:"#F9F9F9",borderColor:"#D8D8D8",externalIcon:{source:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAMYGlDQ1BJQ0MgUHJvZmlsZQAASImVVwdYU8kWnltSSWiBCEgJvYkiNYCUEFoEAamCqIQkkFBiTAgqdnRRwbWLKFZ0VUTR1RWQtSBid1HsfbGgoqyLBRsqb0ICuvrK9w7f3Plz5sx/CjP3zgCg08aXyXJRXQDypPnyuPBg1piUVBbpEcABBf4NBi58gULGiY2NAlD6+3/K22sAUfWXXVRcP47/V9EXihQCAJA0iDOECkEexI0A4EUCmTwfAGII1FtPzpepsBhiAzkMEOLpKpylxktVOEONt/bZJMRxIa4HgEzj8+VZAGg3Qz2rQJAFebQfQewqFUqkAOgYQBwgEPOFECdAPCQvb6IKz4bYAdrLIN4BMTvjG86sf/BnDPDz+VkDWJ1Xn5BDJApZLn/q/1ma/y15ucp+H3aw0cTyiDhV/rCGN3ImRqowDeJOaUZ0jKrWEL+XCNV1BwClipURiWp71FSg4ML6ASbErkJ+SCTEphCHSXOjozT6jExJGA9iuFrQKZJ8XoJm7gKRIjRew7lOPjEuph9nyrkczdwavrzPr8q+WZmTyNHw3xCLeP38bwrFCckQUwHAqAWSpGiItSE2UOTER6ptMKtCMTe630aujFPFbwMxWyQND1bzY2mZ8rA4jb0sT9GfL1YslvCiNbg8X5wQoa4PtlPA74vfCOJakZST2M8jUoyJ6s9FKAoJVeeOtYikiZp8sXuy/OA4zdwuWW6sxh4ni3LDVXoriE0UBfGaufiIfLg41fx4lCw/NkEdJ56ezR8Zq44HLwBRgAtCAAsoYcsAE0E2kLR01nXCX+qRMMAHcpAFRMBFo+mfkdw3IoXPeFAI/oJIBBQD84L7RkWgAOo/D2jVTxeQ2Tda0DcjBzyGOA9Eglz4W9k3SzrgLQk8ghrJD94FMNZc2FRjP+o4UBOl0Sj7eVk6/ZbEUGIIMYIYRnTETfAA3A+Pgs8g2NxwNu7TH+1Xe8JjQivhAeEqoY1wc4KkSP5dLKNAG+QP02Sc8W3GuB3k9MSDcX/IDplxJm4CXHAP6IeDB0LPnlDL1cStyp31b/IcyOCbmmvsKK4UlDKIEkRx+H6mtpO25wCLqqLf1kcda8ZAVbkDI9/7535TZyHsI7+3xBZg+7FT2DHsDHYIqwMs7ChWj53HDqvwwBp61LeG+r3F9cWTA3kkP/jja3yqKqlwrXbtcP2kGQP5oin5qg3GnSibKpdkifNZHPgVELF4UsHQISw3VzdXAFTfFPVr6jWz71uBMM9+1c21BMB/am9v76GvusiLAOw/DLf5ra86+3b4OjgLwOnVAqW8QK3DVQ8CfBvowB1lDMyBNXCAGbkBL+AHgkAoGAliQAJIAeNhncVwPcvBZDAdzAHFoBQsBavAWrARbAE7wG6wD9SBQ+AYOAnOgYvgKrgN1087eA66wFvQgyAICaEjDMQYsUBsEWfEDWEjAUgoEoXEISlIOpKFSBElMh2Zi5Qiy5G1yGakCvkVOYgcQ84grchN5D7SgbxCPqIYSkMNUDPUDh2GslEOGokmoOPQLHQSWojOQxej5WglugutRY+h59CraBv6HO3GAKaFMTFLzAVjY1wsBkvFMjE5NhMrwcqwSqwGa4D/6ctYG9aJfcCJOANn4S5wDUfgibgAn4TPxBfha/EdeC3ejF/G7+Nd+BcCnWBKcCb4EniEMYQswmRCMaGMsI1wgHAC7qZ2wlsikcgk2hO94W5MIWYTpxEXEdcT9xAbia3Eh8RuEolkTHIm+ZNiSHxSPqmYtIa0i3SUdInUTnpP1iJbkN3IYeRUspRcRC4j7yQfIV8iPyH3UHQpthRfSgxFSJlKWULZSmmgXKC0U3qoelR7qj81gZpNnUMtp9ZQT1DvUF9raWlZaflojdaSaM3WKtfaq3Va677WB5o+zYnGpaXRlLTFtO20RtpN2ms6nW5HD6Kn0vPpi+lV9OP0e/T32gztodo8baH2LO0K7VrtS9ovdCg6tjocnfE6hTplOvt1Luh06lJ07XS5unzdmboVugd1r+t26zH0huvF6OXpLdLbqXdG76k+Sd9OP1RfqD9Pf4v+cf2HDIxhzeAyBIy5jK2ME4x2A6KBvQHPINug1GC3QYtBl6G+oYdhkuEUwwrDw4ZtTIxpx+Qxc5lLmPuY15gfB5kN4gwSDVo4qGbQpUHvjAYbBRmJjEqM9hhdNfpozDIONc4xXmZcZ3zXBDdxMhltMtlkg8kJk87BBoP9BgsGlwzeN/iWKWrqZBpnOs10i+l5024zc7NwM5nZGrPjZp3mTPMg82zzleZHzDssGBYBFhKLlRZHLZ6xDFkcVi6rnNXM6rI0tYywVFputmyx7LGyt0q0KrLaY3XXmmrNts60XmndZN1lY2Ezyma6TbXNLVuKLdtWbLva9pTtOzt7u2S7+XZ1dk/tjex59oX21fZ3HOgOgQ6THCodrjgSHdmOOY7rHS86oU6eTmKnCqcLzqizl7PEeb1z6xDCEJ8h0iGVQ6670Fw4LgUu1S73hzKHRg0tGlo39MUwm2Gpw5YNOzXsi6una67rVtfbw/WHjxxeNLxh+Cs3JzeBW4XbFXe6e5j7LPd695cezh4ijw0eNzwZnqM853s2eX728vaSe9V4dXjbeKd7r/O+zjZgx7IXsU/7EHyCfWb5HPL54Ovlm++7z/dvPxe/HL+dfk9H2I8Qjdg64qG/lT/ff7N/WwArID1gU0BboGUgP7Ay8EGQdZAwaFvQE44jJ5uzi/Mi2DVYHnwg+B3XlzuD2xiChYSHlIS0hOqHJoauDb0XZhWWFVYd1hXuGT4tvDGCEBEZsSziOs+MJ+BV8bpGeo+cMbI5khYZH7k28kGUU5Q8qmEUOmrkqBWj7kTbRkuj62JADC9mRczdWPvYSbG/jyaOjh1dMfpx3PC46XGn4hnxE+J3xr9NCE5YknA70SFRmdiUpJOUllSV9C45JHl5ctuYYWNmjDmXYpIiSalPJaUmpW5L7R4bOnbV2PY0z7TitGvj7MdNGXdmvMn43PGHJ+hM4E/Yn05IT07fmf6JH8Ov5Hdn8DLWZXQJuILVgufCIOFKYYfIX7Rc9CTTP3N55tMs/6wVWR3iQHGZuFPClayVvMyOyN6Y/S4nJmd7Tm9ucu6ePHJeet5Bqb40R9o80XzilImtMmdZsaxtku+kVZO65JHybQpEMU5Rn28AD+/nlQ7Kn5T3CwIKKgreT06avH+K3hTplPNTnaYunPqkMKzwl2n4NMG0pumW0+dMvz+DM2PzTGRmxsymWdaz5s1qnx0+e8cc6pycOX8UuRYtL3ozN3luwzyzebPnPfwp/KfqYu1iefH1+X7zNy7AF0gWtCx0X7hm4ZcSYcnZUtfSstJPiwSLzv48/Ofyn3sXZy5uWeK1ZMNS4lLp0mvLApftWK63vHD5wxWjVtSuZK0sWflm1YRVZ8o8yjaupq5Wrm4rjyqvX2OzZumaT2vFa69WBFfsWWe6buG6d+uF6y9tCNpQs9FsY+nGj5skm25sDt9cW2lXWbaFuKVgy+OtSVtP/cL+pWqbybbSbZ+3S7e37Yjb0VzlXVW103Tnkmq0WlndsStt18XdIbvra1xqNu9h7indC/Yq9z77Nf3Xa/si9zXtZ++v+c32t3UHGAdKapHaqbVddeK6tvqU+taDIw82Nfg1HPh96O/bD1keqjhseHjJEeqReUd6jxYe7W6UNXYeyzr2sGlC0+3jY45faR7d3HIi8sTpk2Enj5/inDp62v/0oTO+Zw6eZZ+tO+d1rva85/kDf3j+caDFq6X2gveF+os+FxtaR7QeuRR46djlkMsnr/CunLsafbX1WuK1G9fTrrfdEN54ejP35stbBbd6bs++Q7hTclf3btk903uVfzr+uafNq+3w/ZD75x/EP7j9UPDw+SPFo0/t8x7TH5c9sXhS9dTt6aGOsI6Lz8Y+a38ue97TWfyX3l/rXji8+O3voL/Pd43pan8pf9n7atFr49fb33i8aeqO7b73Nu9tz7uS98bvd3xgfzj1Mfnjk57Jn0ifyj87fm74EvnlTm9eb6+ML+f3HQUw2NDMTABebQeAngIAA54hqGPVd74+QdT31D4E/hNW3wv7xAuAGtipjuvcRgD2wmY3G3LDXnVUTwgCqLv7QNOIItPdTc1Fgzcewvve3tdmAJAaAPgs7+3tWd/b+xneUbGbADROUt81VUKEd4NNASp01ShuNvhO1PfQb3L8vgeqCDzA9/2/AOk0ijp5+c9oAAAAlmVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAJAAAAABAAAAkAAAAAEAA5KGAAcAAAASAAAAhKACAAQAAAABAAAAIqADAAQAAAABAAAAIgAAAABBU0NJSQAAAFNjcmVlbnNob3Rfk37EAAAACXBIWXMAABYlAAAWJQFJUiTwAAACcWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NTQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NTg8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KBVOGuQAAAM5JREFUWAntlcEOxCAIRNfN/pT/f/Cz2syezJTUAqPpQW60Mj6GhpZPMmqtR1LiX/5ViCg0Ngi7WKIzbq0VFhvld3ctG80dBBpYAjKCWAJiQVhj/fFcrUN85mn+FGKqIx6IaSBeiCkgEQg5SBRCCpKBkIFkISQgCog0iAoiBaKEAMhls+LhKBQQvMHdPz0FhNWo2xF00sNwZ9YleNbXIOc6tyO9CIvhXTRCILhMCQG9MAiKlbFB2M3tyHaEHeD8sll5A3LBrHx/rOzsaxw5AXT3VqECa67cAAAAAElFTkSuQmCC",type:"image",actionScale:1,width:8.5},textColor:"#393939"},marginHorizontal:5.5,marginVertical:4.5,paddingHorizontal:4,paddingVertical:4,small:{height:21,paddingHorizontal:7.7,paddingVertical:6,width:24.7},sourceIconOffsetVertical:2,textMarginHorizontal:2,textOffsetVertical:.5},previewButton:{animation:a,bold:!1,borderThickness:1,cornerRadius:4,externalIconOffsetVertical:0,fontSize:12,height:24,hover:{backgroundColor:"#393939",borderColor:"#393939",externalIcon:{source:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzFfMikiPgo8cGF0aCBkPSJNMCAyQzAgMC44OTU0MzEgMC44OTU0MzEgMCAyIDBINkM2LjU1MjI4IDAgNyAwLjQ0NzcxNSA3IDFDNyAxLjU1MjI4IDYuNTUyMjggMiA2IDJIMlY0QzIgNC41NTIyOSAxLjU1MjI4IDUgMSA1QzAuNDQ3NzE1IDUgMCA0LjU1MjI5IDAgNFYyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEwLjk5OSAxMi42MjQ2QzEyLjQ0MDcgMTIuNjI0NiAxMy42MDk0IDExLjQ0OTQgMTMuNjA5NCA5Ljk5OTc4QzEzLjYwOTQgOC41NTAxNSAxMi40NDA3IDcuMzc1IDEwLjk5OSA3LjM3NUM5LjU1NzM4IDcuMzc1IDguMzg4NjcgOC41NTAxNSA4LjM4ODY3IDkuOTk5NzhDOC4zODg2NyAxMS40NDk0IDkuNTU3MzggMTIuNjI0NiAxMC45OTkgMTIuNjI0NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAuOTk5IDMuNzVDMTQuODQ2NCAzLjc1IDE4LjE4NTUgNS45NjIxNSAxOS41NzUzIDkuMTY2OTRDMTkuODA1NyA5LjY5ODA5IDE5LjgwNTcgMTAuMzAxIDE5LjU3NTMgMTAuODMyMkMxOC4xODU1IDE0LjAzNyAxNC44NDY0IDE2LjI0OTEgMTAuOTk5IDE2LjI0OTFDNy4xNTE3MyAxNi4yNDkxIDMuODEyNiAxNC4wMzcgMi40MjI3NiAxMC44MzIyQzIuMTkyNDEgMTAuMzAxIDIuMTkyNDEgOS42OTgwNyAyLjQyMjc2IDkuMTY2OTJDMy44MTI2MSA1Ljk2MjE1IDcuMTUxNzMgMy43NSAxMC45OTkgMy43NVpNMTUuNSAxMEMxNS41IDEyLjQ4NTMgMTMuNDg1MyAxNC41IDExIDE0LjVDOC41MTQ3MiAxNC41IDYuNSAxMi40ODUzIDYuNSAxMEM2LjUgNy41MTQ3MiA4LjUxNDcyIDUuNSAxMSA1LjVDMTMuNDg1MyA1LjUgMTUuNSA3LjUxNDcyIDE1LjUgMTBaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjAgMjBDMjEuMTA0NiAyMCAyMiAxOS4xMDQ2IDIyIDE4VjE2QzIyIDE1LjQ0NzcgMjEuNTUyMyAxNSAyMSAxNUMyMC40NDc3IDE1IDIwIDE1LjQ0NzcgMjAgMTZWMThIMTZDMTUuNDQ3NyAxOCAxNSAxOC40NDc3IDE1IDE5QzE1IDE5LjU1MjMgMTUuNDQ3NyAyMCAxNiAyMEgyMFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMCAwQzIxLjEwNDYgMCAyMiAwLjg5NTQzMSAyMiAyVjRDMjIgNC41NTIyOSAyMS41NTIzIDUgMjEgNUMyMC40NDc3IDUgMjAgNC41NTIyOSAyMCA0VjJIMTZDMTUuNDQ3NyAyIDE1IDEuNTUyMjggMTUgMUMxNSAwLjQ0NzcxNSAxNS40NDc3IDAgMTYgMEgyMFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0wIDE4QzAgMTkuMTA0NiAwLjg5NTQzMSAyMCAyIDIwSDZDNi41NTIyOCAyMCA3IDE5LjU1MjMgNyAxOUM3IDE4LjQ0NzcgNi41NTIyOCAxOCA2IDE4SDJWMTZDMiAxNS40NDc3IDEuNTUyMjkgMTUgMSAxNUMwLjQ0NzcxNiAxNSAwIDE1LjQ0NzcgMCAxNlYxOFoiIGZpbGw9IndoaXRlIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMV8yIj4KPHJlY3Qgd2lkdGg9IjIyIiBoZWlnaHQ9IjIwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=",type:"image",actionScale:1,width:16},textColor:"#FFFFFF"},idle:{backgroundColor:"#F9F9F9",borderColor:"#D8D8D8",externalIcon:{source:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzFfMikiPgo8cGF0aCBkPSJNMCAyQzAgMC44OTU0MzEgMC44OTU0MzEgMCAyIDBINkM2LjU1MjI4IDAgNyAwLjQ0NzcxNSA3IDFDNyAxLjU1MjI4IDYuNTUyMjggMiA2IDJIMlY0QzIgNC41NTIyOSAxLjU1MjI4IDUgMSA1QzAuNDQ3NzE1IDUgMCA0LjU1MjI5IDAgNFYyWiIgZmlsbD0iIzM5MzkzOSIvPgo8cGF0aCBkPSJNMTAuOTk5IDEyLjYyNDZDMTIuNDQwNyAxMi42MjQ2IDEzLjYwOTQgMTEuNDQ5NCAxMy42MDk0IDkuOTk5NzhDMTMuNjA5NCA4LjU1MDE1IDEyLjQ0MDcgNy4zNzUgMTAuOTk5IDcuMzc1QzkuNTU3MzggNy4zNzUgOC4zODg2NyA4LjU1MDE1IDguMzg4NjcgOS45OTk3OEM4LjM4ODY3IDExLjQ0OTQgOS41NTczOCAxMi42MjQ2IDEwLjk5OSAxMi42MjQ2WiIgZmlsbD0iIzM5MzkzOSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjk5OSAzLjc1QzE0Ljg0NjQgMy43NSAxOC4xODU1IDUuOTYyMTUgMTkuNTc1MyA5LjE2Njk0QzE5LjgwNTcgOS42OTgwOSAxOS44MDU3IDEwLjMwMSAxOS41NzUzIDEwLjgzMjJDMTguMTg1NSAxNC4wMzcgMTQuODQ2NCAxNi4yNDkxIDEwLjk5OSAxNi4yNDkxQzcuMTUxNzMgMTYuMjQ5MSAzLjgxMjYgMTQuMDM3IDIuNDIyNzYgMTAuODMyMkMyLjE5MjQxIDEwLjMwMSAyLjE5MjQxIDkuNjk4MDcgMi40MjI3NiA5LjE2NjkyQzMuODEyNjEgNS45NjIxNSA3LjE1MTczIDMuNzUgMTAuOTk5IDMuNzVaTTE1LjUgMTBDMTUuNSAxMi40ODUzIDEzLjQ4NTMgMTQuNSAxMSAxNC41QzguNTE0NzIgMTQuNSA2LjUgMTIuNDg1MyA2LjUgMTBDNi41IDcuNTE0NzIgOC41MTQ3MiA1LjUgMTEgNS41QzEzLjQ4NTMgNS41IDE1LjUgNy41MTQ3MiAxNS41IDEwWiIgZmlsbD0iIzM5MzkzOSIvPgo8cGF0aCBkPSJNMjAgMjBDMjEuMTA0NiAyMCAyMiAxOS4xMDQ2IDIyIDE4VjE2QzIyIDE1LjQ0NzcgMjEuNTUyMyAxNSAyMSAxNUMyMC40NDc3IDE1IDIwIDE1LjQ0NzcgMjAgMTZWMThIMTZDMTUuNDQ3NyAxOCAxNSAxOC40NDc3IDE1IDE5QzE1IDE5LjU1MjMgMTUuNDQ3NyAyMCAxNiAyMEgyMFoiIGZpbGw9IiMzOTM5MzkiLz4KPHBhdGggZD0iTTIwIDBDMjEuMTA0NiAwIDIyIDAuODk1NDMxIDIyIDJWNEMyMiA0LjU1MjI5IDIxLjU1MjMgNSAyMSA1QzIwLjQ0NzcgNSAyMCA0LjU1MjI5IDIwIDRWMkgxNkMxNS40NDc3IDIgMTUgMS41NTIyOCAxNSAxQzE1IDAuNDQ3NzE1IDE1LjQ0NzcgMCAxNiAwSDIwWiIgZmlsbD0iIzM5MzkzOSIvPgo8cGF0aCBkPSJNMCAxOEMwIDE5LjEwNDYgMC44OTU0MzEgMjAgMiAyMEg2QzYuNTUyMjggMjAgNyAxOS41NTIzIDcgMTlDNyAxOC40NDc3IDYuNTUyMjggMTggNiAxOEgyVjE2QzIgMTUuNDQ3NyAxLjU1MjI5IDE1IDEgMTVDMC40NDc3MTYgMTUgMCAxNS40NDc3IDAgMTZWMThaIiBmaWxsPSIjMzkzOTM5Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMV8yIj4KPHJlY3Qgd2lkdGg9IjIyIiBoZWlnaHQ9IjIwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=",type:"image",actionScale:1,width:16},textColor:"#393939"},marginHorizontal:5.5,marginVertical:4.5,paddingHorizontal:7,paddingVertical:4,small:{height:21,paddingHorizontal:7.7,paddingVertical:6,width:24.7},sourceIconOffsetVertical:2,textMarginHorizontal:2,textOffsetVertical:.5},shape:{hyperlink:i,lineHeightMultiplier:e.CLASSIC_LINE_HEIGHT_MULTIPLIER,padding:{measurementUnit:"pixels",value:8},contentHighlight:{backgroundColor:"#1c7ef933",strokeColor:"#1C7EF9"},strokeOverrides:o,verticalAlign:"middle"},sticky:{circular:{labelPaddingTop:{measurementUnit:"pixels",value:4.5},padding:{measurementUnit:"height-percentage",value:1/7},verticalAlign:"middle"},cornerRadius:0,hyperlink:i,lineHeightMultiplier:e.CLASSIC_LINE_HEIGHT_MULTIPLIER,rectangular:{labelPaddingTop:{measurementUnit:"pixels",value:4.5},padding:{measurementUnit:"pixels",value:8},verticalAlign:"middle"},shadow:{alwaysVisible:!1,blur:4,color:"#00000018",cornerRadius:0,height:4,whileDragging:e.CLASSIC_DRAGGING_SHADOW_ANIMATION},whenTranslucent:{showStrokeBorder:!1,strokeColor:"#00000028",strokeWidth:2}},drawing:{cornerRadius:0,shadow:{alwaysVisible:!1,blur:4,color:"#00000018",cornerRadius:0,height:4,whileDragging:e.CLASSIC_DRAGGING_SHADOW_ANIMATION},whenTranslucent:{showStrokeBorder:!1,strokeColor:"#00000028",strokeWidth:2}},tableCell:{hyperlink:i,lineHeightMultiplier:e.CLASSIC_LINE_HEIGHT_MULTIPLIER},textbox:{hyperlink:i,lineHeightMultiplier:e.CLASSIC_LINE_HEIGHT_MULTIPLIER,padding:{measurementUnit:"font-size-percentage",value:.27},shadow:{alwaysVisible:!1,blur:4,color:"#00000018",cornerRadius:0,height:4,whileDragging:e.CLASSIC_DRAGGING_SHADOW_ANIMATION}},reaction:{maxVisibleReactions:5,maxReactions:12,scalingOnHover:1,hideAtZoomLevel:.3,bottomOffsetY:-8,bottomOffsetX:8,width:48,height:32,cornerRadius:22,borderThickness:1,iconX:6,iconY:3,iconWidth:24,iconHeight:24,iconFontFamily:"proxima-nova",iconFontSize:17,iconSpacingBetweenVariants:12,iconColor:"#000000E6",counterX:28,counterY:7,counterWidth:12,counterHeight:16,counterFontFamily:"proxima-nova-semibold",counterFontFamilyBold:"proxima-nova-bold",counterFontSize:12,counterExtraWidthPerDigit:4,spacingBetweenReactions:2,drawingRelativeToSelection:"above",addButtonVisibleWhenNoReactions:!0,reacted:{default:{backgroundColor:"#F5FAFF",borderColor:"#518FFB",contentColor:"#2F2F2F",bold:!0},hover:{backgroundColor:"#E6F4FE",borderColor:"#518FFB",contentColor:"#2F2F2F",bold:!0}},notReacted:{default:{backgroundColor:"#FAFAFA",borderColor:"#DEDEDE",contentColor:"#2F2F2F"},hover:{backgroundColor:"#EEEEEE",borderColor:"#BBBBBB",contentColor:"#2F2F2F"}},burgerIcon:{width:40,default:{backgroundColor:"#FAFAFA",borderColor:"#DEDEDE",contentColor:"#2F2F2F",bold:!0},hover:{backgroundColor:"#EEEEEE",borderColor:"#BBBBBB",contentColor:"#2F2F2F",bold:!0}},addIcon:{width:40,imageWidth:22,imageHeight:24,imageX:9,imageY:3,default:{backgroundColor:"#FAFAFA",borderColor:"#DEDEDEE6",contentColor:"#2F2F2F",imageBase64:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiMyRjJGMkZFNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBkPSJNMTcuOTA4IDIuNDQzYTEuNSAxLjUgMCAwIDAtMS41LTEuNWgtLjQyOGExLjUgMS41IDAgMCAwLTEuNSAxLjV2Mi45NmEuNS41IDAgMCAxLS41LjVoLTIuOTZhMS41IDEuNSAwIDAgMC0xLjUgMS41di40MjlhMS41IDEuNSAwIDAgMCAxLjUgMS41aDIuOTZhLjUuNSAwIDAgMSAuNS41djIuOTZhMS41IDEuNSAwIDAgMCAxLjUgMS41aC40MjhhMS41IDEuNSAwIDAgMCAxLjUtMS41di0yLjk2YS41LjUgMCAwIDEgLjUtLjVoMi45NmExLjUgMS41IDAgMCAwIDEuNS0xLjV2LS40MjlhMS41IDEuNSAwIDAgMC0xLjUtMS41aC0yLjk2YS41LjUgMCAwIDEtLjUtLjV2LTIuOTZaIi8+CiAgPHBhdGggZD0iTTcuMzIxIDYuMjA1Yy4wNTgtLjIxNS0uMTQyLS40NTItLjM1Mi0uMzgtMi43NzIuOTU2LTUuMzcyIDMuMzMtNS4zNzIgNy45MzQgMCA2LjMzOSA0LjIyNiA4LjQ1MiA4LjQ1MiA4LjQ1MiAzLjQ2MiAwIDYuOTIzLTEuNDE4IDguMDYyLTUuNDE1LjA2MS0uMjE1LS4xOS0uNDA2LS40MDMtLjM0LS40NjQuMTQ0LTEuMDI2LjE5LTEuNjMyLjE5YS4wMjIuMDIyIDAgMCAwLS4wMTIuMDA0LjAyLjAyIDAgMCAwLS4wMDguMDFjLS4zNTUuOTg1LS44ODggMS42NzUtMS40NzcgMi4xNjUtMS4xMTIuOTI4LTIuNzE0IDEuMzg2LTQuNTMgMS4zODYtMS44MTYgMC0zLjQxNy0uNDU4LTQuNTMtMS4zODYtMS4wNDktLjg3NC0xLjkyMi0yLjM3OC0xLjkyMi01LjA2NiAwLTIuNTgyLjk3LTQuMTA3IDIuMTQ1LTUuMDM0YTYuMTcgNi4xNyAwIDAgMSAxLjI3My0uNzY4LjI0OS4yNDkgMCAwIDAgLjE0Ny0uMjI1YzAtLjU2MS4wNC0xLjA4NC4xNi0xLjUyN1oiLz4KICA8cGF0aCBkPSJNMTIuMDUgMTMuNTczYTEuMTggMS4xOCAwIDEgMCAuMDY5LTIuMzU5IDEuMTggMS4xOCAwIDAgMC0uMDY5IDIuMzU5Wm0tMy4yMDItMS4xNzlhMS4xOCAxLjE4IDAgMSAxLTIuMzYgMCAxLjE4IDEuMTggMCAwIDEgMi4zNiAwWk04LjEgMTUuNDc5YTEgMSAwIDEgMC0xLjYxNyAxLjE3N2MuNjQ4Ljg5IDIuMDMgMS42NCAzLjQ5MSAxLjY0IDEuNDYyIDAgMi44NDMtLjc1IDMuNDkxLTEuNjRhMSAxIDAgMSAwLTEuNjE2LTEuMTc3Yy0uMjQ2LjMzOC0xLjAwOC44MTYtMS44NzUuODE2cy0xLjYyOC0uNDc4LTEuODc0LS44MTZaIi8+Cjwvc3ZnPgo="},hover:{backgroundColor:"#EEEEEE",borderColor:"#BBBBBB",contentColor:"#2F2F2F",imageBase64:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiMyRjJGMkZFNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBkPSJNMTcuOTA4IDIuNDQzYTEuNSAxLjUgMCAwIDAtMS41LTEuNWgtLjQyOGExLjUgMS41IDAgMCAwLTEuNSAxLjV2Mi45NmEuNS41IDAgMCAxLS41LjVoLTIuOTZhMS41IDEuNSAwIDAgMC0xLjUgMS41di40MjlhMS41IDEuNSAwIDAgMCAxLjUgMS41aDIuOTZhLjUuNSAwIDAgMSAuNS41djIuOTZhMS41IDEuNSAwIDAgMCAxLjUgMS41aC40MjhhMS41IDEuNSAwIDAgMCAxLjUtMS41di0yLjk2YS41LjUgMCAwIDEgLjUtLjVoMi45NmExLjUgMS41IDAgMCAwIDEuNS0xLjV2LS40MjlhMS41IDEuNSAwIDAgMC0xLjUtMS41aC0yLjk2YS41LjUgMCAwIDEtLjUtLjV2LTIuOTZaIi8+CiAgPHBhdGggZD0iTTcuMzIxIDYuMjA1Yy4wNTgtLjIxNS0uMTQyLS40NTItLjM1Mi0uMzgtMi43NzIuOTU2LTUuMzcyIDMuMzMtNS4zNzIgNy45MzQgMCA2LjMzOSA0LjIyNiA4LjQ1MiA4LjQ1MiA4LjQ1MiAzLjQ2MiAwIDYuOTIzLTEuNDE4IDguMDYyLTUuNDE1LjA2MS0uMjE1LS4xOS0uNDA2LS40MDMtLjM0LS40NjQuMTQ0LTEuMDI2LjE5LTEuNjMyLjE5YS4wMjIuMDIyIDAgMCAwLS4wMTIuMDA0LjAyLjAyIDAgMCAwLS4wMDguMDFjLS4zNTUuOTg1LS44ODggMS42NzUtMS40NzcgMi4xNjUtMS4xMTIuOTI4LTIuNzE0IDEuMzg2LTQuNTMgMS4zODYtMS44MTYgMC0zLjQxNy0uNDU4LTQuNTMtMS4zODYtMS4wNDktLjg3NC0xLjkyMi0yLjM3OC0xLjkyMi01LjA2NiAwLTIuNTgyLjk3LTQuMTA3IDIuMTQ1LTUuMDM0YTYuMTcgNi4xNyAwIDAgMSAxLjI3My0uNzY4LjI0OS4yNDkgMCAwIDAgLjE0Ny0uMjI1YzAtLjU2MS4wNC0xLjA4NC4xNi0xLjUyN1oiLz4KICA8cGF0aCBkPSJNMTIuMDUgMTMuNTczYTEuMTggMS4xOCAwIDEgMCAuMDY5LTIuMzU5IDEuMTggMS4xOCAwIDAgMC0uMDY5IDIuMzU5Wm0tMy4yMDItMS4xNzlhMS4xOCAxLjE4IDAgMSAxLTIuMzYgMCAxLjE4IDEuMTggMCAwIDEgMi4zNiAwWk04LjEgMTUuNDc5YTEgMSAwIDEgMC0xLjYxNyAxLjE3N2MuNjQ4Ljg5IDIuMDMgMS42NCAzLjQ5MSAxLjY0IDEuNDYyIDAgMi44NDMtLjc1IDMuNDkxLTEuNjRhMSAxIDAgMSAwLTEuNjE2LTEuMTc3Yy0uMjQ2LjMzOC0xLjAwOC44MTYtMS44NzUuODE2cy0xLjYyOC0uNDc4LTEuODc0LS44MTZaIi8+Cjwvc3ZnPgo="}},expandAnimation:{duration:.1,totalDelayBetweenAnimations:.1,scaleFrom:.75,alphaFrom:0},fadeOutAnimation:{duration:.333,curveControlPoints:[.17,0,0,1]},fadeInAnimation:{duration:.333,curveControlPoints:[.17,0,0,1]}}},minimap:{border:{lineColor:"rgba(136,136,136,1)",lineWidth:1,cornerRadius:0},muralBackground:{color:"white",padding:0},muralBorder:{lineColor:"rgba(136,136,136,1)",lineWidth:1},outsideMural:{color:"white",lineColor:"rgba(204,204,204,1)",lineSpacing:5,lineWidth:1},widget:{lineWidth:1,lineColor:"black"},viewport:{lineWidth:1,cornerRadius:0}}}},729:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateMuralStyleStructure=e.fillPartialMuralStyleWithDefaults=e.replaceUndefinedPropertiesWithDefaultsRecursively=e.CLASSIC_MURAL_STYLE=e.CLASSIC_LINE_HEIGHT_MULTIPLIER=void 0;const o=i(1123);var a=i(1123);Object.defineProperty(e,"CLASSIC_LINE_HEIGHT_MULTIPLIER",{enumerable:!0,get:function(){return a.CLASSIC_LINE_HEIGHT_MULTIPLIER}}),Object.defineProperty(e,"CLASSIC_MURAL_STYLE",{enumerable:!0,get:function(){return a.CLASSIC_MURAL_STYLE}});e.replaceUndefinedPropertiesWithDefaultsRecursively=(t,i)=>{if(void 0===i)return t;if(Array.isArray(t))return t.map(((t,e)=>{var o;return null!==(o=i[e])&&void 0!==o?o:t}));if("object"==typeof t&&null!==t){const o=Object.assign({},i);for(const a of Object.keys(t))o[a]=(0,e.replaceUndefinedPropertiesWithDefaultsRecursively)(t[a],i[a]);return o}return null!=i?i:t};const n={"MuralStyle.widgets.comment.inner.backgroundColor":["hex"],"MuralStyle.widgets.comment.outer.backgroundColor":["hex","blendFactor"],"MuralStyle.widgets.comment.inner.textColor":["hex","blendFactor"]},validateObjectPropertiesStructureRecursively=(t,e,i)=>{if(void 0===i)return!0;if("object"!=typeof i)return!0;let o=!0;for(const a of Object.keys(i)){const r=n[t],s=r&&r.includes(a);a in e||"NOTE"===a||s||(console.error(`Unexpected style parameter "${a}".\nDid you rename a field in "${t}"?`),o=!1),validateObjectPropertiesStructureRecursively(`${t}.${a}`,e[a],i[a])||(o=!1)}return o};e.fillPartialMuralStyleWithDefaults=t=>(0,e.replaceUndefinedPropertiesWithDefaultsRecursively)(o.CLASSIC_MURAL_STYLE,t);e.validateMuralStyleStructure=t=>validateObjectPropertiesStructureRecursively("MuralStyle",o.CLASSIC_MURAL_STYLE,t)},5597:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isColorTranslucent=e.isTransparent=e.white=e.black=e.transparent=e.hasReactions=e.hasLabels=e.hasChildren=e.isFreehandStroke=e.isSvgStroke=e.isTableCell=e.isTable=e.isEmbedly=e.isFile=e.isComment=e.isInking=e.isDrawing=e.isGroup=e.isGrid=e.isAreaGrid=e.isArea=e.isPhoto=e.isSticker=e.isFramework=e.isShape=e.isArrow=e.isTitle=e.isSticky=e.isText=e.areArrowLabelsEqual=e.isSolidStroke=e.SOLID_STROKE_PATTERN=e.normalizeStrokeStyle=e.dottedSpacedStroke=e.dashedStroke=e.dottedStroke=e.solidStroke=e.doubleTipArrow=e.singleTipArrow=e.noTipArrow=e.cubicBezierArrow=e.orthogonalArrow=e.curvedArrow=e.straightArrow=void 0,e.straightArrow=0,e.curvedArrow=1,e.orthogonalArrow=2,e.cubicBezierArrow=3,e.noTipArrow=0,e.singleTipArrow=1,e.doubleTipArrow=2,e.solidStroke="",e.dottedStroke=".",e.dashedStroke="-",e.dottedSpacedStroke=". ";e.normalizeStrokeStyle=t=>"dotted"===t?".":"solid"===t?"":t,e.SOLID_STROKE_PATTERN=[0,0];e.isSolidStroke=t=>0===t[0]&&0===t[1];e.areArrowLabelsEqual=(t,e)=>t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height&&t.text===e.text;e.isText=t=>"murally.widget.TextWidget"===t.type;e.isSticky=t=>(0,e.isText)(t)&&"realNote"===t.properties.textType;e.isTitle=t=>(0,e.isText)(t)&&("stickyNote"===t.properties.textType||"freeText"===t.properties.textType);e.isArrow=t=>"murally.widget.arrow"===t.type;e.isShape=t=>"murally.widget.ShapeWidget"===t.type;e.isFramework=t=>"murally.widget.StickerWidget"===t.type&&!!t.properties.stickerURL;e.isSticker=t=>"murally.widget.StickerWidget"===t.type&&!!t.properties.name;e.isPhoto=t=>"murally.widget.PhotoWidget"===t.type;e.isArea=t=>"murally.widget.ClusterWidget"===t.type&&!t.properties.group;e.isAreaGrid=t=>"row"===t.properties.layout;e.isGrid=t=>(0,e.isArea)(t)&&(0,e.isAreaGrid)(t);e.isGroup=t=>"murally.widget.ClusterWidget"===t.type&&t.properties.group;e.isDrawing=t=>"murally.widget.DrawWidget"===t.type;e.isInking=t=>"murally.widget.InkingWidget"===t.type;e.isComment=t=>"murally.widget.ThreadWidget"===t.type;e.isFile=t=>"murally.widget.FileWidget"===t.type;e.isEmbedly=t=>"murally.widget.EmbedlyWidget"===t.type;e.isTable=t=>"murally.widget.TableWidget"===t.type;e.isTableCell=t=>"murally.widget.TableCellWidget"===t.type;e.isSvgStroke=t=>void 0===t.version||null===t.version||0===t.version;e.isFreehandStroke=t=>1===t.version;e.hasChildren=t=>(0,e.isFramework)(t)||(0,e.isArea)(t)||(0,e.isGroup)(t)||(0,e.isTableCell)(t)||(0,e.isTable)(t);e.hasLabels=t=>(0,e.isSticky)(t);e.hasReactions=t=>(0,e.isSticky)(t),e.transparent="transparent",e.black="#000000",e.white="#FFFFFF";e.isTransparent=t=>!t||t===e.transparent||!!t.replace(/ /g,"").match(/rgba\(\d+,\d+,\d+,0\)/);e.isColorTranslucent=t=>{const e=t.trim();if("transparent"===e)return!0;if("#"!=e[0]){const t=e.match(/rgba?\s*?\((?:\s*?[0-9.,]+\s*?,\s*?){3}([0-9.,]+)\s*?\)/);return!!t&&parseFloat(t[1])<1}if(5===e.length){const t=e[3];return"f"!==t&&"F"!==t}if(9===e.length){const t=e[7],i=e[8];return"f"!==t&&"F"!==t||"f"!==i&&"F"!==i}return!1}},6507:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasPreviewImage=e.clamp=e.mapWidgetsIds=e.computeSize=e.degSin=e.degCos=void 0;const i=Math.PI/180;e.degCos=t=>t%360==0?1:Math.cos(t*i);e.degSin=t=>t%360==0?0:Math.sin(t*i);e.computeSize=function computeSize(t){let i=1/0,o=0,a=1/0,n=0;return t.map((t=>{const r=(({x:t,y:i,width:o,height:a,rotation:n})=>{const r=((n||0)%360+360)%360;if(!r)return{minX:t,minY:i,maxX:t+o,maxY:i+a};const s=(0,e.degCos)(r),l=(0,e.degSin)(r),c=[{x:o,y:0},{x:o,y:a},{x:0,y:a}].map((({x:t,y:e})=>({x:s*t-l*e,y:l*t+s*e}))),d=c.map((t=>t.x)),h=c.map((t=>t.y));return{minX:t+Math.min(0,...d),minY:i+Math.min(0,...h),maxX:t+Math.max(0,...d),maxY:i+Math.max(0,...h)}})(t);i=Math.min(i,r.minX),a=Math.min(a,r.minY),o=Math.max(o,r.maxX),n=Math.max(n,r.maxY)})),{offsetX:i,offsetY:a,width:Math.max(0,o-i),height:Math.max(0,n-a)}};e.mapWidgetsIds=(t,e)=>t.map((t=>{const i=Object.assign(Object.assign({},t),{id:e(t.id)});if(i.properties.parentId&&(i.properties=Object.assign(Object.assign({},i.properties),{parentId:e(i.properties.parentId)})),"murally.widget.arrow"===i.type)i.properties=Object.assign(Object.assign({},i.properties),{endRefId:i.properties.endRefId?e(i.properties.endRefId):i.properties.endRefId,startRefId:i.properties.startRefId?e(i.properties.startRefId):i.properties.startRefId});return i})),e.clamp=function clamp(t,e,i){const o=Math.min(e,i),a=Math.max(e,i);return t<o?o:t>a?a:t};e.hasPreviewImage=t=>void 0!==t.image},7417:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAreaHeight=e.getAreaChildrenOffsetX=e.getAreaChildrenOffsetY=void 0;const o=i(1792),a=i(5597),n=i(3488),r=i(2584),s=i(220),l=i(6951),c=i(5888),d="proxima-nova",h=23;e.getAreaChildrenOffsetY=(t,{padding:e,titleOffsetY:i,titlePaddingBottom:n,lineHeightMultiplier:r})=>(0,a.isGrid)(t)?t.properties.showTitle?i+(0,o.getFontMetrics)(d,t.properties.titleFontSize||h,r).lineHeight+n:e:0;e.getAreaChildrenOffsetX=(t,{padding:e})=>(0,a.isGrid)(t)?e:0;e.getAreaHeight=(t,e,i,o,{padding:n})=>(0,a.isGrid)(t)&&i?e+o+n:t.height;const drawTitle=(t,e,i,n,r,s,h,u,v,g,f,y)=>[(0,c.drawHint)(t,"title-padding",(0,c.drawRectangle)(y,y,e-2*y,s+n,a.transparent,a.transparent,0,void 0,void 0,h,0)),(0,c.drawHint)(t,"title",(0,c.drawTextBox)({x:r,y:s,width:i,height:n},u,"left","top",1,(0,l.formatHighlightableText)({fontFamily:v?(0,o.makeBold)(d):(0,o.makeSemiBold)(d),color:g},f),void 0,!0))];e.default=function renderArea({id:t,x:e,y:i,height:l,width:u,rotation:v,stackingOrder:g,properties:f},y,{strokeOverrides:x,cornerRadius:m,boldTitle:R,padding:b,titleOffsetX:w,titleOffsetY:S,shadow:A,lineHeightMultiplier:C}){const{background:I,layout:M,showTitle:T,strokeColor:_,strokeStyle:L,strokeWidth:O,title:P,titleFontSize:E=h}=f,N="row"===M,z=(0,o.getFontMetrics)(d,E,C).lineHeight,k=u-2*b,D=P||"Unnamed area",F=P?"#393939":"#B7B7B7",B=_||"#eaeaea",j=O/2,H=!(0,a.isTransparent)(I),W=(0,n.getStrokePattern)(L,O,x),U=(0,c.drawRectangle)(0,0,u,l,I,a.transparent,0,void 0,void 0,m);return(0,c.drawWidget)(t,f.parentId,e,i,u,l,v,g,[(0,s.drawShadow)(`${t}-shadow`,U,y,A),H?U:c.noop,(0,c.drawHint)(t,"border",(0,c.drawRectangle)(j,j,u-2*j,l-2*j,a.transparent,B,O,W,void 0,Math.max(0,m-j))),y&&!N?(0,r.drawDragOver)(`${t}-drag-over`,u,l,(0,a.isTransparent)(B)?2:O):c.noop,(0,c.drawWidgetsContainer)(t,0,0,u,l),...T?drawTitle(t,u,k,z,w,S,m,E,R,F,D,O):[]])}},9028:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderCubicBezierArrow=e.getCubicBezierArrowSegments=void 0;const o=i(4992),a=i(1356);e.getCubicBezierArrowSegments=t=>{if(t.length<4)return null;return[{type:"bezier",from:t[3],to:t[0],c1:t[2],c2:t[1],styleOffset:0,fromToInverted:!0}]};e.renderCubicBezierArrow=(t,i,n)=>{const{points:r}=i.properties,s=(0,e.getCubicBezierArrowSegments)(r);if(null===s)return void console.error(`Error: arrow ${i.id} has cubic bezier type but not enough points`);const l=r[1],c=r[0],d=r[r.length-2],h=r[r.length-1],u=(0,a.getArrowRotation)(l,c),v=(0,a.getArrowRotation)(d,h),g=r[3],f=r[0],y=r[2],x=r[1],m={maxX:Math.max(g.x,f.x,y.x,x.x),maxY:Math.max(g.y,f.y,y.y,x.y),minX:Math.min(g.x,f.x,y.x,x.x),minY:Math.min(g.y,f.y,y.y,x.y)};return(0,o.drawArrowWidget)(t,i,u,v,m,s,n)}},4920:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderCurvedArrow=e.getCurvedArrowSegments=void 0;const o=i(7785),a=i(4992),n=i(9797),r=i(1356),getCurvedPath=(t,e,i)=>{const o=.25*(i.x-t.x),a=.25*(i.y-t.y),n={x:e.x-o,y:e.y-a},s={x:e.x+o,y:e.y+a};return{c1:n,c2:s,startAngle:(0,r.getArrowRotation)(n,t),endAngle:(0,r.getArrowRotation)(s,i)}},clamp=(t,e,i)=>Math.min(Math.max(t,e),i),quadBbox=(t,e,i)=>{const o=Math.min(t.x,i.x),a=Math.min(t.y,i.y),n=Math.max(t.x,i.x),r=Math.max(t.y,i.y);if(o<=e.x&&e.x<=n&&a<=e.y&&e.y<=r)return{minX:o,minY:a,maxX:n,maxY:r};const s=t.x-2*e.x+i.x,l=t.y-2*e.y+i.y,c=0!==s?clamp((t.x-e.x)/s,0,1):0,d=0!==l?clamp((t.y-e.y)/l,0,1):0,h=1-c,u=1-d,v=h*h*t.x+2*h*c*e.x+c*c*i.x,g=u*u*t.y+2*u*d*e.y+d*d*i.y;return{minX:Math.min(o,v),minY:Math.min(a,g),maxX:Math.max(n,v),maxY:Math.max(r,g)}};e.getCurvedArrowSegments=t=>{if(t.length<3)return null;const[e,i,o]=t,{c1:a,c2:n}=getCurvedPath(e,i,o);return[{type:"curved-arrow",from:e,to:o,middle:i,c1:a,c2:n,styleOffset:0}]};e.renderCurvedArrow=(t,i,r)=>{const{points:s}=i.properties;if(2===s.length)return(0,n.renderStraightArrow)(t,i,r);const l=(0,e.getCurvedArrowSegments)(s);if(null===l)return void console.error(`Error: arrow ${i.id} has curved type but not enough points`);const[c,d,h]=s,{c1:u,c2:v,startAngle:g,endAngle:f}=getCurvedPath(c,d,h),y=(0,o.maxBoundingBox)(quadBbox(c,u,d),quadBbox(d,v,h));return(0,a.drawArrowWidget)(t,i,g,f,y,l,r)}},4992:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawArrowWidget=void 0;const o=i(3912),a=i(5597),n=i(3488),r=i(7785),s=i(6951),l=i(5888),c=i(2155),d=i(7106),h=i(6243),u=i(5667),v=i(3821),drawLabels=(t,e,i)=>e.map(((e,o)=>((t,e,i,o)=>{const a=(0,l.drawTextBox)({x:5,y:0,width:i.width-10,height:i.height},o.fontSize,o.textAlign,"top",0,(0,s.formatHighlightableText)({fontFamily:o.fontFamily,color:o.color,bold:o.bold,italic:o.italic},i.text));return(0,l.drawGroup)(t,i.x,i.y,i.width,i.height,0,[a],void 0,void 0,e,void 0,void 0,void 0,!0)})(`${t}-label-${o}`,`label-${o}`,e,i))),offsetAndPadHoles=(t,e,i,o)=>t.map((t=>({minX:t.x+e-o,minY:t.y+i-o,maxX:t.x+e+t.width+o,maxY:t.y+i+t.height+o}))),applyArrowLabels=(t,e,i,o,a,n,r,s)=>{const l=t.getHoles(e);if(!(r&&s||l&&0!==l.length))return{cutArrow:n,labelsPrimitives:[]};const d=i/2,h=[];let u=[];if(r&&s){const t=offsetAndPadHoles(r,o,a,d);h.push(...t);const i=r.map((t=>Object.assign(Object.assign({},t),{x:t.x+o,y:t.y+a})));u=drawLabels(e,i,s)}if(l&&l.length>0){const t=offsetAndPadHoles(l,o,a,d);h.push(...t)}const v=((t,e)=>({shaftSegments:(0,c.cutHoles)(t.shaftSegments,e),hitSegments:t.hitSegments,tips:t.tips.map(((i,o)=>(0,c.cutHolesInFilled)(i,t.tipsBBoxes[o],e))),tipsBBoxes:t.tipsBBoxes}))(n,h);return{cutArrow:v,labelsPrimitives:u}};e.drawArrowWidget=(t,e,i,s,g,f,y,x)=>{var m,R;const{id:b,x:w,y:S,properties:A}=e,{points:C,strokeColor:I,strokeWidth:M,tip:T,strokeStyle:_}=A,[L]=C,O=C[C.length-1],P=M/2,E=(0,u.renderArrowTips)(T,M,L,i,e.properties.startTipType,O,s,e.properties.endTipType,y.tip),N=E.map((t=>(0,h.getSegmentsBbox)(t,!0))),z=N.reduce(r.maxBoundingBox,(0,r.padBox)(g,P)),k=-z.minX,D=-z.minY,F=((t,e)=>{var i,o;if(0===t.length)return t;const n=e.properties.tip;if(n===a.noTipArrow||!e.properties.endTipType&&!e.properties.startTipType)return t;let r=0,s=0;return n!==a.singleTipArrow&&n!==a.doubleTipArrow||!e.properties.startTipType||(r=(null!==(i=v.NEW_TIPS_SHAPES_LENGTH[e.properties.startTipType])&&void 0!==i?i:0)*e.properties.strokeWidth),n===a.doubleTipArrow&&e.properties.endTipType&&(s=(null!==(o=v.NEW_TIPS_SHAPES_LENGTH[e.properties.endTipType])&&void 0!==o?o:0)*e.properties.strokeWidth),(0,c.cutTipsInSegmentSequence)(t,r,s)})(f,e),B=((t,e,i,o)=>({shaftSegments:t,hitSegments:e,tips:i,tipsBBoxes:o}))(F,x,E,N),j=((t,e,i)=>({shaftSegments:t.shaftSegments.map((t=>(0,h.offsetSegment)(t,e,i))),hitSegments:void 0!==t.hitSegments?t.hitSegments.map((t=>(0,h.offsetSegment)(t,e,i))):void 0,tips:t.tips.map((t=>t.map((t=>(0,h.offsetSegment)(t,e,i))))),tipsBBoxes:t.tipsBBoxes.map((t=>(0,r.offsetBox)(t,e,i)))}))(B,k,D),{cutArrow:H,labelsPrimitives:W}=applyArrowLabels(t,b,M,k,D,j,null===(m=A.label)||void 0===m?void 0:m.labels,null===(R=A.label)||void 0===R?void 0:R.format),U=(0,d.renderNonSvgSegmentsToPath)(j.shaftSegments),G=(0,h.groupSegmentsByContinuity)(H.shaftSegments),V=G.map((t=>({path:(0,d.renderNonSvgSegmentsToPath)(t),styleOffset:t[0].styleOffset}))),Y=(0,n.getStrokePattern)(_,M,y.strokeOverrides),Z=((t,e,i,o,n,r)=>{const s=void 0===i?2:4,c=`${t}-hit`,h=(i||[]).map(((t,e)=>(0,l.drawHint)(c,`segment-${e}`,(0,l.drawLine)(t.from.x,t.from.y,t.to.x,t.to.y,"transparent",n,a.SOLID_STROKE_PATTERN,2))));return[...e.map((t=>{if(1===t.length&&"line"===t[0].type){const e=t[0];return(0,l.drawLine)(e.from.x,e.from.y,e.to.x,e.to.y,o,n,r,s,e.styleOffset)}return(0,l.drawPath)((0,d.renderNonSvgSegmentsToPath)(t),o,n,void 0,void 0,r,"butt","round",s,void 0,t[0].styleOffset)})),...h]})(b,G,H.hitSegments,I,M,Y),X=w-k,Q=S-D,q=z.maxX-z.minX,J=z.maxY-z.minY,K=H.tips.map((t=>(0,d.renderNonSvgSegmentsToPath)(t))),$=(0,d.getSvgSegments)(H.tips),tt=((t,e,i,n,r,s)=>[...e.map((t=>(0,l.drawPath)(t,"transparent",0,r,void 0,void 0,"butt",void 0,4))),...i.flatMap((t=>t.paths.map((t=>{var e,i;return(0,l.drawPath)(o.SimplifiedSvgPath.toPath(t.path),t.stroke?null!==(e=t.stroke.color)&&void 0!==e?e:r:"",t.stroke?s*t.stroke.widthMultiplier:0,t.fill?null!==(i=t.fill.color)&&void 0!==i?i:r:"",void 0,void 0,t.stroke?t.stroke.lineCap:"butt",t.stroke?t.stroke.lineJoin:"miter",4)})))),...n.map(((e,i)=>(0,l.drawGroup)(`${t}-tip-${i}`,e.minX,e.minY,e.maxX-e.minX,e.maxY-e.minY,0,[(0,l.drawRectangle)(0,0,e.maxX-e.minX,e.maxY-e.minY,"transparent","transparent",0,a.SOLID_STROKE_PATTERN,void 0,void 0,0)],void 0,void 0,0===i?"tip-start":"tip-end")))])(b,K,$,H.tipsBBoxes,I,M),et=[...Z,...tt,...W],it=((t,e,i,n,r,s)=>{const l=[...t.map((t=>({path:t.path,stroke:{width:n,color:r,pattern:s,lineDashOffset:t.styleOffset,lineCap:"butt",lineJoin:"miter"}}))),...e.map((t=>({path:t,fill:{color:r,rule:"nonzero"}}))),...i.flatMap((t=>t.paths.map((t=>{var e,i;return{path:o.SimplifiedSvgPath.toPath(t.path),stroke:t.stroke?{width:n*t.stroke.widthMultiplier,color:null!==(e=t.stroke.color)&&void 0!==e?e:r,pattern:a.SOLID_STROKE_PATTERN,lineDashOffset:0,lineCap:t.stroke.lineCap,lineJoin:t.stroke.lineJoin}:void 0,fill:t.fill?{color:null!==(i=t.fill.color)&&void 0!==i?i:r,rule:t.fill.rule}:void 0}}))))];return l.length>0?l:void 0})(V,K,$,M,I,Y);return(0,l.drawWidget)(b,A.parentId,X,Q,q,J,0,e.stackingOrder,et,void 0,U,it)}},1751:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cutHolesInArc=void 0;const o=i(1356),a=i(9768),n=i(5507);e.cutHolesInArc=(t,e)=>{let i=!1;const r=Math.min(t.from.x,t.to.x),s=Math.min(t.from.y,t.to.y),l=Math.max(t.from.x,t.to.x),c=Math.max(t.from.y,t.to.y);for(let t=0;t<e.length;t++){const o=e[t];if(o.maxX>r&&o.maxY>s&&o.minX<l&&o.minY<c){i=!0;break}}if(!i)return a.NO_CLIP;const d=Math.min(Math.max(Math.ceil(t.radius/2),4),10),h=(0,o.generateEvalArc)(t.from.x,t.from.y,t.to.x,t.to.y,t.radius,!!t.sweepFlag),u=(0,n.cutHolesInInterpolated)(d,h,e);if(null===u)return a.NO_CLIP;if(0===u.length)return a.ALL_CLIPPED;const arcLenFromInterval=(e,i)=>Math.abs(e-i)*(Math.PI/2)*t.radius;let v=0,g=0;const f=u.map((e=>{e.fromT>g&&(v+=arcLenFromInterval(e.fromT,g));const i=(0,o.pointBuild)(0,0),a=(0,o.pointBuild)(0,0);h(e.fromT,i),h(e.toT,a);const n={type:"arc-quarter-circle",from:i,to:a,radius:t.radius,sweepFlag:t.sweepFlag,styleOffset:t.styleOffset+v};return v+=arcLenFromInterval(e.fromT,e.toT),g=e.toT,n}));return(0,a.CLIP)(f)}},7947:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.cutTipsInBezier=e.cutHolesInBezier=void 0;const a=o(i(5874)),n=i(9314),r=i(1356),s=i(9768),l=i(5507);e.cutHolesInBezier=(t,e)=>{if(0===e.length)return s.NO_CLIP;const i=new a.default(t.from,t.c1,t.c2,t.to),o=i.length(),n=Math.min(Math.max(Math.ceil(o/16),10),100),c=(0,r.generateEvalBezier)(t.from.x,t.from.y,t.c1.x,t.c1.y,t.c2.x,t.c2.y,t.to.x,t.to.y),d=(0,l.cutHolesInInterpolated)(n,c,e);if(null===d)return s.NO_CLIP;if(0===d.length)return s.ALL_CLIPPED;let h=0,u=0;const v=d.map((e=>{e.fromT>u&&(h+=((t,e)=>i.split(t,e).length())(u,e.fromT));const o=i.split(e.fromT,e.toT),a={type:"bezier",from:o.points[0],c1:o.points[1],c2:o.points[2],to:o.points[3],styleOffset:t.styleOffset+h};return h+=o.length(),u=e.toT,a}));return(0,s.CLIP)(v)};e.cutTipsInBezier=(t,e,i)=>{if(0===e&&0===i)return s.NO_CLIP;if(t.fromToInverted){const t=e;e=i,i=t}const o=new a.default(t.from,t.c1,t.c2,t.to),l=o.length();if(l<e+i)return s.ALL_CLIPPED;const c=Math.min(Math.max(Math.ceil(l/16),10),100),d=(0,r.generateEvalBezier)(t.from.x,t.from.y,t.c1.x,t.c1.y,t.c2.x,t.c2.y,t.to.x,t.to.y),findTatLen=t=>{const e={x:0,y:0},i={x:0,y:0};let o=0;d(0,e);for(let a=1;a<=c;a++){d(a/c,i);const r=n.Point.distance(e,i);if(t<o+r)return(a-1)/c+(t-o)/r/c;o+=r,e.x=i.x,e.y=i.y}return 1},h=0===e?0:findTatLen(e),u=0===i?1:findTatLen(l-i),v=o.split(h,u),g={type:"bezier",from:v.points[0],c1:v.points[1],c2:v.points[2],to:v.points[3],styleOffset:t.styleOffset+e};return(0,s.CLIP)([g])}},9600:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.cutTipsInCurvedArrow=e.cutHolesInCurvedArrow=void 0;const a=o(i(5874)),n=i(1356),r=i(7947),s=i(9768);e.cutHolesInCurvedArrow=(t,e)=>{if(0===e.length)return s.NO_CLIP;const i=(0,n.getCurvedArrowBeziers)(t),o={type:"bezier",from:i.moveTo,c1:i.cubicBezier1[0],c2:i.cubicBezier1[1],to:i.cubicBezier1[2],styleOffset:0},l=[o,{type:"bezier",from:i.cubicBezier1[2],c1:i.cubicBezier2[0],c2:i.cubicBezier2[1],to:i.cubicBezier2[2],styleOffset:0}],c=[];let d=!1;for(let t=0;t<l.length;t++){const i=l[t],o=(0,r.cutHolesInBezier)(i,e);switch(o.type){case"no-clip":c.push([i]);break;case"all-clipped":d=!0,c.push([]);break;case"clip":d=!0,c.push(o.segments)}}if(!d)return s.NO_CLIP;if(c[0].length+c[1].length===0)return s.ALL_CLIPPED;const h=c[0];if(c[1].length>0){const t=new a.default(o.from,o.c1,o.c2,o.to).length();c[1].forEach((e=>e.styleOffset+=t)),h.push(...c[1])}return(0,s.CLIP)(h)};e.cutTipsInCurvedArrow=(t,e,i)=>{if(0===e&&0===i)return s.NO_CLIP;const o=(0,n.getCurvedArrowBeziers)(t),l={type:"bezier",from:o.moveTo,c1:o.cubicBezier1[0],c2:o.cubicBezier1[1],to:o.cubicBezier1[2],styleOffset:0},c=[l,{type:"bezier",from:o.cubicBezier1[2],c1:o.cubicBezier2[0],c2:o.cubicBezier2[1],to:o.cubicBezier2[2],styleOffset:0}],d=[];let h=!1;for(let t=0;t<c.length;t++){const o=c[t],a=(0,r.cutTipsInBezier)(o,0===t?e:0,1===t?i:0);switch(a.type){case"no-clip":d.push([o]);break;case"all-clipped":h=!0,d.push([]);break;case"clip":h=!0,d.push(a.segments)}}if(!h)return s.NO_CLIP;if(d[0].length+d[1].length===0)return s.ALL_CLIPPED;const u=d[0];if(d[1].length>0){const t=new a.default(l.from,l.c1,l.c2,l.to).length();d[1].forEach((e=>e.styleOffset+=t)),u.push(...d[1])}return(0,s.CLIP)(u)}},9768:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLIP=e.ALL_CLIPPED=e.NO_CLIP=void 0,e.NO_CLIP={type:"no-clip"},e.ALL_CLIPPED={type:"all-clipped"};e.CLIP=t=>({type:"clip",segments:t})},5507:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cutHolesInInterpolated=void 0;const o=i(1356),a=i(3335);e.cutHolesInInterpolated=(t,e,i)=>{if(0===i.length)return null;const n=[],r=1/t,s={type:"line",from:(0,o.pointBuild)(0,0),to:(0,o.pointBuild)(0,0),styleOffset:0};let l=null,c=0,d=!1;const endInterval=()=>{l=null},newInterval=(t,e)=>{l={fromT:t,toT:e},n.push(l)},addToInterval=t=>{null===l?newInterval(c,t):l.toT=t},normalizedDistanceToLineFrom=t=>{const e=(0,o.pointDist)(s.from,s.to);return c+(e>0?r*(0,o.pointDist)(s.from,t)/e:0)};e(0,s.from);for(let n=1;n<=t;n++){const r=n/t;e(r,s.to);const l=(0,a.cutHolesInLine)(s,i);switch(l.type){case"all-clipped":endInterval(),d=!0;break;case"no-clip":addToInterval(r);break;case"clip":{d=!0;const t=l.segments;for(let e=0;e<t.length;e++){const i=t[e];(0,o.pointEqual)(i.from,s.from)?addToInterval(normalizedDistanceToLineFrom(i.to)):newInterval(normalizedDistanceToLineFrom(i.from),normalizedDistanceToLineFrom(i.to))}0!==t.length&&(0,o.pointEqual)(t[t.length-1].to,s.to)||endInterval();break}}s.from.x=s.to.x,s.from.y=s.to.y,c=r}return d?n:null}},3335:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cutTipsInLine=e.cutHolesInLine=void 0;const o=i(9314),a=i(1356),n=i(9768),computeOutCode=(t,e)=>{let i=0;return t.x<e.minX?i|=1:t.x>e.maxX&&(i|=2),t.y<e.minY?i|=4:t.y>e.maxY&&(i|=8),i};e.cutHolesInLine=(t,e)=>{if(0===e.length)return n.NO_CLIP;const i=t.styleOffset,o=t.from,r=t.to;let s=!0;for(let t=0;t<e.length&&s;t++){const i=e[t],a=computeOutCode(o,i),l=computeOutCode(r,i);if(!(a|l))return n.ALL_CLIPPED;a&l||(s=!1)}if(s)return n.NO_CLIP;const l=[];l.push({type:"line",from:(0,a.pointClone)(t.from),to:(0,a.pointClone)(t.to),styleOffset:t.styleOffset});const c=(0,a.pointBuild)(0,0);for(let t=0;t<e.length;t++){const n=e[t];let r=l.length;for(let t=0;t<r;t++){const e=l[t];let s=computeOutCode(e.from,n),d=computeOutCode(e.to,n),h=!0;for(;h;)if(s|d)if(s&d)h=!1;else{c.x=0,c.y=0;const t=d>s?d:s;8&t?(c.x=e.from.x+(e.to.x-e.from.x)*(n.maxY-e.from.y)/(e.to.y-e.from.y),c.y=n.maxY):4&t?(c.x=e.from.x+(e.to.x-e.from.x)*(n.minY-e.from.y)/(e.to.y-e.from.y),c.y=n.minY):2&t?(c.y=e.from.y+(e.to.y-e.from.y)*(n.maxX-e.from.x)/(e.to.x-e.from.x),c.x=n.maxX):1&t&&(c.y=e.from.y+(e.to.y-e.from.y)*(n.minX-e.from.x)/(e.to.x-e.from.x),c.x=n.minX),t===s?(l.push({type:"line",from:(0,a.pointClone)(e.from),to:(0,a.pointClone)(c),styleOffset:i+(0,a.pointDist)(e.from,o)}),e.from.x=c.x,e.from.y=c.y,s=computeOutCode(e.from,n)):(l.push({type:"line",from:(0,a.pointClone)(c),to:(0,a.pointClone)(e.to),styleOffset:i+(0,a.pointDist)(c,o)}),e.to.x=c.x,e.to.y=c.y,d=computeOutCode(e.to,n))}else l.splice(t,1),t--,r--,h=!1}}if(0===l.length)return n.ALL_CLIPPED;l.sort(((t,e)=>{const i=(0,a.pointDist2)(t.from,o),n=(0,a.pointDist2)(e.from,o);return i>n?1:i<n?-1:0}));for(let t=0;t<l.length-1;t++){const e=l[t],i=l[t+1];(0,a.pointEqual)(e.to,i.from)&&(e.to.x=i.to.x,e.to.y=i.to.y,l.splice(t+1,1),t--)}return 1===l.length&&(0,a.pointEqual)(l[0].from,o)&&(0,a.pointEqual)(l[0].to,r)?(l.length=0,n.NO_CLIP):(0,n.CLIP)(l)};e.cutTipsInLine=(t,e,i)=>{if(0===e&&0===i)return n.NO_CLIP;if(o.Point.equal(t.from,t.to))return n.ALL_CLIPPED;const a=o.Point.sub(t.to,t.from),r=o.Point.length(a),s=o.Point.scl(a,1/r);return r<e+i?n.ALL_CLIPPED:(0,n.CLIP)([{type:"line",from:o.Point.add(t.from,o.Point.scl(s,e)),to:o.Point.sub(t.to,o.Point.scl(s,i)),styleOffset:t.styleOffset+e}])}},2155:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cutTipsInSegmentSequence=e.cutHolesInFilled=e.cutHoles=e.cutHolesInSegmentSequence=void 0;const o=i(9314),a=i(7785),n=i(6243),r=i(1751),s=i(7947),l=i(9600),c=i(9768),d=i(3335);e.cutHolesInSegmentSequence=(t,e)=>{if(0===e.length)return c.NO_CLIP;const i=t.reduce(((t,i)=>{const o=((t,e)=>{switch(t.type){case"line":return(0,d.cutHolesInLine)(t,e);case"bezier":return(0,s.cutHolesInBezier)(t,e);case"curved-arrow":return(0,l.cutHolesInCurvedArrow)(t,e);case"arc-quarter-circle":return(0,r.cutHolesInArc)(t,e);case"svg":return{type:"no-clip"}}})(i,e);return((t,e,i)=>{switch(e.type){case"no-clip":return[...i,t];case"all-clipped":return i;case"clip":return[...i,...e.segments]}})(i,o,t)}),[]);return 0===i.length?c.ALL_CLIPPED:((t,e)=>{if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(t,i)?c.NO_CLIP:(0,c.CLIP)(i)};e.cutHoles=(t,i)=>{const o=(0,e.cutHolesInSegmentSequence)(t,i);switch(o.type){case"all-clipped":return[];case"no-clip":return t;case"clip":return o.segments}};e.cutHolesInFilled=(t,i,o)=>{if(0===o.length)return t;let r;for(const s of o){if(!(0,a.boundingBoxOverlaps)(s,i))continue;const o=(0,e.cutHolesInSegmentSequence)(void 0!==r?r:t,[s]);switch(o.type){case"all-clipped":return[];case"no-clip":break;case"clip":r=o.segments,(0,n.rejoinSegments)(r)}}return void 0!==r?r:t};const cutSegmentTip=(t,e,i)=>{if(0===e&&0===i)return[t];if(o.Point.equal(t.from,t.to))return[t];let a=null;switch(t.type){case"line":a=(0,d.cutTipsInLine)(t,e,i);break;case"bezier":a=(0,s.cutTipsInBezier)(t,e,i);break;case"curved-arrow":a=(0,l.cutTipsInCurvedArrow)(t,e,i);break;case"arc-quarter-circle":a=(0,r.cutHolesInArc)(t,(()=>{const o=t.from,a=t.to,n=[];return e>0&&n.push({minX:o.x-e,minY:o.y-e,maxX:o.x+e,maxY:o.y+e}),i>0&&n.push({minX:a.x-i,minY:a.y-i,maxX:a.x+i,maxY:a.y+i}),n})())}if(null===a)return[t];switch(a.type){case"no-clip":return[t];case"all-clipped":return[];case"clip":return a.segments}};e.cutTipsInSegmentSequence=(t,e,i)=>{if(0===e&&0===i)return t;let o;if(1===t.length)o=cutSegmentTip(t[0],e,i);else{if(o=[...t],0!==e){o=[...cutSegmentTip(o[0],e,0),...o.slice(1)]}if(0!==i&&o.length>0){const t=cutSegmentTip(o[o.length-1],0,i);o=[...o.slice(0,o.length-1),...t]}}return o}},1749:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getArrowSegments=void 0;const o=i(5597),a=i(9028),n=i(4920),r=i(51),s=i(9797);e.default=function renderArrow(t,e,i){switch(e.properties.arrowType){case o.straightArrow:return(0,s.renderStraightArrow)(t,e,i);case o.curvedArrow:return(0,n.renderCurvedArrow)(t,e,i);case o.orthogonalArrow:return(0,r.renderOrthogonalArrow)(t,e,i);case o.cubicBezierArrow:return(0,a.renderCubicBezierArrow)(t,e,i);default:return}},e.getArrowSegments=function getArrowSegments(t){switch(t.properties.arrowType){case o.straightArrow:return(0,s.getStraightArrowSegments)(t.properties.points);case o.curvedArrow:return(0,n.getCurvedArrowSegments)(t.properties.points);case o.orthogonalArrow:return(0,r.getOrthogonalArrowSegments)(t.properties.points);case o.cubicBezierArrow:return(0,a.getCubicBezierArrowSegments)(t.properties.points)}return null}},51:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderOrthogonalArrow=e.getOrthogonalArrowSegments=void 0;const o=i(4992),a=i(1356);e.getOrthogonalArrowSegments=t=>{if(t.length<2)return null;const e=[];let i=t[0].x,o=t[0].y,n=0;const addLine=(t,r)=>{e.push({type:"line",from:(0,a.pointBuild)(i,o),to:(0,a.pointBuild)(t,r),styleOffset:n}),n+=(0,a.pointLen)(t-i,r-o),i=t,o=r},addCorner=(t,r,s,l)=>{e.push({type:"arc-quarter-circle",from:(0,a.pointBuild)(i,o),to:(0,a.pointBuild)(s,l),radius:t,sweepFlag:r,styleOffset:n}),n+=t*Math.PI/2,i=s,o=l};for(let e=1;e<t.length;e++){const i=t[e-1],o=t[e],a=e+1<t.length,n=1===e,r=e+1===t.length-1;if(!a){addLine(o.x,o.y);continue}const s=t[e+1],l=o.x-i.x,c=o.y-i.y,d=Math.abs(l)-Math.abs(c),h=d>0?Math.sign(l):0,u=d<0?Math.sign(c):0,v=d>0?Math.abs(l):Math.abs(c),g=s.x-o.x,f=s.y-o.y,y=Math.abs(g)-Math.abs(f),x=y>0?Math.sign(g):0,m=y<0?Math.sign(f):0,R=y>0?Math.abs(g):Math.abs(f);if(0===h&&0===u||0===x&&0===m)continue;const b=n?v:v/2,w=r?R:R/2,S=Math.min(6,b,w),A=o.x-h*S,C=o.y-u*S,I=o.x+x*S,M=o.y+m*S;addLine(A,C);addCorner(S,u-x+(h+m)===0?0:1,I,M)}return e};e.renderOrthogonalArrow=(t,i,n)=>{const{points:r}=i.properties,s=(0,e.getOrthogonalArrowSegments)(r);if(null===s)return void console.error(`Error: arrow ${i.id} has orthogonal type but not enough points`);const l=r[1],c=r[0],d=r[r.length-2],h=r[r.length-1],u=(0,a.getArrowRotation)(l,c),v=(0,a.getArrowRotation)(d,h),g=r.map((t=>t.x)),f=r.map((t=>t.y)),y={maxX:Math.max(...g),maxY:Math.max(...f),minX:Math.min(...g),minY:Math.min(...f)},x=[];for(let t=1;t<r.length;t++){const e=r[t-1],i=r[t];x.push({type:"line",from:e,to:i,styleOffset:0})}return(0,o.drawArrowWidget)(t,i,u,v,y,s,n,x)}},1417:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseSVGPathIntoSegments=void 0;const o=i(1356);e.parseSVGPathIntoSegments=(t,e,i)=>{const a=t.split(/([A-Z]|[ ]+)/).map((t=>t.trim())).filter((t=>!!t)),n=[];for(let t=0;t<a.length;t++){const e=a[t];/[A-Z]/.test(e)?n.push({instruction:e,args:[]}):n[n.length-1].args.push(parseFloat(e))}const point=(t,a)=>(0,o.pointBuild)(t+e,a+i),r=[];let s=0,l=0;for(const t of n){const e=t.args,expectArgCount=i=>e.length==i||(console.error(`Bad argument length for SVG path instruction ${t.instruction}, actual ${e.length} expected ${i}`),!1);switch(t.instruction){case"M":if(!expectArgCount(2))break;s=e[0],l=e[1];break;case"L":{if(!expectArgCount(2))break;const t=e[0],i=e[1];r.push({type:"line",from:point(s,l),to:point(t,i),styleOffset:0}),s=t,l=i;break}case"C":{if(!expectArgCount(6))break;const t=e[0],i=e[1],o=e[2],a=e[3],n=e[4],c=e[5];r.push({type:"bezier",from:point(s,l),c1:point(t,i),c2:point(o,a),to:point(n,c),styleOffset:0}),s=n,l=c;break}case"Z":if(!expectArgCount(0))break;break;default:console.error(`Skipping unsupported SVG path instruction ${t.instruction}`)}}return r}},7106:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSvgSegments=e.renderNonSvgSegmentsToPath=void 0;const o=i(1356),p=({x:t,y:e})=>`${t},${e}`,pa=t=>t.map((t=>p(t))).join(" "),renderMoveToPath=t=>`M ${p(t.from)}`;e.renderNonSvgSegmentsToPath=t=>{let e="";for(let i=0;i<t.length;i++){const a=t[i];switch(i>0&&(0,o.pointEqual)(t[i-1].to,a.from)||(e.length>0&&(e+=" "),e+=renderMoveToPath(a)),a.type){case"line":e+=` L${p(a.to)}`;break;case"arc-quarter-circle":e+=` A${a.radius},${a.radius}\n          0 0 ${a.sweepFlag} ${p(a.to)}`;break;case"bezier":e+=` C${p(a.c1)} ${p(a.c2)} ${p(a.to)}`;break;case"curved-arrow":{const t=(0,o.getCurvedArrowBeziers)(a);e+=` C${pa(t.cubicBezier1)}\n                  C${pa(t.cubicBezier2)}`;break}}}return e};const isSegmentSvg=t=>"svg"===t.type;e.getSvgSegments=t=>t.flatMap((t=>t.filter(isSegmentSvg)))},6243:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.rejoinSegments=e.getSegmentsBbox=e.offsetSegment=e.transformSegment=e.groupSegmentsByContinuity=e.stringToSvgPathFillRule=e.stringToSvgPathLineJoin=e.stringToSvgPathLineCap=void 0;const a=o(i(5874)),n=i(3912),r=i(9314),s=i(1356);e.stringToSvgPathLineCap={butt:"butt",round:"round",square:"square"},e.stringToSvgPathLineJoin={bevel:"bevel",miter:"miter",round:"round"},e.stringToSvgPathFillRule={evenodd:"evenodd",nonzero:"nonzero"};e.groupSegmentsByContinuity=t=>{const e=[];let i=[];for(let o=0;o<t.length;o++){const a=t[o];if(i.length>0){const t=i[i.length-1];"svg"!==a.type&&"svg"!==t.type&&a.from.x===t.to.x&&a.from.y===t.to.y||(e.push(i),i=[])}i.push(a)}return i.length>0&&e.push(i),e};e.transformSegment=(t,e)=>{var i,o;const a=Object.assign({},t),l=e?t=>{const i=(0,s.pointClone)(t);return e(i),i}:t=>(0,s.pointClone)(t);switch(a.from=l(a.from),a.to=l(a.to),a.type){case"bezier":a.c1=l(a.c1),a.c2=l(a.c2);break;case"curved-arrow":a.middle=l(a.middle),a.c1=l(a.c1),a.c2=l(a.c2);break;case"svg":a.topRight=l(null!==(i=a.topRight)&&void 0!==i?i:r.Point.create(t.to.x,t.from.y)),a.bottomLeft=l(null!==(o=a.bottomLeft)&&void 0!==o?o:r.Point.create(t.from.x,t.to.y)),a.paths=a.paths.map((t=>Object.assign(Object.assign({},t),{path:n.SimplifiedSvgPath.iterate(n.SimplifiedSvgPath.cloneValues(t.path),((t,e,i,o)=>{for(let t=0;t<o;t+=2){const o=l({x:e[i+t],y:e[i+t+1]});e[i+t]=o.x,e[i+t+1]=o.y}}))})))}return a};e.offsetSegment=(t,i,o)=>(0,e.transformSegment)(t,(t=>{t.x+=i,t.y+=o}));e.getSegmentsBbox=(t,e=!1)=>{if(0===t.length)return{minX:0,minY:0,maxX:0,maxY:0};let i=t[0].from.x,o=t[0].from.y,n=t[0].from.x,r=t[0].from.y;const l=1e-5;for(let c=0;c<t.length;c++){const d=t[c];switch(i=Math.min(d.from.x-l,d.to.x-l,i),o=Math.min(d.from.y-l,d.to.y-l,o),n=Math.max(d.from.x+l,d.to.x+l,n),r=Math.max(d.from.y+l,d.to.y+l,r),d.type){case"bezier":if(!e){const t=new a.default(d.from,d.c1,d.c2,d.to).bbox();i=Math.min(i,t.x.min),o=Math.min(o,t.y.min),n=Math.max(n,t.x.max),r=Math.max(r,t.y.max)}break;case"curved-arrow":if(!e){const t=(0,s.getCurvedArrowBeziers)(d);[new a.default(t.moveTo,t.cubicBezier1[0],t.cubicBezier1[1],t.cubicBezier1[2]),new a.default(t.cubicBezier1[2],t.cubicBezier2[0],t.cubicBezier2[1],t.cubicBezier2[2])].forEach((t=>{const e=t.bbox();i=Math.min(i,e.x.min),o=Math.min(o,e.y.min),n=Math.max(n,e.x.max),r=Math.max(r,e.y.max)}))}break;case"svg":d.topRight&&(i=Math.min(i,d.topRight.x),o=Math.min(o,d.topRight.y),n=Math.max(n,d.topRight.x),r=Math.max(r,d.topRight.y)),d.bottomLeft&&(i=Math.min(i,d.bottomLeft.x),o=Math.min(o,d.bottomLeft.y),n=Math.max(n,d.bottomLeft.x),r=Math.max(r,d.bottomLeft.y))}}return{minX:i,minY:o,maxX:n,maxY:r}};e.rejoinSegments=t=>{if(0===t.length)return t;for(let e=0;e<t.length;e++){const i=t[e],o=t[(e+1)%t.length];(0,s.pointEqual)(i.to,o.from)||(t.splice(e+1,0,{type:"line",from:(0,s.pointClone)(i.to),to:(0,s.pointClone)(o.from),styleOffset:i.styleOffset+(0,s.pointDist)(i.to,o.from)}),e++)}return t}},9797:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderStraightArrow=e.getStraightArrowSegments=void 0;const o=i(4992),a=i(1356);e.getStraightArrowSegments=t=>{if(t.length<2)return null;const[e]=t;return[{type:"line",from:e,to:t[t.length-1],styleOffset:0}]};e.renderStraightArrow=(t,i,n)=>{const{points:r}=i.properties,s=(0,e.getStraightArrowSegments)(r);if(null===s)return void console.error(`Error: arrow ${i.id} has straight type but not enough points`);const[l]=r,c=r[r.length-1],d=(0,a.getArrowRotation)(c,l),h=(0,a.getArrowRotation)(l,c),u={maxX:Math.max(l.x,c.x),maxY:Math.max(l.y,c.y),minX:Math.min(l.x,c.x),minY:Math.min(l.y,c.y)};return(0,o.drawArrowWidget)(t,i,d,h,u,s,n)}},3579:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NEW_TIPS_SHAPES_RAW=void 0,e.NEW_TIPS_SHAPES_RAW={"arrow-empty":{scaleAdjust:.6666666666666666,offset:{x:-6.598,y:-3.7085},segments:[{type:"svg",from:{x:0,y:0},to:{x:7,y:8},styleOffset:0,paths:[{path:{commands:["M","C","C","C","C","L","C","C","C","C","L","C","C","C","C","L","Z"],values:[6.40002,3.3636,6.46017,3.39889,6.51004,3.4493,6.5447,3.50981,6.57936,3.57033,6.59759,3.63886,6.59759,3.7086,6.59759,3.77834,6.57936,3.84687,6.5447,3.90738,6.51004,3.9679,6.46017,4.01831,6.40002,4.0536,.600016,7.3636,.539678,7.39845,.471283,7.41693,.401605,7.41722,.331927,7.4175,.263382,7.39958,.20276,7.36523,.142138,7.33088,.0915413,7.28128,.0559803,7.22136,.0204193,7.16144,.00112771,7.09327,161973e-10,7.0236,161973e-10,.403599,-618352e-9,.333081,.0174019,.263648,.0522504,.202338,.0870988,.141029,.137537,.0900221,.198452,.0544884,.259367,.0189548,.328593,157148e-9,.399114,9.81051e-7,.469636,-155186e-9,.538944,.0183356,.600016,.0535992,6.40002,3.3636]},fill:{rule:"nonzero"}},{path:{commands:["M","L","L","L","L","L","Z"],values:[4.85002,3.7136,3.02002,4.7736,1.19002,5.8236,1.19002,1.6036,3.02002,2.6636,4.85002,3.7136]},fill:{color:"white",rule:"nonzero"}}]}]},"arrow-line":{scaleAdjust:.6666666666666666,offset:{x:-6.438,y:-5.833},segments:[{type:"svg",from:{x:0,y:0},to:{x:7,y:11},styleOffset:0,paths:[{path:{commands:["M","C","L","C","L","C","L","C","L","L","C","L","Z"],values:[-4.40263e-7,10.072,-4.67942e-7,10.7053,.73856,11.0512,1.22503,10.6458,6.07813,6.60156,6.55789,6.20176,6.55789,5.46491,6.07814,5.06511,1.22503,1.02086,.738562,.615468,-4.20238e-8,.961392,-6.97034e-8,1.59463,-6.97034e-8,1.59463,-7.93925e-8,1.81629,.0984565,2.0265,.268741,2.1684,4.66667,5.83333,.268741,9.49827,.0984564,9.64017,-4.30574e-7,9.85038,-4.40263e-7,10.072,-4.40263e-7,10.072]},fill:{rule:"nonzero"}}]}]},"arrow-long":{scaleAdjust:.6666666666666666,offset:{x:-9.167,y:-5.000000000000001},segments:[{type:"svg",from:{x:0,y:0},to:{x:10,y:10},styleOffset:0,paths:[{path:{commands:["M","C","L","C","L","L","C","L","Z"],values:[8.75274,4.36098,9.30508,4.60796,9.30508,5.39204,8.75273,5.63902,.8346,9.17965,.435081,9.3583,.0799966,8.8577,.380661,8.53969,3.72728,5,.380662,1.46031,.0799973,1.1423,.435083,.641701,.834601,.820347,8.75274,4.36098]},fill:{rule:"nonzero"}}]}]},"arrow-rounded":{scaleAdjust:.6666666666666666,offset:{x:-7.418,y:-4},segments:[{type:"svg",from:{x:0,y:0},to:{x:8,y:8},styleOffset:0,paths:[{path:{commands:["M","C","L","C","L","L","C","L","Z"],values:[7.0529,3.38524,7.53987,3.65042,7.53988,4.34958,7.0529,4.61476,1.08751,7.86324,.474421,8.1971,-.196073,7.52614,.138215,6.91328,1.72728,4,.138215,1.08672,-.196073,.473856,.474418,-.197102,1.08751,.136761,7.0529,3.38524]},fill:{rule:"nonzero"}}]}]},"arrow-solid":{scaleAdjust:.6666666666666666,offset:{x:-6.594,y:-4},segments:[{type:"svg",from:{x:0,y:0},to:{x:7,y:8},styleOffset:0,paths:[{path:{commands:["M","C","L","C","L","C","L","Z"],values:[6.39223,3.6527,6.66096,3.80626,6.66096,4.19374,6.39223,4.3473,.598455,7.65803,.331793,7.8104,1.4385e-7,7.61786,1.57275e-7,7.31073,4.46708e-7,.689272,4.60133e-7,.382143,.331793,.189596,.598456,.341974,6.39223,3.6527]},fill:{rule:"nonzero"}}]}]},"circle-empty":{scaleAdjust:.6666666666666666,offset:{x:-8,y:-4},segments:[{type:"svg",from:{x:0,y:0},to:{x:8,y:8},styleOffset:0,paths:[{path:{commands:["M","C","C","C","C","Z"],values:[7.25,4,7.25,5.79493,5.79493,7.25,4,7.25,2.20507,7.25,.75,5.79493,.75,4,.75,2.20507,2.20507,.75,4,.75,5.79493,.75,7.25,2.20507,7.25,4]},fill:{color:"white",rule:"nonzero"},stroke:{widthMultiplier:1,lineJoin:"miter",lineCap:"butt"}}]}]},"circle-solid":{scaleAdjust:.6666666666666666,offset:{x:-8,y:-4},segments:[{type:"svg",from:{x:0,y:0},to:{x:8,y:8},styleOffset:0,paths:[{path:{commands:["M","C","C","C","C","Z"],values:[8,4,8,6.20914,6.20914,8,4,8,1.79086,8,0,6.20914,0,4,0,1.79086,1.79086,0,4,0,6.20914,0,8,1.79086,8,4]},fill:{rule:"nonzero"}}]}]},"diamond-empty":{scaleAdjust:.6666666666666666,offset:{x:-10,y:-5},segments:[{type:"svg",from:{x:0,y:0},to:{x:10,y:10},styleOffset:0,paths:[{path:{commands:["M","C","L","C","L","C","L","C","L","Z"],values:[4.63117,.152775,4.83487,-.0509251,5.16513,-.0509247,5.36883,.152775,9.84723,4.63117,10.0509,4.83487,10.0509,5.16513,9.84723,5.36883,5.36883,9.84723,5.16513,10.0509,4.83487,10.0509,4.63117,9.84723,.152775,5.36883,-.0509251,5.16513,-.0509247,4.83487,.152775,4.63117,4.63117,.152775]},fill:{rule:"nonzero"}},{path:{commands:["M","C","L","C","L","C","L","C","L","Z"],values:[4.7787,2.09166,4.90092,1.96945,5.09908,1.96945,5.2213,2.09167,7.90834,4.7787,8.03056,4.90092,8.03055,5.09908,7.90834,5.2213,5.2213,7.90834,5.09908,8.03056,4.90092,8.03055,4.7787,7.90834,2.09166,5.2213,1.96945,5.09908,1.96945,4.90092,2.09167,4.7787,4.7787,2.09166]},fill:{color:"white",rule:"nonzero"}}]}]},"diamond-solid":{scaleAdjust:.6666666666666666,offset:{x:-10,y:-5},segments:[{type:"svg",from:{x:0,y:0},to:{x:10,y:10},styleOffset:0,paths:[{path:{commands:["M","C","L","C","L","C","L","C","L","Z"],values:[4.63117,.152775,4.83487,-.0509251,5.16513,-.0509247,5.36883,.152775,9.84723,4.63117,10.0509,4.83487,10.0509,5.16513,9.84723,5.36883,5.36883,9.84723,5.16513,10.0509,4.83487,10.0509,4.63117,9.84723,.152775,5.36883,-.0509251,5.16513,-.0509247,4.83487,.152775,4.63117,4.63117,.152775]},fill:{rule:"nonzero"}}]}]},many:{scaleAdjust:.6666666666666666,offset:{x:-7.69,y:-4.1185},segments:[{type:"svg",from:{x:0,y:0},to:{x:8,y:9},styleOffset:0,paths:[{path:{commands:["M","C","L","C","L","C","C","L","L","C","Z"],values:[7.60159,7.84048,7.40634,8.20579,6.95192,8.34365,6.58661,8.1484,.449335,4.86819,-.149777,4.54798,-.149779,3.68912,.449335,3.3689,6.58661,.0886961,6.95192,-.106552,7.40634,.0313098,7.60159,.396619,7.79684,.761929,7.65897,1.21635,7.29366,1.4116,2.22896,4.11855,7.29366,6.8255,7.65897,7.02075,7.79684,7.47517,7.60159,7.84048]},fill:{rule:"nonzero"}},{path:{commands:["M","L","C","C","L","L","Z"],values:[1.69,3.12,6.69,3.12,7.24229,3.12,7.69,3.56772,7.69,4.12,7.69,4.67228,7.24229,5.12,6.69,5.12,1.69,5.12,1.69,3.12]},fill:{rule:"nonzero"}}]}]},"one-only":{scaleAdjust:.6666666666666666,offset:{x:-8,y:-4},segments:[{type:"svg",from:{x:0,y:0},to:{x:8,y:8},styleOffset:0,paths:[{path:{commands:["M","L","L","L","L","Z"],values:[0,3,8,3,8,5,0,5,0,3]},fill:{rule:"nonzero"}},{path:{commands:["M","L","L","L","L","Z"],values:[4,0,6,0,6,8,4,8,4,0]},fill:{rule:"nonzero"}},{path:{commands:["M","L","L","L","L","Z"],values:[0,0,2,0,2,8,0,8,0,0]},fill:{rule:"nonzero"}}]}]},"one-or-many":{scaleAdjust:.6666666666666666,offset:{x:-8,y:-4.1185},segments:[{type:"svg",from:{x:0,y:0},to:{x:8,y:9},styleOffset:0,paths:[{path:{commands:["M","C","L","C","L","C","C","L","L","C","Z"],values:[7.91158,7.84048,7.71634,8.20579,7.26192,8.34365,6.89661,8.1484,.759332,4.86819,.16022,4.54798,.160218,3.68912,.759333,3.3689,6.89661,.0886961,7.26192,-.106552,7.71634,.0313098,7.91159,.396619,8.10683,.761929,7.96897,1.21635,7.60366,1.4116,2.53895,4.11855,7.60366,6.8255,7.96897,7.02075,8.10683,7.47517,7.91158,7.84048]},fill:{rule:"nonzero"}},{path:{commands:["M","L","C","C","L","L","Z"],values:[2,3.12,7,3.12,7.55228,3.12,8,3.56771,8,4.12,8,4.67228,7.55228,5.12,7,5.12,2,5.12,2,3.12]},fill:{rule:"nonzero"}},{path:{commands:["M","C","C","L","C","C","L","Z"],values:[0,1.12,0,.56771,.447715,.119995,1,.119995,1.55228,.119995,2,.56771,2,1.12,2,7.12,2,7.67228,1.55228,8.12,1,8.12,.447715,8.12,0,7.67228,0,7.12,0,1.12]},fill:{rule:"nonzero"}}]}]},one:{scaleAdjust:.6666666666666666,offset:{x:-4,y:-4},segments:[{type:"svg",from:{x:0,y:0},to:{x:4,y:8},styleOffset:0,paths:[{path:{commands:["M","L","L","L","L","Z"],values:[0,3,4,3,4,5,0,5,0,3]},fill:{rule:"nonzero"}},{path:{commands:["M","L","L","L","L","Z"],values:[0,0,2,0,2,8,0,8,0,0]},fill:{rule:"nonzero"}}]}]},"zero-or-many":{scaleAdjust:.6666666666666666,offset:{x:-13,y:-4.5},segments:[{type:"svg",from:{x:0,y:0},to:{x:13,y:9},styleOffset:0,paths:[{path:{commands:["M","C","C","L","L","C","C","L","L","C","C","L","C","C","L","Z"],values:[11.7343,8.92112,12.1399,9.11463,12.6243,8.93985,12.8162,8.53073,13.008,8.12161,12.8347,7.63308,12.4291,7.43958,7.98809,5.32105,12.1875,5.32105,12.6362,5.32105,13,4.95417,13,4.50159,13,4.04902,12.6362,3.68214,12.1875,3.68214,7.98141,3.68214,12.4291,1.56042,12.8347,1.36692,13.008,.878393,12.8162,.469274,12.6243,.0601552,12.1399,-.114632,11.7343,.0788756,6.02871,2.80065,6.32776,3.29653,6.5,3.87879,6.5,4.50162,6.5,5.1234,6.32834,5.70474,6.03022,6.20007,11.7343,8.92112]},fill:{rule:"nonzero"}},{path:{commands:["M","C","C","C","C","Z"],values:[6.5,4.50162,6.5,6.31191,5.04493,7.77945,3.25,7.77945,1.45507,7.77945,0,6.31191,0,4.50162,0,2.69132,1.45507,1.22378,3.25,1.22378,5.04493,1.22378,6.5,2.69132,6.5,4.50162]},fill:{rule:"nonzero"}},{path:{commands:["M","C","C","C","C","Z"],values:[5.41667,4.50162,5.41667,5.70848,4.44662,6.68684,3.25,6.68684,2.05338,6.68684,1.08333,5.70848,1.08333,4.50162,1.08333,3.29475,2.05338,2.3164,3.25,2.3164,4.44662,2.3164,5.41667,3.29475,5.41667,4.50162]},fill:{color:"white",rule:"nonzero"}}]}]},"zero-or-one":{scaleAdjust:.6666666666666666,offset:{x:-12,y:-4},segments:[{type:"svg",from:{x:0,y:0},to:{x:12,y:8},styleOffset:0,paths:[{path:{commands:["M","C","C","C","C","Z"],values:[6,4,6,5.65685,4.65685,7,3,7,1.34315,7,0,5.65685,0,4,0,2.34315,1.34315,1,3,1,4.65685,1,6,2.34315,6,4]},fill:{rule:"nonzero"}},{path:{commands:["M","C","C","C","C","Z"],values:[5,4,5,5.10457,4.10457,6,3,6,1.89543,6,1,5.10457,1,4,1,2.89543,1.89543,2,3,2,4.10457,2,5,2.89543,5,4]},fill:{color:"white",rule:"nonzero"}},{path:{commands:["M","L","L","L","L","Z"],values:[5,3,12,3,12,5,5,5,5,3]},fill:{rule:"nonzero"}},{path:{commands:["M","L","L","L","L","Z"],values:[8,0,10,0,10,8,8,8,8,0]},fill:{rule:"nonzero"}},{path:{commands:["M","C","C","C","C","Z"],values:[5,4,5,5.10457,4.10457,6,3,6,1.89543,6,1,5.10457,1,4,1,2.89543,1.89543,2,3,2,4.10457,2,5,2.89543,5,4]},fill:{color:"white",rule:"nonzero"}},{path:{commands:["M","L","L","L","L","Z"],values:[8,2,10,2,10,6,8,6,8,2]},fill:{rule:"nonzero"}}]}]}}},3821:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NEW_TIPS_SHAPES_LENGTH=e.NEW_TIPS_SHAPES=e.TIP_SHAPES=void 0;const o=i(1417),a=i(3579);e.TIP_SHAPES={latex:{scaleAdjust:1/16,segments:(()=>(0,o.parseSVGPathIntoSegments)("M4.042 9.121C4.042 12.121 3.054 14.891 1.406 17.121L22.406 9.121L1.406 1.121C3.054 3.35 4.042 6.113 4.042 9.121Z",-17.6,-9.1))()},"rounded-triangle":{scaleAdjust:1/18,segments:(()=>(0,o.parseSVGPathIntoSegments)("M13.6708 8.15585C14.2893 8.54867 14.2893 9.45133 13.6708 9.84415L1.53611 17.5507C0.870344 17.9735 1.05518e-06 17.4953 1.08966e-06 16.7066L1.76339e-06 1.29343C1.79786e-06 0.504749 0.870344 0.0264618 1.53611 0.449279L13.6708 8.15585Z",-5,-9))()}},e.NEW_TIPS_SHAPES=a.NEW_TIPS_SHAPES_RAW;const n=new Map([["arrow-long",1],["arrow-line",1],["arrow-rounded",1]]);e.NEW_TIPS_SHAPES_LENGTH=function calculateArrowTipLengths(){var t;const i={};for(const o in e.NEW_TIPS_SHAPES){const a=o,r=e.NEW_TIPS_SHAPES[a],s=null!==(t=n.get(a))&&void 0!==t?t:.45*r.segments[0].to.x;i[a]=s}return i}()},5667:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderArrowTips=void 0;const o=i(5597),a=i(6507),n=i(6243),r=i(3821),drawArrowTip=(t,e,i,o,s,l)=>{var c;if("none"===s)return[];const d=!!s&&r.NEW_TIPS_SHAPES[s],h=d?r.NEW_TIPS_SHAPES[s]:r.TIP_SHAPES[l.shape],u=null!==(c=h.offset)&&void 0!==c?c:{x:0,y:0},v=d?h.scaleAdjust*o:h.scaleAdjust*(l.sizeBasePixelGrowth+o*l.sizeScaledFromStrokeWidth),g=(0,a.degCos)(i),f=(0,a.degSin)(i);return h.segments.map((i=>(0,n.transformSegment)(i,(i=>{i.x+=u.x,i.y+=u.y,i.x*=v,i.y*=v;const o=i.x*g-i.y*f,a=i.x*f+i.y*g;i.x=o,i.y=a,i.x+=t,i.y+=e}))))};e.renderArrowTips=(t,e,i,a,n,r,s,l,c)=>{const d=[];return t!==o.singleTipArrow&&t!==o.doubleTipArrow||d.push(drawArrowTip(i.x,i.y,a,e,n,c)),t===o.doubleTipArrow&&d.push(drawArrowTip(r.x,r.y,s,e,l,c)),d}},1356:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateEvalArc=e.generateEvalBezier=e.getCurvedArrowBeziers=e.pointEqual=e.pointDist2=e.pointDist=e.pointLen2=e.pointLen=e.pointClone=e.pointBuild=e.padPoint=e.getArrowRotation=e.debugDrawBbox=void 0;const o=i(5888);e.debugDrawBbox=(t,e=!1)=>(0,o.drawRectangle)(e?0:t.minX,e?0:t.minY,t.maxX-t.minX,t.maxY-t.minY,"transparent",e?"blue":"red",1);e.getArrowRotation=(t,e)=>180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI%360;e.padPoint=(t,e)=>i=>({x:i.x+t,y:i.y+e});e.pointBuild=(t,e)=>({x:t,y:e});e.pointClone=t=>({x:t.x,y:t.y});e.pointLen=(t,e)=>Math.sqrt(t*t+e*e);e.pointLen2=(t,e)=>t*t+e*e;e.pointDist=(t,i)=>(0,e.pointLen)(t.x-i.x,t.y-i.y);e.pointDist2=(t,i)=>(0,e.pointLen2)(t.x-i.x,t.y-i.y);e.pointEqual=(t,e)=>t.x===e.x&&t.y===e.y;const quad2cub=(t,e,i)=>[t,{x:t.x+2/3*(e.x-t.x),y:t.y+2/3*(e.y-t.y)},{x:i.x+2/3*(e.x-i.x),y:i.y+2/3*(e.y-i.y)},i];e.getCurvedArrowBeziers=t=>{const e=[t.from,t.c1,t.middle],i=[t.middle,t.c2,t.to],o=quad2cub(e[0],e[1],e[2]),a=quad2cub(i[0],i[1],i[2]);return{moveTo:o[0],cubicBezier1:[o[1],o[2],o[3]],cubicBezier2:[a[1],a[2],a[3]]}};e.generateEvalBezier=(t,e,i,o,a,n,r,s)=>(l,c)=>{const d=1-l,h=l*l,u=d*d,v=u*d,g=3*l*u,f=3*d*h,y=h*l;c.x=v*t+g*i+f*a+y*r,c.y=v*e+g*o+f*n+y*s};const angleBetween=(t,e,i,o)=>{const a=t*i+e*o,n=Math.sqrt((t*t+e*e)*(i*i+o*o));return(t*o-e*i<0?-1:1)*Math.acos(a/n)};e.generateEvalArc=(t,e,i,o,a,n)=>{if(t===i&&e===o)return(i,o)=>{o.x=t,o.y=e};if(0===a)return(a,n)=>{n.x=t+(i-t)*a,n.y=e+(o-e)*a};const r=(t-i)/2,s=(e-o)/2,l=r*r,c=s*s,d=l/(a*a)+c/(a*a);d>1&&(a=Math.sqrt(d)*a);const h=a*a,u=h*h-h*c-h*l,v=h*c+h*l,g=Math.max(u/v,0),f=(n?1:-1)*Math.sqrt(g),y=f*s,x=f*-r,m=y+(t+i)/2,R=x+(e+o)/2,b=(r-y)/a,w=(s-x)/a,S=angleBetween(1,0,b,w);let A=angleBetween(b,w,(-r-y)/a,(-s-x)/a);return!n&&A>0?A-=2*Math.PI:n&&A<0&&(A+=2*Math.PI),A%=2*Math.PI,(n,r)=>{if(n<=0)return r.x=t,void(r.y=e);if(n>=1)return r.x=i,void(r.y=o);const s=S+A*n;r.x=m+a*Math.cos(s),r.y=R+a*Math.sin(s)}}},18:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.smartShapeTemplates=void 0,e.smartShapeTemplates={arrow_down:{id:"arrow_down",xRanges:[{mode:"affix",pointsSpan:[{pti:26,vRatio:0},{pti:25,vRatio:-26.2952}],v0:10.197,vLength:.05},{mode:"flex",pointsSpan:[{pti:23,vRatio:.014729},{pti:24,vRatio:0}],flexProportion:.17899},{mode:"affix",pointsSpan:[{pti:15,vRatio:.637077},{pti:18,vRatio:.531473},{pti:16,vRatio:.578997},{pti:17,vRatio:.531473},{pti:19,vRatio:.531477},{pti:22,vRatio:.42587},{pti:20,vRatio:.531477},{pti:21,vRatio:.483953},{pti:0,vRatio:.5}],v0:66,vLength:30},{mode:"flex",pointsSpan:[{pti:2,vRatio:.511246},{pti:27,vRatio:.493734},{pti:30,vRatio:.511166},{pti:28,vRatio:.49899},{pti:29,vRatio:.505834},{pti:31,vRatio:.511246},{pti:32,vRatio:.502513},{pti:33,vRatio:.502427}],flexProportion:.638871},{mode:"affix",pointsSpan:[{pti:7,vRatio:.6072},{pti:10,vRatio:.5016},{pti:8,vRatio:.549133},{pti:9,vRatio:.5016},{pti:11,vRatio:.5016},{pti:14,vRatio:.396},{pti:12,vRatio:.5016},{pti:13,vRatio:.4541},{pti:1,vRatio:.5}],v0:295,vLength:30},{mode:"flex",pointsSpan:[{pti:6,vRatio:.985529},{pti:5,vRatio:1}],flexProportion:.182139},{mode:"affix",pointsSpan:[{pti:3,vRatio:1},{pti:4,vRatio:27.3}],v0:381.734,vLength:.05}],yRanges:[{mode:"affix",pointsSpan:[{pti:11,vRatio:.698917},{pti:14,vRatio:.521739},{pti:12,vRatio:.60147},{pti:13,vRatio:.521739},{pti:15,vRatio:.521739},{pti:18,vRatio:.698917},{pti:16,vRatio:.521739},{pti:17,vRatio:.60147},{pti:32,vRatio:.521739},{pti:0,vRatio:.521739}],v0:0,vLength:23},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.972803},{pti:3,vRatio:.083288},{pti:6,vRatio:.065264},{pti:4,vRatio:.078},{pti:5,vRatio:.065264},{pti:7,vRatio:.065264},{pti:10,vRatio:.045673},{pti:8,vRatio:.065264},{pti:9,vRatio:.056447},{pti:19,vRatio:.045673},{pti:22,vRatio:.065264},{pti:20,vRatio:.056447},{pti:21,vRatio:.065264},{pti:23,vRatio:.065264},{pti:26,vRatio:.083288},{pti:24,vRatio:.065264},{pti:25,vRatio:.077904},{pti:27,vRatio:.972803},{pti:30,vRatio:.972803},{pti:28,vRatio:.977014},{pti:29,vRatio:.977014},{pti:31,vRatio:.972803},{pti:33,vRatio:.974909},{pti:1,vRatio:.620192}],v0:194,vLength:208}],pointArray:[{x:81,y:12},{x:310,y:323},{x:197.738,y:396.343},{x:381.784,y:211.324},{x:383.099,y:210.224},{x:382.497,y:207.575},{x:380.913,y:207.575},{x:313.216,y:207.575},{x:311.474,y:207.575},{x:310.048,y:205.741},{x:310.048,y:203.5},{x:310.048,y:16.0751},{x:310.048,y:13.8338},{x:308.623,y:12},{x:306.88,y:12},{x:85.1123,y:12},{x:83.3699,y:12},{x:81.9442,y:13.8338},{x:81.9442,y:16.0751},{x:81.9443,y:203.5},{x:81.9443,y:205.741},{x:80.5186,y:207.575},{x:78.7761,y:207.575},{x:11.0682,y:207.575},{x:9.5,y:207.575},{x:8.88224,y:210.204},{x:10.197,y:211.324},{x:194.253,y:396.343},{x:195.299,y:397.219},{x:196.661,y:397.219},{x:197.722,y:396.343},{x:197.738,y:396.343},{x:196,y:12},{x:195.983,y:396.781}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30},{type:"line-to",pti:31}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[32,33],designerOffset:{x:.715618,y:-12},designerSize:{w:373.022602,h:385},mostCompactAffixedSize:{w:61.535602,h:214},resizeMode:"scale-first"},arrow_left:{id:"arrow_left",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.048917},{pti:3,vRatio:.909229},{pti:6,vRatio:.926606},{pti:4,vRatio:.914326},{pti:5,vRatio:.926606},{pti:7,vRatio:.926606},{pti:10,vRatio:.945491},{pti:8,vRatio:.926606},{pti:9,vRatio:.935106},{pti:19,vRatio:.945491},{pti:22,vRatio:.926606},{pti:20,vRatio:.935106},{pti:21,vRatio:.926606},{pti:23,vRatio:.926606},{pti:26,vRatio:.909229},{pti:24,vRatio:.926606},{pti:25,vRatio:.914422},{pti:27,vRatio:.048917},{pti:30,vRatio:.048917},{pti:28,vRatio:.044856},{pti:29,vRatio:.044856},{pti:31,vRatio:.048917},{pti:32,vRatio:.046881},{pti:0,vRatio:.380734}],v0:0,vLength:218},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:11,vRatio:.24415},{pti:14,vRatio:.45},{pti:12,vRatio:.35735},{pti:13,vRatio:.45},{pti:15,vRatio:.45},{pti:18,vRatio:.24415},{pti:16,vRatio:.45},{pti:17,vRatio:.35735},{pti:33,vRatio:.45},{pti:1,vRatio:.5}],v0:390,vLength:20}],yRanges:[{mode:"affix",pointsSpan:[{pti:26,vRatio:0},{pti:25,vRatio:-35.369}],v0:9.00163,vLength:.05},{mode:"flex",pointsSpan:[{pti:23,vRatio:.018712},{pti:24,vRatio:0}],flexProportion:.183908},{mode:"affix",pointsSpan:[{pti:15,vRatio:.666085},{pti:18,vRatio:.508259},{pti:16,vRatio:.579281},{pti:17,vRatio:.508259},{pti:19,vRatio:.509678},{pti:22,vRatio:.351852},{pti:20,vRatio:.509678},{pti:21,vRatio:.438656},{pti:0,vRatio:.518519}],v0:69,vLength:27},{mode:"flex",pointsSpan:[{pti:2,vRatio:.511369},{pti:27,vRatio:.488612},{pti:30,vRatio:.511267},{pti:28,vRatio:.495442},{pti:29,vRatio:.504335},{pti:31,vRatio:.511369},{pti:32,vRatio:.499903},{pti:33,vRatio:.499903}],flexProportion:.631961},{mode:"affix",pointsSpan:[{pti:7,vRatio:.657815},{pti:10,vRatio:.5},{pti:8,vRatio:.571037},{pti:9,vRatio:.5},{pti:11,vRatio:.498593},{pti:14,vRatio:.340741},{pti:12,vRatio:.498593},{pti:13,vRatio:.427556},{pti:1,vRatio:.518519}],v0:302,vLength:27},{mode:"flex",pointsSpan:[{pti:6,vRatio:.981307},{pti:5,vRatio:1}],flexProportion:.184131},{mode:"affix",pointsSpan:[{pti:3,vRatio:1},{pti:4,vRatio:36.36}],v0:389.021,vLength:.05}],pointArray:[{x:83,y:83},{x:400,y:316},{x:10.664,y:201.342},{x:198.212,y:389.071},{x:199.323,y:390.839},{x:202,y:390.03},{x:202,y:387.899},{x:202,y:319.761},{x:202,y:317.418},{x:203.853,y:315.5},{x:206.117,y:315.5},{x:394.883,y:315.462},{x:397.147,y:315.462},{x:399,y:313.544},{x:399,y:311.2},{x:399,y:86.9843},{x:399,y:84.6406},{x:397.147,y:82.723},{x:394.883,y:82.723},{x:206.117,y:82.7613},{x:203.853,y:82.7613},{x:202,y:80.8437},{x:202,y:78.5},{x:202,y:10.1734},{x:202,y:8.06408},{x:199.344,y:7.23318},{x:198.212,y:9.00163},{x:10.664,y:196.654},{x:9.77871,y:198.061},{x:9.77871,y:199.893},{x:10.664,y:201.321},{x:10.664,y:201.342},{x:10.22,y:198.98},{x:399,y:198.98}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30},{type:"line-to",pti:31}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[32,33],designerOffset:{x:-10.000032,y:.962572},designerSize:{w:389.999968,h:382},mostCompactAffixedSize:{w:217.999968,h:56.03063},resizeMode:"scale-first"},arrow_left_right:{id:"arrow_left_right",xRanges:[{mode:"affix",pointsSpan:[{pti:11,vRatio:.901332},{pti:14,vRatio:.882867},{pti:12,vRatio:.891177},{pti:13,vRatio:.882867},{pti:15,vRatio:.882867},{pti:18,vRatio:.865876},{pti:16,vRatio:.882867},{pti:17,vRatio:.870956},{pti:19,vRatio:.087636},{pti:22,vRatio:.087636},{pti:20,vRatio:.083666},{pti:21,vRatio:.083666},{pti:23,vRatio:.865876},{pti:26,vRatio:.882867},{pti:24,vRatio:.870863},{pti:25,vRatio:.882867},{pti:27,vRatio:.882867},{pti:30,vRatio:.901332},{pti:28,vRatio:.882867},{pti:29,vRatio:.891177},{pti:43,vRatio:.085664},{pti:0,vRatio:.884956}],v0:0,vLength:226},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.911345},{pti:3,vRatio:.139795},{pti:6,vRatio:.123026},{pti:4,vRatio:.134873},{pti:5,vRatio:.123026},{pti:7,vRatio:.123026},{pti:10,vRatio:.104803},{pti:8,vRatio:.123026},{pti:9,vRatio:.114825},{pti:31,vRatio:.10262},{pti:34,vRatio:.120843},{pti:32,vRatio:.112642},{pti:33,vRatio:.120843},{pti:35,vRatio:.120843},{pti:38,vRatio:.137611},{pti:36,vRatio:.120843},{pti:37,vRatio:.132598},{pti:39,vRatio:.911345},{pti:42,vRatio:.911345},{pti:40,vRatio:.915262},{pti:41,vRatio:.915262},{pti:44,vRatio:.913319},{pti:1,vRatio:.122271}],v0:447,vLength:229}],yRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:0},{pti:4,vRatio:-35.328}],v0:25.9984,vLength:.05},{mode:"flex",pointsSpan:[{pti:2,vRatio:.492808},{pti:6,vRatio:.003129},{pti:5,vRatio:0},{pti:7,vRatio:.181785},{pti:10,vRatio:.193672},{pti:8,vRatio:.188323},{pti:9,vRatio:.193672},{pti:11,vRatio:.193672},{pti:14,vRatio:.181785},{pti:12,vRatio:.193672},{pti:13,vRatio:.188323},{pti:15,vRatio:.005922},{pti:18,vRatio:.002653},{pti:16,vRatio:37e-6},{pti:17,vRatio:0},{pti:19,vRatio:.493998},{pti:22,vRatio:.507015},{pti:20,vRatio:.497922},{pti:21,vRatio:.503032},{pti:23,vRatio:.995951},{pti:26,vRatio:.992683},{pti:24,vRatio:1},{pti:25,vRatio:.998626},{pti:27,vRatio:.818693},{pti:30,vRatio:.806804},{pti:28,vRatio:.812152},{pti:29,vRatio:.806804},{pti:31,vRatio:.806804},{pti:34,vRatio:.818693},{pti:32,vRatio:.806804},{pti:33,vRatio:.812152},{pti:35,vRatio:.996872},{pti:36,vRatio:1},{pti:39,vRatio:.505825},{pti:42,vRatio:.492808},{pti:40,vRatio:.501901},{pti:41,vRatio:.496791},{pti:43,vRatio:.500491},{pti:44,vRatio:.499318},{pti:0,vRatio:.198149},{pti:1,vRatio:.804173}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:38,vRatio:1},{pti:37,vRatio:36.34}],v0:384.12,vLength:.05}],pointArray:[{x:200,y:97},{x:475,y:314},{x:655.698,y:202.509},{x:479.013,y:25.9984},{x:477.886,y:24.232},{x:475.173,y:25.0405},{x:475.173,y:27.1688},{x:475.173,y:91.1405},{x:475.173,y:93.4816},{x:473.295,y:95.397},{x:471,y:95.397},{x:203.701,y:95.397},{x:201.406,y:95.397},{x:199.528,y:93.4816},{x:199.528,y:91.1405},{x:199.528,y:28.1688},{x:199.528,y:26.0618},{x:196.836,y:25.2319},{x:195.688,y:26.9984},{x:19.8058,y:202.935},{x:18.9085,y:204.34},{x:18.9085,y:206.17},{x:19.8058,y:207.596},{x:195.688,y:382.67},{x:196.815,y:384.437},{x:199.528,y:383.628},{x:199.528,y:381.5},{x:199.528,y:319.199},{x:199.528,y:316.857},{x:201.406,y:314.942},{x:203.701,y:314.942},{x:470.5,y:314.942},{x:472.795,y:314.942},{x:474.673,y:316.857},{x:474.673,y:319.199},{x:474.673,y:383},{x:474.673,y:385.107},{x:477.365,y:385.937},{x:478.513,y:384.17},{x:655.698,y:207.17},{x:656.595,y:205.765},{x:656.595,y:203.935},{x:655.698,y:202.509},{x:19.36,y:205.26},{x:656.15,y:204.84}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30},{type:"line-to",pti:31},{type:"cubic-bezier-to",cp0:32,cp1:33,pti:34},{type:"line-to",pti:35},{type:"cubic-bezier-to",cp0:36,cp1:37,pti:38},{type:"line-to",pti:39},{type:"cubic-bezier-to",cp0:40,cp1:41,pti:42}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[43,44],designerOffset:{x:-19.132825,y:.96715},designerSize:{w:637.237925,h:360.100633},mostCompactAffixedSize:{w:416.237925,h:2.029033},resizeMode:"scale-first"},arrow_right:{id:"arrow_right",xRanges:[{mode:"affix",pointsSpan:[{pti:11,vRatio:.804285},{pti:14,vRatio:.6},{pti:12,vRatio:.69193},{pti:13,vRatio:.6},{pti:15,vRatio:.6},{pti:18,vRatio:.804285},{pti:16,vRatio:.6},{pti:17,vRatio:.69193},{pti:32,vRatio:.6},{pti:0,vRatio:.5}],v0:0,vLength:20},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.949958},{pti:3,vRatio:.07439},{pti:6,vRatio:.056742},{pti:4,vRatio:.069211},{pti:5,vRatio:.056742},{pti:7,vRatio:.056742},{pti:10,vRatio:.037559},{pti:8,vRatio:.056742},{pti:9,vRatio:.048108},{pti:19,vRatio:.037559},{pti:22,vRatio:.056742},{pti:20,vRatio:.048108},{pti:21,vRatio:.056742},{pti:23,vRatio:.056742},{pti:26,vRatio:.07439},{pti:24,vRatio:.056742},{pti:25,vRatio:.069113},{pti:27,vRatio:.949958},{pti:30,vRatio:.949958},{pti:28,vRatio:.954085},{pti:29,vRatio:.954085},{pti:31,vRatio:.949958},{pti:33,vRatio:.952019},{pti:1,vRatio:.610329}],v0:195,vLength:213}],yRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:0},{pti:4,vRatio:-26.666}],v0:12.2231,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.014439},{pti:5,vRatio:0}],flexProportion:.179293},{mode:"affix",pointsSpan:[{pti:7,vRatio:.412241},{pti:10,vRatio:.53123},{pti:8,vRatio:.477685},{pti:9,vRatio:.53123},{pti:11,vRatio:.531237},{pti:14,vRatio:.650226},{pti:12,vRatio:.531237},{pti:13,vRatio:.584781},{pti:0,vRatio:.518519}],v0:70,vLength:27},{mode:"flex",pointsSpan:[{pti:2,vRatio:.49625},{pti:27,vRatio:.513574},{pti:30,vRatio:.496328},{pti:28,vRatio:.508377},{pti:29,vRatio:.501603},{pti:31,vRatio:.49625},{pti:32,vRatio:.504902},{pti:33,vRatio:.504902}],flexProportion:.6336},{mode:"affix",pointsSpan:[{pti:15,vRatio:.424},{pti:18,vRatio:.543},{pti:16,vRatio:.489444},{pti:17,vRatio:.543},{pti:19,vRatio:.542963},{pti:22,vRatio:.661963},{pti:20,vRatio:.542963},{pti:21,vRatio:.596519},{pti:1,vRatio:.518519}],v0:301,vLength:27},{mode:"flex",pointsSpan:[{pti:23,vRatio:.986173},{pti:24,vRatio:1}],flexProportion:.187108},{mode:"affix",pointsSpan:[{pti:26,vRatio:1},{pti:25,vRatio:27.66}],v0:388.243,vLength:.05}],pointArray:[{x:10,y:84},{x:325,y:315},{x:397.341,y:198.235},{x:210.845,y:12.2231},{x:209.742,y:10.8898},{x:207.086,y:11.5002},{x:207.086,y:13.1066},{x:207.086,y:81.1305},{x:207.086,y:82.8975},{x:205.247,y:84.3432},{x:203,y:84.3432},{x:16.0857,y:84.3434},{x:13.8386,y:84.3434},{x:12,y:85.7891},{x:12,y:87.5561},{x:12,y:312.448},{x:12,y:314.215},{x:13.8386,y:315.661},{x:16.0857,y:315.661},{x:203,y:315.66},{x:205.247,y:315.66},{x:207.086,y:317.106},{x:207.086,y:318.873},{x:207.086,y:387.41},{x:207.086,y:389},{x:209.721,y:389.626},{x:210.845,y:388.293},{x:397.341,y:201.769},{x:398.22,y:200.709},{x:398.22,y:199.327},{x:397.341,y:198.251},{x:397.341,y:198.235},{x:12,y:200},{x:397.78,y:200}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30},{type:"line-to",pti:31}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[32,33],designerOffset:{x:-10,y:.729977},designerSize:{w:388.00025,h:377.525526},mostCompactAffixedSize:{w:213.00025,h:55.555626},resizeMode:"scale-first"},arrow_top:{id:"arrow_top",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:0},{pti:4,vRatio:-35.3692}],v0:8.32759,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.019469},{pti:5,vRatio:0}],flexProportion:.183368},{mode:"affix",pointsSpan:[{pti:7,vRatio:.34139},{pti:10,vRatio:.483437},{pti:8,vRatio:.419517},{pti:9,vRatio:.483437},{pti:11,vRatio:.483413},{pti:14,vRatio:.625457},{pti:12,vRatio:.483413},{pti:13,vRatio:.547333},{pti:0,vRatio:.5}],v0:66,vLength:30},{mode:"flex",pointsSpan:[{pti:2,vRatio:.486575},{pti:27,vRatio:.51001},{pti:30,vRatio:.48668},{pti:28,vRatio:.50298},{pti:29,vRatio:.49382},{pti:31,vRatio:.486575},{pti:32,vRatio:.49835},{pti:33,vRatio:.49835}],flexProportion:.636447},{mode:"affix",pointsSpan:[{pti:15,vRatio:.35},{pti:18,vRatio:.492067},{pti:16,vRatio:.428133},{pti:17,vRatio:.492067},{pti:19,vRatio:.492067},{pti:22,vRatio:.634133},{pti:20,vRatio:.492067},{pti:21,vRatio:.556},{pti:1,vRatio:.5}],v0:296,vLength:30},{mode:"flex",pointsSpan:[{pti:23,vRatio:.980184},{pti:24,vRatio:1}],flexProportion:.180185},{mode:"affix",pointsSpan:[{pti:26,vRatio:1},{pti:25,vRatio:36.38}],v0:382.622,vLength:.05}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.035714},{pti:3,vRatio:.916667},{pti:6,vRatio:.934519},{pti:4,vRatio:.921905},{pti:5,vRatio:.934519},{pti:7,vRatio:.934519},{pti:10,vRatio:.953924},{pti:8,vRatio:.934519},{pti:9,vRatio:.943252},{pti:19,vRatio:.953924},{pti:22,vRatio:.934519},{pti:20,vRatio:.943252},{pti:21,vRatio:.934519},{pti:23,vRatio:.934519},{pti:26,vRatio:.916667},{pti:24,vRatio:.934519},{pti:25,vRatio:.922005},{pti:27,vRatio:.035714},{pti:30,vRatio:.035714},{pti:28,vRatio:.031542},{pti:29,vRatio:.031542},{pti:31,vRatio:.035714},{pti:32,vRatio:.033619},{pti:0,vRatio:.37619}],v0:0,vLength:210},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:11,vRatio:.431522},{pti:14,vRatio:.608696},{pti:12,vRatio:.528957},{pti:13,vRatio:.608696},{pti:15,vRatio:.608696},{pti:18,vRatio:.431522},{pti:16,vRatio:.608696},{pti:17,vRatio:.528957},{pti:33,vRatio:.608696},{pti:1,vRatio:.521739}],v0:376,vLength:23}],pointArray:[{x:81,y:79},{x:311,y:388},{x:193.315,y:7.49999},{x:8.32759,y:192.5},{x:6.55913,y:193.6},{x:7.36876,y:196.249},{x:9.49943,y:196.249},{x:76.2417,y:196.249},{x:78.5855,y:196.249},{x:80.5031,y:198.083},{x:80.5031,y:200.324},{x:80.5024,y:385.925},{x:80.5024,y:388.166},{x:82.42,y:390},{x:84.7637,y:390},{x:306.5,y:390},{x:308.844,y:390},{x:310.762,y:388.166},{x:310.762,y:385.925},{x:310.762,y:200.324},{x:310.762,y:198.083},{x:312.68,y:196.249},{x:315.024,y:196.249},{x:381.5,y:196.249},{x:383.61,y:196.249},{x:384.441,y:193.621},{x:382.672,y:192.5},{x:198.002,y:7.49999},{x:196.596,y:6.62385},{x:194.764,y:6.62385},{x:193.336,y:7.49999},{x:193.315,y:7.49999},{x:195.67,y:7.06},{x:195.67,y:390}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30},{type:"line-to",pti:31}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[32,33],designerOffset:{x:.968224,y:-6.842885},designerSize:{w:376.275554,h:383.157115},mostCompactAffixedSize:{w:62.031144,h:217.157115},resizeMode:"scale-first"},brace_left:{id:"brace_left",xRanges:[{mode:"affix",pointsSpan:[{pti:20,vRatio:.511111},{pti:0,vRatio:.511111}],v0:1,vLength:45},{mode:"flex",pointsSpan:[{pti:21,vRatio:.546419},{pti:23,vRatio:.546419},{pti:1,vRatio:.986737}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.794521},{pti:5,vRatio:.44074},{pti:3,vRatio:.599055},{pti:4,vRatio:.44074},{pti:6,vRatio:.44074},{pti:9,vRatio:.224055},{pti:7,vRatio:.44074},{pti:8,vRatio:.351411},{pti:12,vRatio:.224055},{pti:10,vRatio:.199288},{pti:11,vRatio:.199288},{pti:15,vRatio:.44074},{pti:13,vRatio:.351411},{pti:14,vRatio:.44074},{pti:16,vRatio:.44074},{pti:19,vRatio:.794521},{pti:17,vRatio:.44074},{pti:18,vRatio:.599055},{pti:22,vRatio:.794521}],v0:423,vLength:73}],yRanges:[{mode:"affix",pointsSpan:[{pti:16,vRatio:.857154},{pti:19,vRatio:.365385},{pti:17,vRatio:.585452},{pti:18,vRatio:.365385},{pti:21,vRatio:.365385},{pti:0,vRatio:.365385}],v0:0,vLength:52},{mode:"flex",pointsSpan:[{pti:6,vRatio:.573342},{pti:9,vRatio:.504365},{pti:7,vRatio:.54231},{pti:8,vRatio:.515705},{pti:12,vRatio:.492713},{pti:10,vRatio:.502184},{pti:11,vRatio:.494956},{pti:15,vRatio:.423734},{pti:13,vRatio:.481371},{pti:14,vRatio:.454766},{pti:20,vRatio:.498538},{pti:22,vRatio:.498538}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.615385},{pti:5,vRatio:.123615},{pti:3,vRatio:.615385},{pti:4,vRatio:.395327},{pti:23,vRatio:.615385},{pti:1,vRatio:.615385}],v0:394,vLength:52}],pointArray:[{x:24,y:19},{x:418,y:426},{x:481,y:426},{x:466.731,y:426},{x:455.174,y:414.557},{x:455.174,y:400.428},{x:455.174,y:248.083},{x:455.174,y:237.47},{x:448.653,y:228.371},{x:439.356,y:224.493},{x:437.548,y:223.747},{x:437.548,y:221.275},{x:439.356,y:220.508},{x:448.653,y:216.629},{x:455.174,y:207.53},{x:455.174,y:196.917},{x:455.174,y:44.572},{x:455.174,y:30.4435},{x:466.731,y:19},{x:481,y:19},{x:24,y:222.5},{x:252,y:19},{x:481,y:222.5},{x:252,y:426}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"line-to",pti:6},{type:"cubic-bezier-to",cp0:7,cp1:8,pti:9},{type:"cubic-bezier-to",cp0:10,cp1:11,pti:12},{type:"cubic-bezier-to",cp0:13,cp1:14,pti:15},{type:"line-to",pti:16},{type:"cubic-bezier-to",cp0:17,cp1:18,pti:19}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[20,21,22,23],designerOffset:{x:-23,y:-19},designerSize:{w:457,h:407},mostCompactAffixedSize:{w:80,h:65},resizeMode:"scale-first"},brace_right:{id:"brace_right",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.150685},{pti:5,vRatio:.496237},{pti:3,vRatio:.341603},{pti:4,vRatio:.496237},{pti:6,vRatio:.496237},{pti:9,vRatio:.707886},{pti:7,vRatio:.496237},{pti:8,vRatio:.583488},{pti:12,vRatio:.707886},{pti:10,vRatio:.732074},{pti:11,vRatio:.732074},{pti:15,vRatio:.496237},{pti:13,vRatio:.583488},{pti:14,vRatio:.496237},{pti:16,vRatio:.496237},{pti:19,vRatio:.150685},{pti:17,vRatio:.496237},{pti:18,vRatio:.341603},{pti:20,vRatio:.150685},{pti:0,vRatio:1}],v0:9,vLength:73},{mode:"flex",pointsSpan:[{pti:21,vRatio:.447439},{pti:23,vRatio:.447439}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:22,vRatio:.511111},{pti:1,vRatio:.511111}],v0:453,vLength:45}],yRanges:[{mode:"affix",pointsSpan:[{pti:16,vRatio:.818692},{pti:19,vRatio:.326923},{pti:17,vRatio:.54699},{pti:18,vRatio:.326923},{pti:21,vRatio:.326923},{pti:0,vRatio:.326923}],v0:0,vLength:52},{mode:"flex",pointsSpan:[{pti:6,vRatio:.579352},{pti:9,vRatio:.508934},{pti:7,vRatio:.547672},{pti:8,vRatio:.52051},{pti:12,vRatio:.497039},{pti:10,vRatio:.506707},{pti:11,vRatio:.499328},{pti:15,vRatio:.426618},{pti:13,vRatio:.48546},{pti:14,vRatio:.458299},{pti:20,vRatio:.502985},{pti:22,vRatio:.502985}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.711538},{pti:5,vRatio:.219769},{pti:3,vRatio:.711538},{pti:4,vRatio:.491481},{pti:23,vRatio:.711538},{pti:1,vRatio:.711538}],v0:387,vLength:52}],pointArray:[{x:82,y:17},{x:476,y:424},{x:20,y:424},{x:33.937,y:424},{x:45.2253,y:412.557},{x:45.2253,y:398.428},{x:45.2253,y:246.083},{x:45.2253,y:235.47},{x:51.5946,y:226.371},{x:60.6757,y:222.493},{x:62.4414,y:221.747},{x:62.4414,y:219.275},{x:60.6757,y:218.508},{x:51.5946,y:214.629},{x:45.2253,y:205.53},{x:45.2253,y:194.917},{x:45.2253,y:42.572},{x:45.2253,y:28.4435},{x:33.937,y:17},{x:20,y:17},{x:20,y:220.5},{x:248,y:17},{x:476,y:220.5},{x:248,y:424}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"line-to",pti:6},{type:"cubic-bezier-to",cp0:7,cp1:8,pti:9},{type:"cubic-bezier-to",cp0:10,cp1:11,pti:12},{type:"cubic-bezier-to",cp0:13,cp1:14,pti:15},{type:"line-to",pti:16},{type:"cubic-bezier-to",cp0:17,cp1:18,pti:19}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[20,21,22,23],designerOffset:{x:-11,y:-17},designerSize:{w:456,h:407},mostCompactAffixedSize:{w:85,h:72},resizeMode:"scale-first"},chonk_unicorn:{id:"chonk_unicorn",xRanges:[{mode:"affix",pointsSpan:[{pti:36,vRatio:256}],v0:139.627,vLength:.05},{mode:"flex",pointsSpan:[],flexProportion:.106088},{mode:"affix",pointsSpan:[{pti:9,vRatio:.525745},{pti:8,vRatio:.644971},{pti:13,vRatio:.883409},{pti:12,vRatio:.884204},{pti:14,vRatio:1.258109},{pti:17,vRatio:.525745},{pti:20,vRatio:.255672},{pti:18,vRatio:.547642},{pti:19,vRatio:.524285},{pti:21,vRatio:.525745},{pti:24,vRatio:.17538},{pti:22,vRatio:.503847},{pti:23,vRatio:.403117},{pti:25,vRatio:.255672},{pti:28,vRatio:.67173},{pti:26,vRatio:.233774},{pti:27,vRatio:.394358},{pti:31,vRatio:.722825},{pti:29,vRatio:.689869},{pti:30,vRatio:.706891},{pti:32,vRatio:.255672},{pti:35,vRatio:.022095},{pti:33,vRatio:.15835},{pti:34,vRatio:-.02462},{pti:38,vRatio:.17538},{pti:37,vRatio:.143752},{pti:89,vRatio:.860241},{pti:88,vRatio:.873555},{pti:90,vRatio:.860241},{pti:91,vRatio:.79635},{pti:92,vRatio:.860241},{pti:95,vRatio:.870591},{pti:93,vRatio:.856263},{pti:94,vRatio:.858891},{pti:96,vRatio:.722825},{pti:99,vRatio:.883409},{pti:97,vRatio:.950606},{pti:98,vRatio:.958453},{pti:102,vRatio:.870591},{pti:100,vRatio:.878299},{pti:101,vRatio:.874051},{pti:103,vRatio:.722825},{pti:104,vRatio:.703204},{pti:105,vRatio:.722825},{pti:108,vRatio:.703204},{pti:106,vRatio:.716577},{pti:107,vRatio:.710007},{pti:109,vRatio:.496788},{pti:112,vRatio:.314066},{pti:110,vRatio:.409117},{pti:111,vRatio:.249832},{pti:115,vRatio:.584139},{pti:113,vRatio:.378299},{pti:114,vRatio:.520883},{pti:118,vRatio:.496788},{pti:116,vRatio:.525905},{pti:117,vRatio:.426905},{pti:121,vRatio:.703204},{pti:119,vRatio:.538818},{pti:120,vRatio:.633672},{pti:122,vRatio:.496788},{pti:123,vRatio:.485876},{pti:124,vRatio:.496788},{pti:125,vRatio:.561387},{pti:126,vRatio:.17538},{pti:129,vRatio:.394358},{pti:127,vRatio:.248372},{pti:128,vRatio:.394358},{pti:130,vRatio:.43608},{pti:131,vRatio:.394358},{pti:132,vRatio:.299467},{pti:133,vRatio:.299467},{pti:134,vRatio:.353737},{pti:135,vRatio:.43608},{pti:138,vRatio:.353737},{pti:136,vRatio:.444971},{pti:137,vRatio:.440949},{pti:139,vRatio:.43608},{pti:140,vRatio:.519518},{pti:141,vRatio:.353737},{pti:142,vRatio:.425263},{pti:143,vRatio:.519518},{pti:146,vRatio:.425263},{pti:144,vRatio:.520299},{pti:145,vRatio:.50254},{pti:147,vRatio:.519518},{pti:148,vRatio:.598737},{pti:149,vRatio:.425263},{pti:150,vRatio:.485876},{pti:151,vRatio:.598737},{pti:154,vRatio:.485876},{pti:152,vRatio:.618387},{pti:153,vRatio:.623328},{pti:155,vRatio:.598737},{pti:156,vRatio:.693358},{pti:157,vRatio:.693358},{pti:160,vRatio:.561387},{pti:158,vRatio:.709431},{pti:159,vRatio:.70554},{pti:161,vRatio:.693358},{pti:162,vRatio:.79635},{pti:163,vRatio:.561387},{pti:164,vRatio:.627934},{pti:165,vRatio:.79635},{pti:168,vRatio:.627934},{pti:166,vRatio:.804161},{pti:167,vRatio:.781423},{pti:169,vRatio:.627934},{pti:170,vRatio:.703204},{pti:171,vRatio:.870591},{pti:174,vRatio:.703204},{pti:172,vRatio:.869511},{pti:173,vRatio:.834518},{pti:175,vRatio:.255672},{pti:178,vRatio:.299467},{pti:176,vRatio:.240708},{pti:177,vRatio:.228511},{pti:181,vRatio:.255672},{pti:179,vRatio:.314066},{pti:180,vRatio:.360182},{pti:182,vRatio:.857861},{pti:185,vRatio:.733774},{pti:183,vRatio:.816504},{pti:184,vRatio:.733774},{pti:188,vRatio:.857861},{pti:186,vRatio:.733774},{pti:187,vRatio:.887058},{pti:191,vRatio:.971},{pti:189,vRatio:.828664},{pti:190,vRatio:.971},{pti:194,vRatio:.857861},{pti:192,vRatio:.971},{pti:193,vRatio:.895577},{pti:0,vRatio:.613139}],v0:143,vLength:137},{mode:"flex",pointsSpan:[{pti:5,vRatio:.322393},{pti:4,vRatio:1},{pti:6,vRatio:.322393},{pti:7,vRatio:0},{pti:10,vRatio:.322393},{pti:11,vRatio:0},{pti:48,vRatio:.786679},{pti:47,vRatio:.536679},{pti:51,vRatio:.786679},{pti:49,vRatio:.893107},{pti:50,vRatio:.876571},{pti:82,vRatio:.786679},{pti:81,vRatio:1},{pti:83,vRatio:.786679},{pti:86,vRatio:.143821},{pti:84,vRatio:.665393},{pti:85,vRatio:.4105},{pti:87,vRatio:0}],flexProportion:.893912},{mode:"affix",pointsSpan:[{pti:2,vRatio:.077459},{pti:3,vRatio:.061995},{pti:16,vRatio:.577459},{pti:15,vRatio:.569211},{pti:39,vRatio:.577459},{pti:42,vRatio:.494985},{pti:40,vRatio:.587768},{pti:41,vRatio:.561995},{pti:45,vRatio:.211479},{pti:43,vRatio:.113541},{pti:44,vRatio:.247562},{pti:46,vRatio:.010448},{pti:52,vRatio:.577459},{pti:55,vRatio:.706325},{pti:53,vRatio:.599799},{pti:54,vRatio:.65684},{pti:58,vRatio:.706325},{pti:56,vRatio:.76818},{pti:57,vRatio:.752716},{pti:61,vRatio:.577459},{pti:59,vRatio:.669211},{pti:60,vRatio:.604954},{pti:64,vRatio:.659933},{pti:62,vRatio:.611825},{pti:63,vRatio:.676428},{pti:67,vRatio:.577459},{pti:65,vRatio:.643438},{pti:66,vRatio:.598077},{pti:70,vRatio:.515603},{pti:68,vRatio:.574026},{pti:69,vRatio:.55684},{pti:73,vRatio:.299108},{pti:71,vRatio:.525912},{pti:72,vRatio:.497046},{pti:76,vRatio:.144469},{pti:74,vRatio:.263026},{pti:75,vRatio:.386737},{pti:79,vRatio:.170242},{pti:77,vRatio:.18399},{pti:78,vRatio:.244469},{pti:80,vRatio:.096015},{pti:195,vRatio:.067149},{pti:198,vRatio:.170242},{pti:196,vRatio:.036222},{pti:197,vRatio:.013541},{pti:201,vRatio:.265603},{pti:199,vRatio:.240345},{pti:200,vRatio:.263026},{pti:204,vRatio:.353232},{pti:202,vRatio:.279351},{pti:203,vRatio:.316119},{pti:207,vRatio:.265603},{pti:205,vRatio:.390345},{pti:206,vRatio:.310278},{pti:210,vRatio:.116119},{pti:208,vRatio:.220072},{pti:209,vRatio:.126428},{pti:213,vRatio:.067149},{pti:211,vRatio:.103232},{pti:212,vRatio:.147046},{pti:214,vRatio:.299108},{pti:217,vRatio:.319727},{pti:215,vRatio:.286222},{pti:216,vRatio:.286222},{pti:220,vRatio:.399624},{pti:218,vRatio:.353232},{pti:219,vRatio:.407356},{pti:223,vRatio:.368696},{pti:221,vRatio:.391892},{pti:222,vRatio:.368696},{pti:226,vRatio:.299108},{pti:224,vRatio:.368696},{pti:225,vRatio:.322304},{pti:227,vRatio:.319727},{pti:230,vRatio:.386737},{pti:228,vRatio:.319727},{pti:229,vRatio:.350655},{pti:233,vRatio:.479521},{pti:231,vRatio:.42282},{pti:232,vRatio:.443438},{pti:236,vRatio:.533644},{pti:234,vRatio:.515603},{pti:235,vRatio:.551686},{pti:239,vRatio:.453747},{pti:237,vRatio:.515603},{pti:238,vRatio:.458902},{pti:242,vRatio:.415088},{pti:240,vRatio:.448593},{pti:241,vRatio:.399624},{pti:245,vRatio:.353232},{pti:243,vRatio:.430552},{pti:244,vRatio:.386737},{pti:248,vRatio:.319727},{pti:246,vRatio:.337768},{pti:247,vRatio:.319727},{pti:1,vRatio:0}],v0:308,vLength:194}],yRanges:[{mode:"affix",pointsSpan:[{pti:28,vRatio:.926829},{pti:27,vRatio:1.162602},{pti:31,vRatio:.883821},{pti:30,vRatio:.897106},{pti:48,vRatio:.674797},{pti:47,vRatio:.674797},{pti:51,vRatio:.494407},{pti:49,vRatio:.674797},{pti:50,vRatio:.590846},{pti:67,vRatio:.926829},{pti:66,vRatio:.926829},{pti:68,vRatio:1.013553},{pti:73,vRatio:.674797},{pti:72,vRatio:.674797},{pti:76,vRatio:.373984},{pti:74,vRatio:.674797},{pti:75,vRatio:.178862},{pti:79,vRatio:.569106},{pti:77,vRatio:.444447},{pti:78,vRatio:.582114},{pti:82,vRatio:.494407},{pti:80,vRatio:.556098},{pti:81,vRatio:.513886},{pti:83,vRatio:.494407},{pti:86,vRatio:.211382},{pti:84,vRatio:.36426},{pti:85,vRatio:.211382},{pti:89,vRatio:.569106},{pti:87,vRatio:.211382},{pti:88,vRatio:.431244},{pti:90,vRatio:.569106},{pti:91,vRatio:.494407},{pti:92,vRatio:.569106},{pti:95,vRatio:.662602},{pti:93,vRatio:.610252},{pti:94,vRatio:.644089},{pti:96,vRatio:.883821},{pti:99,vRatio:.674797},{pti:97,vRatio:.693967},{pti:98,vRatio:.712789},{pti:102,vRatio:.662602},{pti:100,vRatio:.672211},{pti:101,vRatio:.668073},{pti:103,vRatio:.883821},{pti:104,vRatio:.850008},{pti:105,vRatio:.883821},{pti:108,vRatio:.850008},{pti:106,vRatio:.871463},{pti:107,vRatio:.860228},{pti:109,vRatio:.494407},{pti:112,vRatio:.845528},{pti:110,vRatio:.527439},{pti:111,vRatio:.643902},{pti:115,vRatio:.926829},{pti:113,vRatio:1.047154},{pti:114,vRatio:.98374},{pti:118,vRatio:.764228},{pti:116,vRatio:.861789},{pti:117,vRatio:.738211},{pti:121,vRatio:.850008},{pti:119,vRatio:.747984},{pti:120,vRatio:.745667},{pti:122,vRatio:.494407},{pti:123,vRatio:.47561},{pti:124,vRatio:.494407},{pti:125,vRatio:.605691},{pti:130,vRatio:.073171},{pti:131,vRatio:.02439},{pti:132,vRatio:.02439},{pti:133,vRatio:.154472},{pti:134,vRatio:.247967},{pti:135,vRatio:.073171},{pti:138,vRatio:.247967},{pti:136,vRatio:.127372},{pti:137,vRatio:.238211},{pti:139,vRatio:.073171},{pti:140,vRatio:.170732},{pti:141,vRatio:.247967},{pti:142,vRatio:.371187},{pti:143,vRatio:.170732},{pti:146,vRatio:.371187},{pti:144,vRatio:.240682},{pti:145,vRatio:.378707},{pti:147,vRatio:.170732},{pti:148,vRatio:.263354},{pti:149,vRatio:.371187},{pti:150,vRatio:.47561},{pti:151,vRatio:.263354},{pti:154,vRatio:.47561},{pti:152,vRatio:.338171},{pti:153,vRatio:.485366},{pti:155,vRatio:.263354},{pti:156,vRatio:.373984},{pti:157,vRatio:.373984},{pti:160,vRatio:.605691},{pti:158,vRatio:.463415},{pti:159,vRatio:.634959},{pti:161,vRatio:.373984},{pti:162,vRatio:.494407},{pti:163,vRatio:.605691},{pti:164,vRatio:.720341},{pti:165,vRatio:.494407},{pti:168,vRatio:.720341},{pti:166,vRatio:.56322},{pti:167,vRatio:.704748},{pti:169,vRatio:.720341},{pti:170,vRatio:.850008},{pti:171,vRatio:.662602},{pti:174,vRatio:.850008},{pti:172,vRatio:.717081},{pti:173,vRatio:.830829},{pti:195,vRatio:.674797},{pti:196,vRatio:.772358},{pti:210,vRatio:.883821},{pti:209,vRatio:.963228},{pti:213,vRatio:.674797},{pti:211,vRatio:.784553},{pti:212,vRatio:.629252}],v0:56,vLength:123},{mode:"flex",pointsSpan:[{pti:199,vRatio:1}],flexProportion:.125},{mode:"affix",pointsSpan:[{pti:29,vRatio:-.314561},{pti:45,vRatio:.95122},{pti:44,vRatio:.95122},{pti:46,vRatio:.97561},{pti:64,vRatio:.365854},{pti:63,vRatio:.873171},{pti:65,vRatio:-.141463},{pti:70,vRatio:.439024},{pti:69,vRatio:.497561},{pti:71,vRatio:-.04878},{pti:182,vRatio:.04878},{pti:185,vRatio:.54878},{pti:183,vRatio:.052854},{pti:184,vRatio:.158537},{pti:188,vRatio:.95122},{pti:186,vRatio:1.036585},{pti:187,vRatio:.95122},{pti:191,vRatio:.54878},{pti:189,vRatio:.95122},{pti:190,vRatio:.94878},{pti:194,vRatio:.04878},{pti:192,vRatio:.14878},{pti:193,vRatio:.04878},{pti:198,vRatio:.365854},{pti:197,vRatio:-.043902},{pti:201,vRatio:.95122},{pti:200,vRatio:.817073},{pti:204,vRatio:.95122},{pti:202,vRatio:1.044707},{pti:203,vRatio:1.17561},{pti:207,vRatio:.04878},{pti:206,vRatio:.256098},{pti:208,vRatio:-659e-6}],v0:181,vLength:41},{mode:"flex",pointsSpan:[{pti:61,vRatio:.214286},{pti:60,vRatio:.333357},{pti:62,vRatio:.142857},{pti:205,vRatio:0},{pti:214,vRatio:.714286},{pti:215,vRatio:.821429},{pti:223,vRatio:.714286},{pti:222,vRatio:1},{pti:226,vRatio:.714286},{pti:225,vRatio:.547643},{pti:0,vRatio:.142857}],flexProportion:.875},{mode:"affix",pointsSpan:[{pti:2,vRatio:.033784},{pti:5,vRatio:.337838},{pti:3,vRatio:.119372},{pti:4,vRatio:.3},{pti:6,vRatio:.337838},{pti:9,vRatio:.378378},{pti:7,vRatio:.375676},{pti:8,vRatio:.380628},{pti:10,vRatio:.337838},{pti:13,vRatio:.959459},{pti:11,vRatio:.456757},{pti:12,vRatio:.801804},{pti:16,vRatio:.959459},{pti:14,vRatio:.959459},{pti:15,vRatio:.959459},{pti:17,vRatio:.378378},{pti:20,vRatio:.033784},{pti:18,vRatio:.290541},{pti:19,vRatio:.098649},{pti:21,vRatio:.378378},{pti:24,vRatio:.527027},{pti:22,vRatio:.439189},{pti:23,vRatio:.554054},{pti:25,vRatio:.033784},{pti:26,vRatio:.006757},{pti:32,vRatio:.033784},{pti:35,vRatio:.337838},{pti:33,vRatio:.063061},{pti:34,vRatio:.164865},{pti:38,vRatio:.527027},{pti:36,vRatio:.510811},{pti:37,vRatio:.536034},{pti:39,vRatio:.959459},{pti:42,vRatio:.695946},{pti:40,vRatio:.959459},{pti:41,vRatio:.736486},{pti:43,vRatio:.391892},{pti:52,vRatio:.959459},{pti:55,vRatio:.493243},{pti:53,vRatio:.819818},{pti:54,vRatio:.531081},{pti:58,vRatio:.081081},{pti:56,vRatio:.445946},{pti:57,vRatio:.202703},{pti:59,vRatio:-.016216},{pti:126,vRatio:.527027},{pti:129,vRatio:.297297},{pti:127,vRatio:.49775},{pti:128,vRatio:.410811},{pti:175,vRatio:.121622},{pti:178,vRatio:.263514},{pti:176,vRatio:.144142},{pti:177,vRatio:.204054},{pti:181,vRatio:.121622},{pti:179,vRatio:.263514},{pti:180,vRatio:.162162},{pti:217,vRatio:.081081},{pti:216,vRatio:.040541},{pti:220,vRatio:.060811},{pti:218,vRatio:.121622},{pti:219,vRatio:.118243},{pti:221,vRatio:.003378},{pti:224,vRatio:-.064865},{pti:227,vRatio:.212838},{pti:230,vRatio:.472973},{pti:228,vRatio:.222973},{pti:229,vRatio:.418919},{pti:233,vRatio:.577703},{pti:231,vRatio:.527027},{pti:232,vRatio:.574324},{pti:236,vRatio:.527027},{pti:234,vRatio:.581081},{pti:235,vRatio:.581081},{pti:239,vRatio:.418919},{pti:237,vRatio:.472973},{pti:238,vRatio:.425676},{pti:242,vRatio:.263514},{pti:240,vRatio:.412162},{pti:241,vRatio:.364865},{pti:245,vRatio:.155405},{pti:243,vRatio:.162162},{pti:244,vRatio:.131757},{pti:248,vRatio:.212838},{pti:246,vRatio:.155405},{pti:247,vRatio:.189189},{pti:1,vRatio:.22973}],v0:236,vLength:148}],pointArray:[{x:227,y:224},{x:308,y:270},{x:323.027,y:241},{x:320.027,y:253.667},{x:309.027,y:280.4},{x:289.027,y:286},{x:289.027,y:286},{x:269.027,y:291.6},{x:231.361,y:292.333},{x:215.027,y:292},{x:289.027,y:286},{x:269.288,y:303.6},{x:264.136,y:354.667},{x:264.027,y:378},{x:315.361,y:378},{x:418.427,y:378},{x:420.027,y:378},{x:215.027,y:292},{x:218.027,y:279},{x:214.827,y:250.6},{x:178.027,y:241},{x:215.027,y:292},{x:212.027,y:301},{x:198.227,y:318},{x:167.027,y:314},{x:178.027,y:241},{x:175.027,y:237},{x:197.027,y:199},{x:235.027,y:170},{x:237.512,y:168.103},{x:239.844,y:166.344},{x:242.027,y:164.71},{x:178.027,y:241},{x:164.694,y:245.333},{x:139.627,y:260.4},{x:146.027,y:286},{x:152.427,y:311.6},{x:162.694,y:315.333},{x:167.027,y:314},{x:420.027,y:378},{x:422.027,y:378},{x:417.027,y:345},{x:404.027,y:339},{x:330.027,y:294},{x:356.027,y:220},{x:349.027,y:220},{x:310.027,y:221},{x:295.027,y:139},{x:302.027,y:139},{x:305.007,y:139},{x:304.544,y:128.674},{x:302.027,y:116.812},{x:420.027,y:378},{x:424.361,y:357.333},{x:435.427,y:314.6},{x:445.027,y:309},{x:457.027,y:302},{x:454.027,y:266},{x:445.027,y:248},{x:437.827,y:233.6},{x:425.361,y:226.667},{x:420.027,y:225},{x:426.694,y:224},{x:439.227,y:216.8},{x:436.027,y:196},{x:432.827,y:175.2},{x:424.027,y:170},{x:420.027,y:170},{x:419.361,y:180.667},{x:416.027,y:201.4},{x:408.027,y:199},{x:410.027,y:179},{x:404.427,y:139},{x:366.027,y:139},{x:359.027,y:139},{x:383.027,y:78},{x:336.027,y:102},{x:343.694,y:110.667},{x:355.427,y:127.6},{x:341.027,y:126},{x:326.627,y:124.4},{x:309.027,y:119.208},{x:302.027,y:116.812},{x:302.027,y:116.812},{x:298.631,y:100.804},{x:291.494,y:82},{x:284.027,y:82},{x:274.652,y:82},{x:262.677,y:109.043},{x:260.853,y:126},{x:260.853,y:126},{x:252.1,y:116.812},{x:260.853,y:126},{x:260.308,y:131.061},{x:260.668,y:135.223},{x:262.271,y:137.5},{x:242.027,y:164.71},{x:273.233,y:141.358},{x:274.308,y:143.673},{x:264.027,y:139},{x:263.327,y:138.682},{x:262.745,y:138.173},{x:262.271,y:137.5},{x:242.027,y:164.71},{x:239.339,y:160.551},{x:242.027,y:164.71},{x:241.171,y:163.19},{x:240.271,y:161.808},{x:239.339,y:160.551},{x:211.06,y:116.812},{x:199.049,y:120.875},{x:177.227,y:135.2},{x:186.027,y:160},{x:194.827,y:184.8},{x:214.361,y:177},{x:223.027,y:170},{x:215.049,y:162},{x:201.486,y:146.8},{x:211.06,y:150},{x:216.818,y:148.002},{x:229.813,y:147.717},{x:239.339,y:160.551},{x:211.06,y:116.812},{x:209.565,y:114.5},{x:211.06,y:116.812},{x:219.91,y:130.5},{x:167.027,y:314},{x:177.027,y:309.667},{x:197.027,y:296.8},{x:197.027,y:280},{x:202.743,y:65},{x:197.027,y:59},{x:184.027,y:59},{x:184.027,y:75},{x:191.462,y:86.5},{x:202.743,y:65},{x:203.961,y:71.6667},{x:203.41,y:85.3},{x:191.462,y:86.5},{x:202.743,y:65},{x:214.174,y:77},{x:191.462,y:86.5},{x:201.261,y:101.656},{x:214.174,y:77},{x:214.281,y:85.6039},{x:211.848,y:102.581},{x:201.261,y:101.656},{x:214.174,y:77},{x:225.027,y:88.3926},{x:201.261,y:101.656},{x:209.565,y:114.5},{x:225.027,y:88.3926},{x:227.719,y:97.595},{x:228.396,y:115.7},{x:209.565,y:114.5},{x:225.027,y:88.3926},{x:237.99,y:102},{x:237.99,y:102},{x:240.192,y:113},{x:239.659,y:134.1},{x:219.91,y:130.5},{x:237.99,y:102},{x:252.1,y:116.812},{x:219.91,y:130.5},{x:229.027,y:144.602},{x:252.1,y:116.812},{x:253.17,y:125.276},{x:250.055,y:142.684},{x:229.027,y:144.602},{x:229.027,y:144.602},{x:239.339,y:160.551},{x:262.271,y:137.5},{x:262.123,y:144.201},{x:257.329,y:158.192},{x:239.339,y:160.551},{x:178.027,y:254},{x:175.977,y:257.333},{x:174.306,y:266.2},{x:184.027,y:275},{x:186.027,y:275},{x:192.345,y:260},{x:178.027,y:254},{x:260.527,y:183},{x:254.861,y:183.167},{x:243.527,y:187.5},{x:243.527,y:203.5},{x:243.527,y:223.5},{x:264.527,y:220},{x:260.527,y:220},{x:256.527,y:220},{x:276.027,y:219.9},{x:276.027,y:203.5},{x:276.027,y:187.1},{x:265.694,y:183},{x:260.527,y:183},{x:321.027,y:139},{x:315.027,y:151},{x:310.627,y:179.2},{x:341.027,y:196},{x:354.627,y:202},{x:359.027,y:214.5},{x:359.527,y:220},{x:362.194,y:223.833},{x:369.327,y:229.2},{x:376.527,y:220},{x:383.727,y:210.8},{x:368.194,y:191.5},{x:359.527,y:183},{x:350.694,y:180.973},{x:332.527,y:174.477},{x:330.527,y:164.71},{x:328.027,y:152.5},{x:336.527,y:133.398},{x:321.027,y:139},{x:366.027,y:232},{x:363.527,y:233.5},{x:363.527,y:242},{x:370.027,y:248},{x:376.527,y:254},{x:387.027,y:253.5},{x:385.527,y:245},{x:384.027,y:236.5},{x:379.527,y:239},{x:379.527,y:232},{x:379.527,y:226.4},{x:370.527,y:229.667},{x:366.027,y:232},{x:370.027,y:267.5},{x:370.027,y:269},{x:376.027,y:298},{x:383.027,y:306},{x:390.027,y:314},{x:394.027,y:321},{x:401.027,y:321.5},{x:408.027,y:322},{x:415.027,y:322},{x:411.527,y:314},{x:408.027,y:306},{x:397.027,y:299},{x:396.027,y:298},{x:395.027,y:297},{x:385.527,y:290},{x:388.527,y:275},{x:391.527,y:260},{x:383.027,y:255.5},{x:376.527,y:259},{x:373.527,y:259},{x:370.027,y:264},{x:370.027,y:267.5}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"move",pti:6},{type:"cubic-bezier-to",cp0:7,cp1:8,pti:9},{type:"move",pti:10},{type:"cubic-bezier-to",cp0:11,cp1:12,pti:13},{type:"cubic-bezier-to",cp0:14,cp1:15,pti:16},{type:"move",pti:17},{type:"cubic-bezier-to",cp0:18,cp1:19,pti:20},{type:"move",pti:21},{type:"cubic-bezier-to",cp0:22,cp1:23,pti:24},{type:"move",pti:25},{type:"cubic-bezier-to",cp0:26,cp1:27,pti:28},{type:"cubic-bezier-to",cp0:29,cp1:30,pti:31},{type:"move",pti:32},{type:"cubic-bezier-to",cp0:33,cp1:34,pti:35},{type:"cubic-bezier-to",cp0:36,cp1:37,pti:38},{type:"move",pti:39},{type:"cubic-bezier-to",cp0:40,cp1:41,pti:42},{type:"cubic-bezier-to",cp0:43,cp1:44,pti:45},{type:"cubic-bezier-to",cp0:46,cp1:47,pti:48},{type:"cubic-bezier-to",cp0:49,cp1:50,pti:51},{type:"move",pti:52},{type:"cubic-bezier-to",cp0:53,cp1:54,pti:55},{type:"cubic-bezier-to",cp0:56,cp1:57,pti:58},{type:"cubic-bezier-to",cp0:59,cp1:60,pti:61},{type:"cubic-bezier-to",cp0:62,cp1:63,pti:64},{type:"cubic-bezier-to",cp0:65,cp1:66,pti:67},{type:"cubic-bezier-to",cp0:68,cp1:69,pti:70},{type:"cubic-bezier-to",cp0:71,cp1:72,pti:73},{type:"cubic-bezier-to",cp0:74,cp1:75,pti:76},{type:"cubic-bezier-to",cp0:77,cp1:78,pti:79},{type:"cubic-bezier-to",cp0:80,cp1:81,pti:82},{type:"move",pti:83},{type:"cubic-bezier-to",cp0:84,cp1:85,pti:86},{type:"cubic-bezier-to",cp0:87,cp1:88,pti:89},{type:"move",pti:90},{type:"line-to",pti:91},{type:"move",pti:92},{type:"cubic-bezier-to",cp0:93,cp1:94,pti:95},{type:"move",pti:96},{type:"cubic-bezier-to",cp0:97,cp1:98,pti:99},{type:"cubic-bezier-to",cp0:100,cp1:101,pti:102},{type:"move",pti:103},{type:"line-to",pti:104},{type:"move",pti:105},{type:"cubic-bezier-to",cp0:106,cp1:107,pti:108},{type:"move",pti:109},{type:"cubic-bezier-to",cp0:110,cp1:111,pti:112},{type:"cubic-bezier-to",cp0:113,cp1:114,pti:115},{type:"cubic-bezier-to",cp0:116,cp1:117,pti:118},{type:"cubic-bezier-to",cp0:119,cp1:120,pti:121},{type:"move",pti:122},{type:"line-to",pti:123},{type:"move",pti:124},{type:"line-to",pti:125},{type:"move",pti:126},{type:"cubic-bezier-to",cp0:127,cp1:128,pti:129},{type:"move",pti:130},{type:"line-to",pti:131},{type:"line-to",pti:132},{type:"line-to",pti:133},{type:"line-to",pti:134},{type:"move",pti:135},{type:"cubic-bezier-to",cp0:136,cp1:137,pti:138},{type:"move",pti:139},{type:"line-to",pti:140},{type:"move",pti:141},{type:"line-to",pti:142},{type:"move",pti:143},{type:"cubic-bezier-to",cp0:144,cp1:145,pti:146},{type:"move",pti:147},{type:"line-to",pti:148},{type:"move",pti:149},{type:"line-to",pti:150},{type:"move",pti:151},{type:"cubic-bezier-to",cp0:152,cp1:153,pti:154},{type:"move",pti:155},{type:"line-to",pti:156},{type:"move",pti:157},{type:"cubic-bezier-to",cp0:158,cp1:159,pti:160},{type:"move",pti:161},{type:"line-to",pti:162},{type:"move",pti:163},{type:"line-to",pti:164},{type:"move",pti:165},{type:"cubic-bezier-to",cp0:166,cp1:167,pti:168},{type:"move",pti:169},{type:"line-to",pti:170},{type:"move",pti:171},{type:"cubic-bezier-to",cp0:172,cp1:173,pti:174},{type:"move",pti:175},{type:"cubic-bezier-to",cp0:176,cp1:177,pti:178},{type:"cubic-bezier-to",cp0:179,cp1:180,pti:181},{type:"move",pti:182},{type:"cubic-bezier-to",cp0:183,cp1:184,pti:185},{type:"cubic-bezier-to",cp0:186,cp1:187,pti:188},{type:"cubic-bezier-to",cp0:189,cp1:190,pti:191},{type:"cubic-bezier-to",cp0:192,cp1:193,pti:194},{type:"move",pti:195},{type:"cubic-bezier-to",cp0:196,cp1:197,pti:198},{type:"cubic-bezier-to",cp0:199,cp1:200,pti:201},{type:"cubic-bezier-to",cp0:202,cp1:203,pti:204},{type:"cubic-bezier-to",cp0:205,cp1:206,pti:207},{type:"cubic-bezier-to",cp0:208,cp1:209,pti:210},{type:"cubic-bezier-to",cp0:211,cp1:212,pti:213},{type:"move",pti:214},{type:"cubic-bezier-to",cp0:215,cp1:216,pti:217},{type:"cubic-bezier-to",cp0:218,cp1:219,pti:220},{type:"cubic-bezier-to",cp0:221,cp1:222,pti:223},{type:"cubic-bezier-to",cp0:224,cp1:225,pti:226},{type:"move",pti:227},{type:"cubic-bezier-to",cp0:228,cp1:229,pti:230},{type:"cubic-bezier-to",cp0:231,cp1:232,pti:233},{type:"cubic-bezier-to",cp0:234,cp1:235,pti:236},{type:"cubic-bezier-to",cp0:237,cp1:238,pti:239},{type:"cubic-bezier-to",cp0:240,cp1:241,pti:242},{type:"cubic-bezier-to",cp0:243,cp1:244,pti:245},{type:"cubic-bezier-to",cp0:246,cp1:247,pti:248}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-5.372752,y:-3},designerSize:{w:307.942025,h:319},mostCompactAffixedSize:{w:276.619025,h:303},resizeMode:"scale-first"},connector:{id:"connector",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.502146},{pti:5,vRatio:.935622},{pti:3,vRatio:.741549},{pti:4,vRatio:.935622},{pti:8,vRatio:.502146},{pti:6,vRatio:.935622},{pti:7,vRatio:.741549},{pti:11,vRatio:.06867},{pti:9,vRatio:.262743},{pti:10,vRatio:.06867},{pti:14,vRatio:.502146},{pti:12,vRatio:.06867},{pti:13,vRatio:.262743},{pti:15,vRatio:.06867},{pti:16,vRatio:.502146},{pti:17,vRatio:.935622},{pti:18,vRatio:.502146},{pti:0,vRatio:.06867},{pti:1,vRatio:.935622}],v0:0,vLength:233}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.935622},{pti:5,vRatio:.502146},{pti:3,vRatio:.935622},{pti:4,vRatio:.741549},{pti:8,vRatio:.06867},{pti:6,vRatio:.262743},{pti:7,vRatio:.06867},{pti:11,vRatio:.502146},{pti:9,vRatio:.06867},{pti:10,vRatio:.262743},{pti:14,vRatio:.935622},{pti:12,vRatio:.741549},{pti:13,vRatio:.935622},{pti:15,vRatio:.502146},{pti:16,vRatio:.06867},{pti:17,vRatio:.502146},{pti:18,vRatio:.935622},{pti:0,vRatio:.06867},{pti:1,vRatio:.935622}],v0:0,vLength:233}],pointArray:[{x:16,y:16},{x:218,y:218},{x:117,y:218},{x:172.781,y:218},{x:218,y:172.781},{x:218,y:117},{x:218,y:61.2192},{x:172.781,y:16},{x:117,y:16},{x:61.2192,y:16},{x:16,y:61.2192},{x:16,y:117},{x:16,y:172.781},{x:61.2192,y:218},{x:117,y:218},{x:16,y:117},{x:117,y:16},{x:218,y:117},{x:117,y:218}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"cubic-bezier-to",cp0:6,cp1:7,pti:8},{type:"cubic-bezier-to",cp0:9,cp1:10,pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[15,16,17,18],designerOffset:{x:-16,y:-16},designerSize:{w:202,h:202},mostCompactAffixedSize:{w:202,h:202},resizeMode:"scale-first"},cross:{id:"cross",xRanges:[{mode:"affix",pointsSpan:[{pti:19,vRatio:.712665},{pti:22,vRatio:.5},{pti:20,vRatio:.5957},{pti:21,vRatio:.5},{pti:23,vRatio:.5},{pti:26,vRatio:.712665},{pti:24,vRatio:.5},{pti:25,vRatio:.5957},{pti:0,vRatio:.5}],v0:0,vLength:20},{mode:"flex",pointsSpan:[],flexProportion:.242321},{mode:"affix",pointsSpan:[{pti:11,vRatio:.6637},{pti:14,vRatio:.451},{pti:12,vRatio:.5467},{pti:13,vRatio:.451},{pti:15,vRatio:.451},{pti:18,vRatio:.238355},{pti:16,vRatio:.451},{pti:17,vRatio:.35532},{pti:27,vRatio:.238355},{pti:30,vRatio:.451},{pti:28,vRatio:.35532},{pti:29,vRatio:.451},{pti:31,vRatio:.451},{pti:34,vRatio:.6637},{pti:32,vRatio:.451},{pti:33,vRatio:.5467}],v0:91,vLength:20},{mode:"flex",pointsSpan:[],flexProportion:.518771},{mode:"affix",pointsSpan:[{pti:3,vRatio:.71165},{pti:6,vRatio:.49895},{pti:4,vRatio:.59465},{pti:5,vRatio:.49895},{pti:7,vRatio:.49895},{pti:10,vRatio:.2863},{pti:8,vRatio:.49895},{pti:9,vRatio:.40325},{pti:35,vRatio:.2863},{pti:38,vRatio:.49895},{pti:36,vRatio:.40325},{pti:37,vRatio:.49895},{pti:39,vRatio:.49895},{pti:42,vRatio:.71165},{pti:40,vRatio:.49895},{pti:41,vRatio:.59465}],v0:263,vLength:20},{mode:"flex",pointsSpan:[],flexProportion:.238908},{mode:"affix",pointsSpan:[{pti:2,vRatio:.28735},{pti:43,vRatio:.28735},{pti:46,vRatio:.5},{pti:44,vRatio:.4043},{pti:45,vRatio:.5},{pti:47,vRatio:.5},{pti:50,vRatio:.28735},{pti:48,vRatio:.5},{pti:49,vRatio:.4043},{pti:1,vRatio:.5}],v0:353,vLength:20}],yRanges:[{mode:"affix",pointsSpan:[{pti:7,vRatio:.712665},{pti:10,vRatio:.5},{pti:8,vRatio:.5957},{pti:9,vRatio:.5},{pti:11,vRatio:.5},{pti:14,vRatio:.712665},{pti:12,vRatio:.5},{pti:13,vRatio:.5957}],v0:0,vLength:20},{mode:"flex",pointsSpan:[],flexProportion:.243986},{mode:"affix",pointsSpan:[{pti:2,vRatio:.451},{pti:3,vRatio:.451},{pti:6,vRatio:.23836},{pti:4,vRatio:.451},{pti:5,vRatio:.355325},{pti:15,vRatio:.23836},{pti:18,vRatio:.451},{pti:16,vRatio:.355325},{pti:17,vRatio:.451},{pti:19,vRatio:.451},{pti:22,vRatio:.6637},{pti:20,vRatio:.451},{pti:21,vRatio:.5467},{pti:47,vRatio:.6637},{pti:50,vRatio:.451},{pti:48,vRatio:.5467},{pti:49,vRatio:.451},{pti:0,vRatio:.5}],v0:91,vLength:20},{mode:"flex",pointsSpan:[],flexProportion:.5189},{mode:"affix",pointsSpan:[{pti:23,vRatio:.3363},{pti:26,vRatio:.549},{pti:24,vRatio:.4533},{pti:25,vRatio:.549},{pti:27,vRatio:.549},{pti:30,vRatio:.76165},{pti:28,vRatio:.549},{pti:29,vRatio:.64465},{pti:39,vRatio:.76165},{pti:42,vRatio:.549},{pti:40,vRatio:.64465},{pti:41,vRatio:.549},{pti:43,vRatio:.549},{pti:46,vRatio:.3363},{pti:44,vRatio:.549},{pti:45,vRatio:.4533},{pti:1,vRatio:.5}],v0:262,vLength:20},{mode:"flex",pointsSpan:[],flexProportion:.237113},{mode:"affix",pointsSpan:[{pti:31,vRatio:.38735},{pti:34,vRatio:.6},{pti:32,vRatio:.5043},{pti:33,vRatio:.6},{pti:35,vRatio:.6},{pti:38,vRatio:.38735},{pti:36,vRatio:.6},{pti:37,vRatio:.5043}],v0:351,vLength:20}],pointArray:[{x:10,y:101},{x:363,y:272},{x:358.747,y:100.02},{x:277.233,y:100.02},{x:274.893,y:100.02},{x:272.979,y:98.1065},{x:272.979,y:95.7672},{x:272.979,y:14.2533},{x:272.979,y:11.914},{x:271.065,y:10},{x:268.726,y:10},{x:104.274,y:10},{x:101.934,y:10},{x:100.02,y:11.914},{x:100.02,y:14.2533},{x:100.02,y:95.7672},{x:100.02,y:98.1065},{x:98.1064,y:100.02},{x:95.7671,y:100.02},{x:14.2533,y:100.02},{x:11.914,y:100.02},{x:10,y:101.934},{x:10,y:104.274},{x:10,y:268.726},{x:10,y:271.066},{x:11.914,y:272.98},{x:14.2533,y:272.98},{x:95.7671,y:272.98},{x:98.1064,y:272.98},{x:100.02,y:274.893},{x:100.02,y:277.233},{x:100.02,y:358.747},{x:100.02,y:361.086},{x:101.934,y:363},{x:104.274,y:363},{x:268.726,y:363},{x:271.065,y:363},{x:272.979,y:361.086},{x:272.979,y:358.747},{x:272.979,y:277.233},{x:272.979,y:274.893},{x:274.893,y:272.98},{x:277.233,y:272.98},{x:358.747,y:272.98},{x:361.086,y:272.98},{x:363,y:271.066},{x:363,y:268.726},{x:363,y:104.274},{x:363,y:101.934},{x:361.086,y:100.02},{x:358.747,y:100.02}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30},{type:"line-to",pti:31},{type:"cubic-bezier-to",cp0:32,cp1:33,pti:34},{type:"line-to",pti:35},{type:"cubic-bezier-to",cp0:36,cp1:37,pti:38},{type:"line-to",pti:39},{type:"cubic-bezier-to",cp0:40,cp1:41,pti:42},{type:"line-to",pti:43},{type:"cubic-bezier-to",cp0:44,cp1:45,pti:46},{type:"line-to",pti:47},{type:"cubic-bezier-to",cp0:48,cp1:49,pti:50}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-10,y:-10},designerSize:{w:353,h:353},mostCompactAffixedSize:{w:60,h:62},resizeMode:"scale-first"},data:{id:"data",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.172004},{pti:6,vRatio:.142288},{pti:4,vRatio:.153301},{pti:5,vRatio:.139121},{pti:7,vRatio:.494165},{pti:10,vRatio:.523877},{pti:8,vRatio:.496578},{pti:9,vRatio:.509247},{pti:0,vRatio:.510638}],v0:0,vLength:141},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.403835},{pti:11,vRatio:.76077},{pti:14,vRatio:.790914},{pti:12,vRatio:.779748},{pti:13,vRatio:.794129},{pti:15,vRatio:.433978},{pti:18,vRatio:.403835},{pti:16,vRatio:.431532},{pti:17,vRatio:.418676},{pti:1,vRatio:.42446}],v0:304,vLength:139}],yRanges:[{mode:"affix",pointsSpan:[{pti:10,vRatio:0},{pti:9,vRatio:0},{pti:11,vRatio:0},{pti:12,vRatio:0}],v0:12,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.983978},{pti:5,vRatio:.992452},{pti:7,vRatio:.011438},{pti:8,vRatio:.004769},{pti:14,vRatio:.016023},{pti:13,vRatio:.007548},{pti:15,vRatio:.988562},{pti:16,vRatio:.99523},{pti:0,vRatio:.006375},{pti:1,vRatio:.993625}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:1},{pti:3,vRatio:1},{pti:4,vRatio:1},{pti:18,vRatio:1},{pti:17,vRatio:1}],v0:317.95,vLength:.05}],pointArray:[{x:72,y:14},{x:363,y:316},{x:360.133,y:318},{x:24.2525,y:318},{x:21.6155,y:318},{x:19.616,y:315.641},{x:20.0626,y:313.049},{x:69.6772,y:15.5488},{x:70.0175,y:13.5088},{x:71.8038,y:12},{x:73.8666,y:12},{x:409.747,y:12},{x:412.385,y:12},{x:414.384,y:14.3589},{x:413.937,y:16.9514},{x:364.323,y:314.451},{x:363.983,y:316.491},{x:362.196,y:318},{x:360.133,y:318}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-19.999997,y:0},designerSize:{w:393.999722,h:306},mostCompactAffixedSize:{w:230.999722,h:.1},resizeMode:"scale-first"},database:{id:"database",xRanges:[{mode:"affix",pointsSpan:[{pti:8,vRatio:0},{pti:7,vRatio:0},{pti:15,vRatio:0},{pti:14,vRatio:0},{pti:23,vRatio:0},{pti:22,vRatio:0},{pti:24,vRatio:0},{pti:0,vRatio:0}],v0:18,vLength:.05},{mode:"flex",pointsSpan:[{pti:5,vRatio:.5},{pti:4,vRatio:.776237},{pti:6,vRatio:.223764},{pti:12,vRatio:.5},{pti:11,vRatio:.776237},{pti:13,vRatio:.223764},{pti:20,vRatio:.5},{pti:19,vRatio:.776237},{pti:21,vRatio:.223764}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:1},{pti:3,vRatio:1},{pti:9,vRatio:1},{pti:10,vRatio:1},{pti:16,vRatio:1},{pti:17,vRatio:1},{pti:18,vRatio:1},{pti:1,vRatio:1}],v0:315.95,vLength:.05}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.429092},{pti:5,vRatio:.758187},{pti:3,vRatio:.610767},{pti:4,vRatio:.758187},{pti:8,vRatio:.429092},{pti:6,vRatio:.758187},{pti:7,vRatio:.610767},{pti:9,vRatio:.429092},{pti:12,vRatio:.1},{pti:10,vRatio:.247417},{pti:11,vRatio:.1},{pti:15,vRatio:.429092},{pti:13,vRatio:.1},{pti:14,vRatio:.247417},{pti:16,vRatio:.429092},{pti:24,vRatio:.429092},{pti:0,vRatio:.855556}],v0:5,vLength:90},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:17,vRatio:.504233},{pti:20,vRatio:.833333},{pti:18,vRatio:.685911},{pti:19,vRatio:.833333},{pti:23,vRatio:.504233},{pti:21,vRatio:.833333},{pti:22,vRatio:.685911},{pti:1,vRatio:.5}],v0:256,vLength:90}],pointArray:[{x:18,y:82},{x:316,y:301},{x:316,y:43.6183},{x:316,y:59.969},{x:249.291,y:73.2368},{x:167,y:73.2368},{x:84.7094,y:73.2368},{x:18,y:59.969},{x:18,y:43.6183},{x:316,y:43.6183},{x:316,y:27.2675},{x:249.291,y:14},{x:167,y:14},{x:84.7094,y:14},{x:18,y:27.2675},{x:18,y:43.6183},{x:316,y:43.6183},{x:316,y:301.381},{x:316,y:317.732},{x:249.291,y:331},{x:167,y:331},{x:84.7094,y:331},{x:18,y:317.732},{x:18,y:301.381},{x:18,y:43.6183}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"cubic-bezier-to",cp0:6,cp1:7,pti:8},{type:"move",pti:9},{type:"cubic-bezier-to",cp0:10,cp1:11,pti:12},{type:"cubic-bezier-to",cp0:13,cp1:14,pti:15},{type:"move",pti:16},{type:"line-to",pti:17},{type:"cubic-bezier-to",cp0:18,cp1:19,pti:20},{type:"cubic-bezier-to",cp0:21,cp1:22,pti:23},{type:"line-to",pti:24}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:0,y:-9},designerSize:{w:298,h:317},mostCompactAffixedSize:{w:.1,h:156},resizeMode:"scale-first"},delay:{id:"delay",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.488127},{pti:10,vRatio:.488127},{pti:13,vRatio:.419355},{pti:11,vRatio:.450302},{pti:12,vRatio:.419355},{pti:14,vRatio:.419355},{pti:17,vRatio:.488127},{pti:15,vRatio:.419355},{pti:16,vRatio:.450302},{pti:18,vRatio:.419355},{pti:0,vRatio:.419355}],v0:-6,vLength:62},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:3,vRatio:.058333},{pti:6,vRatio:.911111},{pti:4,vRatio:.529017},{pti:5,vRatio:.911111},{pti:9,vRatio:.058333},{pti:7,vRatio:.911111},{pti:8,vRatio:.529017},{pti:19,vRatio:.055556},{pti:20,vRatio:.911111},{pti:21,vRatio:.055556},{pti:1,vRatio:.788889}],v0:163,vLength:180}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:0},{pti:3,vRatio:0},{pti:4,vRatio:0},{pti:17,vRatio:0},{pti:16,vRatio:0},{pti:19,vRatio:0},{pti:0,vRatio:0}],v0:20,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.5},{pti:5,vRatio:.223938},{pti:7,vRatio:.776064},{pti:13,vRatio:.98627},{pti:12,vRatio:.993913},{pti:14,vRatio:.01373},{pti:15,vRatio:.006089},{pti:18,vRatio:.5},{pti:20,vRatio:.5}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:9,vRatio:1},{pti:8,vRatio:1},{pti:10,vRatio:1},{pti:11,vRatio:1},{pti:21,vRatio:1},{pti:1,vRatio:1}],v0:325.95,vLength:.05}],pointArray:[{x:20,y:20},{x:305,y:326},{x:24.2639,y:20},{x:173.5,y:20},{x:258.223,y:20},{x:327,y:88.5525},{x:327,y:173},{x:327,y:257.448},{x:258.223,y:326},{x:173.5,y:326},{x:24.2639,y:326},{x:21.9187,y:326},{x:20,y:324.088},{x:20,y:321.75},{x:20,y:24.25},{x:20,y:21.9125},{x:21.9187,y:20},{x:24.2639,y:20},{x:20,y:173},{x:173,y:20},{x:327,y:173},{x:173,y:326}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"cubic-bezier-to",cp0:7,cp1:8,pti:9},{type:"line-to",pti:10},{type:"cubic-bezier-to",cp0:11,cp1:12,pti:13},{type:"line-to",pti:14},{type:"cubic-bezier-to",cp0:15,cp1:16,pti:17}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[18,19,20,21],designerOffset:{x:-26,y:0},designerSize:{w:307,h:306},mostCompactAffixedSize:{w:200,h:.1},resizeMode:"scale-first"},direct_data:{id:"direct_data",xRanges:[{mode:"affix",pointsSpan:[{pti:17,vRatio:.35703},{pti:20,vRatio:.09009},{pti:18,vRatio:.209666},{pti:19,vRatio:.09009},{pti:23,vRatio:.35703},{pti:21,vRatio:.09009},{pti:22,vRatio:.209666},{pti:0,vRatio:.36036}],v0:0,vLength:111},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.516847},{pti:5,vRatio:.249901},{pti:3,vRatio:.369477},{pti:4,vRatio:.249901},{pti:8,vRatio:.516847},{pti:6,vRatio:.249901},{pti:7,vRatio:.369477},{pti:9,vRatio:.516847},{pti:12,vRatio:.783784},{pti:10,vRatio:.664207},{pti:11,vRatio:.783784},{pti:15,vRatio:.516847},{pti:13,vRatio:.783784},{pti:14,vRatio:.664207},{pti:16,vRatio:.516847},{pti:24,vRatio:.516847},{pti:1,vRatio:.189189}],v0:322,vLength:111}],yRanges:[{mode:"affix",pointsSpan:[{pti:8,vRatio:0},{pti:7,vRatio:0},{pti:15,vRatio:0},{pti:14,vRatio:0},{pti:23,vRatio:0},{pti:22,vRatio:0},{pti:24,vRatio:0},{pti:0,vRatio:0}],v0:20,vLength:.05},{mode:"flex",pointsSpan:[{pti:5,vRatio:.5},{pti:4,vRatio:.776237},{pti:6,vRatio:.223764},{pti:12,vRatio:.5},{pti:11,vRatio:.776237},{pti:13,vRatio:.223764},{pti:20,vRatio:.5},{pti:19,vRatio:.776237},{pti:21,vRatio:.223764}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:1},{pti:3,vRatio:1},{pti:9,vRatio:1},{pti:10,vRatio:1},{pti:16,vRatio:1},{pti:17,vRatio:1},{pti:18,vRatio:1},{pti:1,vRatio:1}],v0:317.95,vLength:.05}],pointArray:[{x:40,y:20},{x:343,y:318},{x:379.37,y:318},{x:363.012,y:318},{x:349.739,y:251.291},{x:349.739,y:169},{x:349.739,y:86.7094},{x:363.012,y:20},{x:379.37,y:20},{x:379.37,y:318},{x:395.727,y:318},{x:409,y:251.291},{x:409,y:169},{x:409,y:86.7094},{x:395.727,y:20},{x:379.37,y:20},{x:379.37,y:318},{x:39.6303,y:318},{x:23.2729,y:318},{x:10,y:251.291},{x:10,y:169},{x:10,y:86.7094},{x:23.2729,y:20},{x:39.6303,y:20},{x:379.37,y:20}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"cubic-bezier-to",cp0:6,cp1:7,pti:8},{type:"move",pti:9},{type:"cubic-bezier-to",cp0:10,cp1:11,pti:12},{type:"cubic-bezier-to",cp0:13,cp1:14,pti:15},{type:"move",pti:16},{type:"line-to",pti:17},{type:"cubic-bezier-to",cp0:18,cp1:19,pti:20},{type:"cubic-bezier-to",cp0:21,cp1:22,pti:23},{type:"line-to",pti:24}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-10,y:0},designerSize:{w:399,h:298},mostCompactAffixedSize:{w:188,h:.1},resizeMode:"scale-first"},display:{id:"display",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.782078},{pti:16,vRatio:.776906},{pti:19,vRatio:.742624},{pti:17,vRatio:.76235},{pti:18,vRatio:.749137},{pti:20,vRatio:.094112},{pti:23,vRatio:.094112},{pti:21,vRatio:.088749},{pti:22,vRatio:.088749},{pti:24,vRatio:.747986},{pti:27,vRatio:.782269},{pti:25,vRatio:.754497},{pti:26,vRatio:.767714},{pti:28,vRatio:.782078},{pti:0,vRatio:.783784}],v0:0,vLength:111},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:3,vRatio:.444},{pti:6,vRatio:.473108},{pti:4,vRatio:.455306},{pti:5,vRatio:.465838},{pti:9,vRatio:.765766},{pti:7,vRatio:.597793},{pti:8,vRatio:.765766},{pti:12,vRatio:.473108},{pti:10,vRatio:.765766},{pti:11,vRatio:.593586},{pti:15,vRatio:.444},{pti:13,vRatio:.465838},{pti:14,vRatio:.455108},{pti:1,vRatio:.468468}],v0:322,vLength:111}],yRanges:[{mode:"affix",pointsSpan:[{pti:15,vRatio:0},{pti:14,vRatio:0},{pti:16,vRatio:0},{pti:17,vRatio:0},{pti:0,vRatio:0}],v0:20,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.995166},{pti:5,vRatio:.998382},{pti:9,vRatio:.5},{pti:7,vRatio:.941648},{pti:8,vRatio:.767234},{pti:12,vRatio:.004834},{pti:10,vRatio:.233053},{pti:11,vRatio:.056994},{pti:13,vRatio:.001689},{pti:19,vRatio:.007763},{pti:18,vRatio:.002905},{pti:20,vRatio:.493642},{pti:23,vRatio:.506432},{pti:21,vRatio:.497644},{pti:22,vRatio:.50243},{pti:24,vRatio:.992306},{pti:25,vRatio:.997167}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:1},{pti:3,vRatio:1},{pti:4,vRatio:1},{pti:27,vRatio:1},{pti:26,vRatio:1},{pti:28,vRatio:1},{pti:1,vRatio:1}],v0:317.95,vLength:.05}],pointArray:[{x:87,y:20},{x:374,y:318},{x:86.8107,y:318},{x:371.284,y:318},{x:372.539,y:318},{x:373.708,y:317.468},{x:374.515,y:316.51},{x:388.355,y:300.567},{x:407,y:248.609},{x:407,y:169},{x:407,y:89.4766},{x:387.888,y:37.0285},{x:374.515,y:21.4899},{x:373.708,y:20.5533},{x:372.517,y:20},{x:371.284,y:20},{x:86.2366,y:20},{x:84.6209,y:20},{x:83.1542,y:20.9153},{x:82.4313,y:22.3627},{x:10.4464,y:167.106},{x:9.85118,y:168.298},{x:9.85118,y:169.724},{x:10.4464,y:170.916},{x:83.0264,y:315.658},{x:83.7492,y:317.106},{x:85.2162,y:318},{x:86.8319,y:318},{x:86.8107,y:318}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"cubic-bezier-to",cp0:7,cp1:8,pti:9},{type:"cubic-bezier-to",cp0:10,cp1:11,pti:12},{type:"cubic-bezier-to",cp0:13,cp1:14,pti:15},{type:"line-to",pti:16},{type:"cubic-bezier-to",cp0:17,cp1:18,pti:19},{type:"line-to",pti:20},{type:"cubic-bezier-to",cp0:21,cp1:22,pti:23},{type:"line-to",pti:24},{type:"cubic-bezier-to",cp0:25,cp1:26,pti:27},{type:"line-to",pti:28}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-9.999985,y:0},designerSize:{w:397.000015,h:298},mostCompactAffixedSize:{w:186.000015,h:.1},resizeMode:"scale-first"},document:{id:"document",xRanges:[{mode:"affix",pointsSpan:[{pti:11,vRatio:.261345},{pti:10,vRatio:.442438},{pti:14,vRatio:.235294},{pti:12,vRatio:.245314},{pti:13,vRatio:.235294},{pti:15,vRatio:.235294},{pti:18,vRatio:.285389},{pti:16,vRatio:.235294},{pti:17,vRatio:.257836},{pti:0,vRatio:.258824}],v0:0,vLength:85},{mode:"flex",pointsSpan:[{pti:8,vRatio:.465922},{pti:7,vRatio:.880131},{pti:9,vRatio:.167858}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.740929},{pti:5,vRatio:.664529},{pti:3,vRatio:.740929},{pti:4,vRatio:.697847},{pti:6,vRatio:.424329},{pti:19,vRatio:.691082},{pti:22,vRatio:.741176},{pti:20,vRatio:.718635},{pti:21,vRatio:.741176},{pti:23,vRatio:.741176},{pti:24,vRatio:.740929},{pti:1,vRatio:.741176}],v0:353,vLength:85}],yRanges:[{mode:"affix",pointsSpan:[{pti:15,vRatio:.275765},{pti:18,vRatio:.227273},{pti:16,vRatio:.249094},{pti:17,vRatio:.227273},{pti:19,vRatio:.227273},{pti:22,vRatio:.275765},{pti:20,vRatio:.227273},{pti:21,vRatio:.249094},{pti:0,vRatio:.238636}],v0:0,vLength:88},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.642456},{pti:5,vRatio:.682756},{pti:3,vRatio:.679678},{pti:4,vRatio:.702433},{pti:8,vRatio:.660944},{pti:6,vRatio:.541933},{pti:7,vRatio:.1804},{pti:11,vRatio:.390444},{pti:9,vRatio:1.006833},{pti:10,vRatio:.483622},{pti:14,vRatio:.348722},{pti:12,vRatio:.382156},{pti:13,vRatio:.366267},{pti:23,vRatio:.642222},{pti:24,vRatio:.642456},{pti:1,vRatio:.255556}],v0:240,vLength:90}],pointArray:[{x:22,y:21},{x:416,y:263},{x:415.979,y:297.821},{x:415.979,y:301.171},{x:412.317,y:303.219},{x:409.485,y:301.448},{x:389.068,y:288.774},{x:320.875,y:256.236},{x:209.867,y:299.485},{x:129.986,y:330.615},{x:37.6072,y:283.526},{x:22.2143,y:275.14},{x:20.8517,y:274.394},{x:20,y:272.964},{x:20,y:271.385},{x:20,y:24.2673},{x:20,y:21.9203},{x:21.9161,y:20},{x:24.2581,y:20},{x:411.742,y:20},{x:414.084,y:20},{x:416,y:21.9203},{x:416,y:24.2673},{x:416,y:297.8},{x:415.979,y:297.821}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"cubic-bezier-to",cp0:6,cp1:7,pti:8},{type:"cubic-bezier-to",cp0:9,cp1:10,pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"line-to",pti:24}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-20,y:-20},designerSize:{w:396,h:290.000212},mostCompactAffixedSize:{w:128,h:138.000212},resizeMode:"scale-first"},end:{id:"end",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.150878},{pti:6,vRatio:.122928},{pti:4,vRatio:.129274},{pti:5,vRatio:.114618},{pti:7,vRatio:.553948},{pti:10,vRatio:.553948},{pti:8,vRatio:.55712},{pti:9,vRatio:.55712},{pti:11,vRatio:.122928},{pti:14,vRatio:.150878},{pti:12,vRatio:.114618},{pti:13,vRatio:.129274},{pti:0,vRatio:.666667}],v0:15,vLength:141},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.867529},{pti:15,vRatio:.867529},{pti:18,vRatio:.917647},{pti:16,vRatio:.895094},{pti:17,vRatio:.917647},{pti:19,vRatio:.917647},{pti:22,vRatio:.867529},{pti:20,vRatio:.917647},{pti:21,vRatio:.895094},{pti:1,vRatio:.941176}],v0:412,vLength:85}],yRanges:[{mode:"affix",pointsSpan:[{pti:11,vRatio:.146435},{pti:14,vRatio:.079545},{pti:12,vRatio:.11456},{pti:13,vRatio:.079545},{pti:15,vRatio:.079545},{pti:18,vRatio:.127841},{pti:16,vRatio:.079545},{pti:17,vRatio:.101278},{pti:0,vRatio:.079545}],v0:34,vLength:88},{mode:"flex",pointsSpan:[{pti:7,vRatio:.514937},{pti:10,vRatio:.492056},{pti:8,vRatio:.507657},{pti:9,vRatio:.499336}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.931818},{pti:3,vRatio:.931818},{pti:6,vRatio:.864932},{pti:4,vRatio:.931818},{pti:5,vRatio:.896807},{pti:19,vRatio:.883523},{pti:22,vRatio:.931818},{pti:20,vRatio:.910091},{pti:21,vRatio:.931818},{pti:1,vRatio:.931818}],v0:265,vLength:88}],pointArray:[{x:109,y:41},{x:492,y:347},{x:485.74,y:347},{x:36.2738,y:347},{x:33.2276,y:347},{x:31.1612,y:343.919},{x:32.3328,y:341.114},{x:93.1066,y:195.636},{x:93.5539,y:194.595},{x:93.5539,y:193.405},{x:93.1066,y:192.364},{x:32.3328,y:46.8863},{x:31.1612,y:44.0813},{x:33.2276,y:41},{x:36.2738,y:41},{x:485.74,y:41},{x:488.083,y:41},{x:490,y:42.9125},{x:490,y:45.25},{x:490,y:342.75},{x:490,y:345.088},{x:488.083,y:347},{x:485.74,y:347}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-17.000037,y:-7},designerSize:{w:459.999963,h:306},mostCompactAffixedSize:{w:203.999963,h:163},resizeMode:"scale-first"},internal_storage:{id:"internal_storage",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.230769},{pti:4,vRatio:.698688},{pti:5,vRatio:.698688},{pti:7,vRatio:.277562},{pti:10,vRatio:.230769},{pti:8,vRatio:.251825},{pti:9,vRatio:.230769},{pti:11,vRatio:.230769},{pti:14,vRatio:.277562},{pti:12,vRatio:.230769},{pti:13,vRatio:.251825},{pti:0,vRatio:.725275}],v0:0,vLength:91},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:3,vRatio:.76},{pti:6,vRatio:.67484},{pti:15,vRatio:.67484},{pti:18,vRatio:.76},{pti:16,vRatio:.72168},{pti:17,vRatio:.76},{pti:19,vRatio:.76},{pti:22,vRatio:.67484},{pti:20,vRatio:.76},{pti:21,vRatio:.72168},{pti:1,vRatio:.76}],v0:379,vLength:50}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.734779},{pti:3,vRatio:.734779},{pti:4,vRatio:.150685},{pti:11,vRatio:.209095},{pti:14,vRatio:.150685},{pti:12,vRatio:.176968},{pti:13,vRatio:.150685},{pti:15,vRatio:.150685},{pti:18,vRatio:.209095},{pti:16,vRatio:.150685},{pti:17,vRatio:.176968},{pti:0,vRatio:.767123}],v0:9,vLength:73},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:5,vRatio:.76},{pti:6,vRatio:.76},{pti:7,vRatio:.76},{pti:10,vRatio:.67472},{pti:8,vRatio:.76},{pti:9,vRatio:.72162},{pti:19,vRatio:.67472},{pti:22,vRatio:.76},{pti:20,vRatio:.72162},{pti:21,vRatio:.76},{pti:1,vRatio:.76}],v0:289,vLength:50}],pointArray:[{x:66,y:65},{x:417,y:327},{x:21,y:62.6389},{x:417,y:62.6389},{x:63.5806,y:20},{x:63.5806,y:327},{x:412.742,y:327},{x:25.2581,y:327},{x:22.9161,y:327},{x:21,y:325.081},{x:21,y:322.736},{x:21,y:24.2639},{x:21,y:21.9187},{x:22.9161,y:20},{x:25.2581,y:20},{x:412.742,y:20},{x:415.084,y:20},{x:417,y:21.9187},{x:417,y:24.2639},{x:417,y:322.736},{x:417,y:325.081},{x:415.084,y:327},{x:412.742,y:327}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"move",pti:4},{type:"line-to",pti:5},{type:"move",pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-21,y:-11},designerSize:{w:396,h:307},mostCompactAffixedSize:{w:108,h:100},resizeMode:"scale-first"},manual_input:{id:"manual_input",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.320684},{pti:6,vRatio:.270588},{pti:4,vRatio:.293131},{pti:5,vRatio:.270588},{pti:7,vRatio:.270588},{pti:10,vRatio:.314421},{pti:8,vRatio:.270588},{pti:9,vRatio:.289374},{pti:0,vRatio:.294118}],v0:0,vLength:85},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.714612},{pti:11,vRatio:.708353},{pti:14,vRatio:.764706},{pti:12,vRatio:.738412},{pti:13,vRatio:.764706},{pti:15,vRatio:.764706},{pti:18,vRatio:.714612},{pti:16,vRatio:.764706},{pti:17,vRatio:.742165},{pti:1,vRatio:.764706}],v0:354,vLength:85}],yRanges:[{mode:"affix",pointsSpan:[{pti:7,vRatio:.765779},{pti:10,vRatio:.71894},{pti:8,vRatio:.741886},{pti:9,vRatio:.721779},{pti:11,vRatio:.167043},{pti:14,vRatio:.213882},{pti:12,vRatio:.163494},{pti:13,vRatio:.185494},{pti:0,vRatio:.744444}],v0:5,vLength:90},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.761364},{pti:3,vRatio:.761364},{pti:6,vRatio:.712977},{pti:4,vRatio:.761364},{pti:5,vRatio:.739591},{pti:15,vRatio:.712977},{pti:18,vRatio:.761364},{pti:16,vRatio:.739591},{pti:17,vRatio:.761364},{pti:1,vRatio:.761364}],v0:259,vLength:88}],pointArray:[{x:25,y:72},{x:419,y:326},{x:414.742,y:326},{x:27.2581,y:326},{x:24.9161,y:326},{x:23,y:324.084},{x:23,y:321.742},{x:23,y:73.9201},{x:23,y:71.7697},{x:24.5968,y:69.9601},{x:26.7258,y:69.7046},{x:414.21,y:20.0339},{x:416.765,y:19.7145},{x:419,y:21.6945},{x:419,y:24.2494},{x:419,y:321.742},{x:419,y:324.084},{x:417.084,y:326},{x:414.742,y:326}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-23,y:-15.000024},designerSize:{w:396,h:305.999976},mostCompactAffixedSize:{w:127,h:141.999976},resizeMode:"scale-first"},manual_loop:{id:"manual_loop",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.539708},{pti:6,vRatio:.509917},{pti:4,vRatio:.525039},{pti:5,vRatio:.512488},{pti:7,vRatio:.142289},{pti:10,vRatio:.17208},{pti:8,vRatio:.139113},{pti:9,vRatio:.153328},{pti:0,vRatio:.283688}],v0:0,vLength:141},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.394971},{pti:11,vRatio:.767892},{pti:14,vRatio:.798108},{pti:12,vRatio:.786914},{pti:13,vRatio:.801331},{pti:15,vRatio:.425194},{pti:18,vRatio:.394971},{pti:16,vRatio:.422583},{pti:17,vRatio:.409856},{pti:1,vRatio:.661871}],v0:304,vLength:139}],yRanges:[{mode:"affix",pointsSpan:[{pti:10,vRatio:0},{pti:9,vRatio:0},{pti:11,vRatio:0},{pti:12,vRatio:0},{pti:0,vRatio:0}],v0:20,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.98863},{pti:5,vRatio:.995299},{pti:7,vRatio:.016092},{pti:8,vRatio:.007617},{pti:14,vRatio:.016092},{pti:13,vRatio:.007617},{pti:15,vRatio:.98863},{pti:16,vRatio:.995299}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:1},{pti:3,vRatio:1},{pti:4,vRatio:1},{pti:18,vRatio:1},{pti:17,vRatio:1},{pti:1,vRatio:1}],v0:325.95,vLength:.05}],pointArray:[{x:40,y:20},{x:396,y:326},{x:358.901,y:326},{x:76.0988,y:326},{x:74.0305,y:326},{x:72.2608,y:324.512},{x:71.8983,y:322.472},{x:20.0628,y:24.9724},{x:19.615,y:22.3799},{x:21.6193,y:20},{x:24.2633,y:20},{x:410.737,y:20},{x:413.381,y:20},{x:415.385,y:22.3799},{x:414.937,y:24.9724},{x:363.102,y:322.472},{x:362.739,y:324.512},{x:360.97,y:326},{x:358.901,y:326}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-20.000014,y:0},designerSize:{w:394.999832,h:306},mostCompactAffixedSize:{w:231.999832,h:.1},resizeMode:"scale-first"},multiple_documents:{id:"multiple_documents",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.55156},{pti:5,vRatio:.312412},{pti:3,vRatio:.434823},{pti:4,vRatio:.350597},{pti:8,vRatio:.28972},{pti:6,vRatio:.29823},{pti:7,vRatio:.28972},{pti:9,vRatio:.28972},{pti:12,vRatio:.33336},{pti:10,vRatio:.28972},{pti:11,vRatio:.309358},{pti:18,vRatio:.5952},{pti:21,vRatio:.55156},{pti:19,vRatio:.571198},{pti:20,vRatio:.55156},{pti:22,vRatio:.55156},{pti:23,vRatio:.289878},{pti:26,vRatio:.05073},{pti:24,vRatio:.173141},{pti:25,vRatio:.088915},{pti:29,vRatio:.028037},{pti:27,vRatio:.036547},{pti:28,vRatio:.028037},{pti:30,vRatio:.028037},{pti:33,vRatio:.071677},{pti:31,vRatio:.028037},{pti:32,vRatio:.047675},{pti:39,vRatio:.333518},{pti:42,vRatio:.289878},{pti:40,vRatio:.309516},{pti:41,vRatio:.289878},{pti:43,vRatio:.289878},{pti:53,vRatio:.574268},{pti:52,vRatio:.724216},{pti:56,vRatio:.551402},{pti:54,vRatio:.560196},{pti:55,vRatio:.551402},{pti:57,vRatio:.551402},{pti:60,vRatio:.595375},{pti:58,vRatio:.551402},{pti:59,vRatio:.57119},{pti:0,vRatio:.514019}],v0:0,vLength:107},{mode:"flex",pointsSpan:[{pti:50,vRatio:.512693},{pti:49,vRatio:.910332},{pti:51,vRatio:.225458}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:13,vRatio:.481649},{pti:16,vRatio:.544743},{pti:14,vRatio:.516351},{pti:15,vRatio:.544743},{pti:17,vRatio:.544743},{pti:34,vRatio:.10327},{pti:37,vRatio:.166365},{pti:35,vRatio:.137973},{pti:36,vRatio:.166365},{pti:38,vRatio:.166365},{pti:44,vRatio:.963662},{pti:47,vRatio:.868297},{pti:45,vRatio:.963662},{pti:46,vRatio:.910581},{pti:48,vRatio:.583446},{pti:61,vRatio:.900081},{pti:64,vRatio:.963662},{pti:62,vRatio:.935054},{pti:63,vRatio:.963662},{pti:65,vRatio:.963662},{pti:1,vRatio:.959459}],v0:384,vLength:74}],yRanges:[{mode:"affix",pointsSpan:[{pti:9,vRatio:.463177},{pti:12,vRatio:.402597},{pti:10,vRatio:.429858},{pti:11,vRatio:.402597},{pti:13,vRatio:.402597},{pti:16,vRatio:.463177},{pti:14,vRatio:.402597},{pti:15,vRatio:.429858},{pti:17,vRatio:.766071},{pti:18,vRatio:.766071},{pti:21,vRatio:.826651},{pti:19,vRatio:.766071},{pti:20,vRatio:.793332},{pti:30,vRatio:.09954},{pti:33,vRatio:.038961},{pti:31,vRatio:.066222},{pti:32,vRatio:.038961},{pti:34,vRatio:.038961},{pti:37,vRatio:.09954},{pti:35,vRatio:.038961},{pti:36,vRatio:.066222},{pti:38,vRatio:.402435},{pti:39,vRatio:.402435},{pti:42,vRatio:.463014},{pti:40,vRatio:.402435},{pti:41,vRatio:.429696},{pti:57,vRatio:.827314},{pti:60,vRatio:.766234},{pti:58,vRatio:.793721},{pti:59,vRatio:.766234},{pti:61,vRatio:.766234},{pti:64,vRatio:.827314},{pti:62,vRatio:.766234},{pti:63,vRatio:.793721},{pti:0,vRatio:.727273}],v0:0,vLength:77},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.529356},{pti:5,vRatio:.440037},{pti:3,vRatio:.490822},{pti:4,vRatio:.456274},{pti:8,vRatio:.4098},{pti:6,vRatio:.433985},{pti:7,vRatio:.422415},{pti:22,vRatio:.529356},{pti:23,vRatio:.321948},{pti:26,vRatio:.23263},{pti:24,vRatio:.283422},{pti:25,vRatio:.248867},{pti:29,vRatio:.202393},{pti:27,vRatio:.226578},{pti:28,vRatio:.215007},{pti:43,vRatio:.321948},{pti:44,vRatio:.807319},{pti:47,vRatio:.837452},{pti:45,vRatio:.834141},{pti:46,vRatio:.851037},{pti:50,vRatio:.840415},{pti:48,vRatio:.746},{pti:49,vRatio:.523378},{pti:53,vRatio:.661341},{pti:51,vRatio:1.069474},{pti:52,vRatio:.725622},{pti:56,vRatio:.630681},{pti:54,vRatio:.655244},{pti:55,vRatio:.643578},{pti:65,vRatio:.807319},{pti:1,vRatio:.585185}],v0:201,vLength:135}],pointArray:[{x:55,y:56},{x:455,y:280},{x:59.0169,y:272.463},{x:46.5261,y:267.261},{x:37.5139,y:262.597},{x:33.4281,y:260.405},{x:31.9106,y:259.588},{x:31,y:258.026},{x:31,y:256.323},{x:31,y:35.6646},{x:31,y:33.0991},{x:33.1013,y:31},{x:35.6695,y:31},{x:419.642,y:31},{x:422.21,y:31},{x:424.311,y:33.0991},{x:424.311,y:35.6646},{x:424.311,y:58.9875},{x:63.6864,y:58.9875},{x:61.1182,y:58.9875},{x:59.0169,y:61.0866},{x:59.0169,y:63.6521},{x:59.0169,y:272.463},{x:31.0169,y:244.463},{x:18.5261,y:239.262},{x:9.51394,y:234.597},{x:5.42814,y:232.405},{x:3.91055,y:231.588},{x:3,y:230.026},{x:3,y:228.323},{x:3,y:7.66459},{x:3,y:5.09907},{x:5.10127,y:3},{x:7.66949,y:3},{x:391.642,y:3},{x:394.21,y:3},{x:396.311,y:5.09907},{x:396.311,y:7.66459},{x:396.311,y:30.9875},{x:35.6864,y:30.9875},{x:33.1182,y:30.9875},{x:31.0169,y:33.0866},{x:31.0169,y:35.6521},{x:31.0169,y:244.463},{x:455.311,y:309.988},{x:455.311,y:313.609},{x:451.383,y:315.89},{x:448.254,y:314.056},{x:427.175,y:301.71},{x:359.162,y:271.656},{x:249.016,y:314.456},{x:169.452,y:345.379},{x:77.4911,y:298.959},{x:61.4467,y:290.281},{x:59.941,y:289.458},{x:59,y:287.883},{x:59,y:286.142},{x:59,y:63.7032},{x:59,y:61.1165},{x:61.1173,y:59},{x:63.7051,y:59},{x:450.606,y:59},{x:453.194,y:59},{x:455.311,y:61.1165},{x:455.311,y:63.7032},{x:455.311,y:309.988}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"cubic-bezier-to",cp0:6,cp1:7,pti:8},{type:"line-to",pti:9},{type:"cubic-bezier-to",cp0:10,cp1:11,pti:12},{type:"line-to",pti:13},{type:"cubic-bezier-to",cp0:14,cp1:15,pti:16},{type:"line-to",pti:17},{type:"line-to",pti:18},{type:"cubic-bezier-to",cp0:19,cp1:20,pti:21},{type:"line-to",pti:22}]},{instructions:[{type:"move",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"cubic-bezier-to",cp0:27,cp1:28,pti:29},{type:"line-to",pti:30},{type:"cubic-bezier-to",cp0:31,cp1:32,pti:33},{type:"line-to",pti:34},{type:"cubic-bezier-to",cp0:35,cp1:36,pti:37},{type:"line-to",pti:38},{type:"line-to",pti:39},{type:"cubic-bezier-to",cp0:40,cp1:41,pti:42},{type:"line-to",pti:43}]},{instructions:[{type:"move",pti:44},{type:"cubic-bezier-to",cp0:45,cp1:46,pti:47},{type:"cubic-bezier-to",cp0:48,cp1:49,pti:50},{type:"cubic-bezier-to",cp0:51,cp1:52,pti:53},{type:"cubic-bezier-to",cp0:54,cp1:55,pti:56},{type:"line-to",pti:57},{type:"cubic-bezier-to",cp0:58,cp1:59,pti:60},{type:"line-to",pti:61},{type:"cubic-bezier-to",cp0:62,cp1:63,pti:64},{type:"line-to",pti:65}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-3,y:-3},designerSize:{w:452.311,h:321.949372},mostCompactAffixedSize:{w:175.311,h:197.949372},resizeMode:"scale-first"},note_left:{id:"note_left",xRanges:[{mode:"affix",pointsSpan:[{pti:12,vRatio:.4},{pti:0,vRatio:.422222}],v0:0,vLength:45},{mode:"flex",pointsSpan:[{pti:13,vRatio:.546828},{pti:15,vRatio:.546828}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.082192},{pti:3,vRatio:.722603},{pti:6,vRatio:.780822},{pti:4,vRatio:.75463},{pti:5,vRatio:.780822},{pti:7,vRatio:.780822},{pti:10,vRatio:.722603},{pti:8,vRatio:.780822},{pti:9,vRatio:.75463},{pti:11,vRatio:.082192},{pti:14,vRatio:.780822},{pti:1,vRatio:.506849}],v0:376,vLength:73}],yRanges:[{mode:"affix",pointsSpan:[{pti:7,vRatio:.274183},{pti:10,vRatio:.192308},{pti:8,vRatio:.229152},{pti:9,vRatio:.192308},{pti:11,vRatio:.192308},{pti:13,vRatio:.192308},{pti:0,vRatio:.423077}],v0:8,vLength:52},{mode:"flex",pointsSpan:[{pti:12,vRatio:.495427},{pti:14,vRatio:.495427}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.75},{pti:3,vRatio:.75},{pti:6,vRatio:.668115},{pti:4,vRatio:.75},{pti:5,vRatio:.713154},{pti:15,vRatio:.75},{pti:1,vRatio:.557692}],v0:388,vLength:52}],pointArray:[{x:19,y:30},{x:413,y:417},{x:382,y:427},{x:428.75,y:427},{x:431.088,y:427},{x:433,y:425.084},{x:433,y:422.742},{x:433,y:22.2575},{x:433,y:19.9159},{x:431.088,y:18},{x:428.75,y:18},{x:382,y:18},{x:18,y:222.5},{x:226,y:18},{x:433,y:222.5},{x:226,y:427}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[12,13,14,15],designerOffset:{x:-19,y:-10},designerSize:{w:414,h:409},mostCompactAffixedSize:{w:83,h:81},resizeMode:"scale-first"},note_right:{id:"note_right",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.917808},{pti:3,vRatio:.277397},{pti:6,vRatio:.219178},{pti:4,vRatio:.245377},{pti:5,vRatio:.219178},{pti:7,vRatio:.219178},{pti:10,vRatio:.277397},{pti:8,vRatio:.219178},{pti:9,vRatio:.245377},{pti:11,vRatio:.917808},{pti:12,vRatio:.219178},{pti:0,vRatio:.493151}],v0:10,vLength:73},{mode:"flex",pointsSpan:[{pti:13,vRatio:.428144},{pti:15,vRatio:.428144}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:14,vRatio:.511111},{pti:1,vRatio:.511111}],v0:417,vLength:45}],yRanges:[{mode:"affix",pointsSpan:[{pti:7,vRatio:.312644},{pti:10,vRatio:.230769},{pti:8,vRatio:.267613},{pti:9,vRatio:.230769},{pti:11,vRatio:.230769},{pti:13,vRatio:.230769},{pti:0,vRatio:.461538}],v0:7,vLength:52},{mode:"flex",pointsSpan:[{pti:12,vRatio:.493994},{pti:14,vRatio:.493994}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.692308},{pti:3,vRatio:.692308},{pti:6,vRatio:.610423},{pti:4,vRatio:.692308},{pti:5,vRatio:.655462},{pti:15,vRatio:.692308},{pti:1,vRatio:.5}],v0:392,vLength:52}],pointArray:[{x:46,y:31},{x:440,y:418},{x:77,y:428},{x:30.25,y:428},{x:27.9125,y:428},{x:26,y:426.084},{x:26,y:423.742},{x:26,y:23.2575},{x:26,y:20.9159},{x:27.9125,y:19},{x:30.25,y:19},{x:77,y:19},{x:26,y:223.5},{x:226,y:19},{x:440,y:223.5},{x:226,y:428}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[12,13,14,15],designerOffset:{x:-16,y:-12},designerSize:{w:414,h:409},mostCompactAffixedSize:{w:80,h:76},resizeMode:"scale-first"},off_page_connector:{id:"off_page_connector",xRanges:[{mode:"affix",pointsSpan:[{pti:7,vRatio:.347096},{pti:10,vRatio:.3},{pti:8,vRatio:.318244},{pti:9,vRatio:.3},{pti:11,vRatio:.3},{pti:14,vRatio:.384858},{pti:12,vRatio:.3},{pti:13,vRatio:.338186},{pti:0,vRatio:.3}],v0:56,vLength:50},{mode:"flex",pointsSpan:[{pti:3,vRatio:.512929},{pti:6,vRatio:.496053},{pti:4,vRatio:.507649},{pti:5,vRatio:.501333}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.69332},{pti:15,vRatio:.65514},{pti:18,vRatio:.74},{pti:16,vRatio:.70182},{pti:17,vRatio:.74},{pti:19,vRatio:.74},{pti:22,vRatio:.6929},{pti:20,vRatio:.74},{pti:21,vRatio:.72176},{pti:23,vRatio:.69332},{pti:1,vRatio:.74}],v0:331,vLength:50}],yRanges:[{mode:"affix",pointsSpan:[{pti:11,vRatio:.325142},{pti:14,vRatio:.24},{pti:12,vRatio:.278314},{pti:13,vRatio:.24},{pti:15,vRatio:.24},{pti:18,vRatio:.325142},{pti:16,vRatio:.24},{pti:17,vRatio:.278314},{pti:0,vRatio:.26}],v0:9,vLength:50},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.195942},{pti:3,vRatio:.898573},{pti:6,vRatio:.898573},{pti:4,vRatio:.904359},{pti:5,vRatio:.904359},{pti:7,vRatio:.195942},{pti:10,vRatio:.158951},{pti:8,vRatio:.188922},{pti:9,vRatio:.17466},{pti:19,vRatio:.158951},{pti:22,vRatio:.195942},{pti:20,vRatio:.17466},{pti:21,vRatio:.188922},{pti:23,vRatio:.195942},{pti:1,vRatio:.203883}],v0:234,vLength:103}],pointArray:[{x:71,y:22},{x:368,y:255},{x:365.666,y:254.182},{x:221.409,y:326.553},{x:220.221,y:327.149},{x:218.8,y:327.149},{x:217.612,y:326.553},{x:73.3548,y:254.182},{x:71.9122,y:253.459},{x:71,y:251.99},{x:71,y:250.372},{x:71,y:25.2571},{x:71,y:22.9157},{x:72.9093,y:21},{x:75.2429,y:21},{x:363.757,y:21},{x:366.091,y:21},{x:368,y:22.9157},{x:368,y:25.2571},{x:368,y:250.372},{x:368,y:251.99},{x:367.088,y:253.459},{x:365.645,y:254.182},{x:365.666,y:254.182}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-15,y:-12},designerSize:{w:297,h:306},mostCompactAffixedSize:{w:72,h:131},resizeMode:"scale-first"},or:{id:"or",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:3,vRatio:.5},{pti:4,vRatio:.934614},{pti:5,vRatio:.065294},{pti:6,vRatio:.935622},{pti:9,vRatio:.5},{pti:7,vRatio:.935622},{pti:8,vRatio:.740554},{pti:12,vRatio:.064378},{pti:10,vRatio:.259445},{pti:11,vRatio:.064378},{pti:15,vRatio:.5},{pti:13,vRatio:.064378},{pti:14,vRatio:.259445},{pti:18,vRatio:.935622},{pti:16,vRatio:.740554},{pti:17,vRatio:.935622},{pti:19,vRatio:.06867},{pti:20,vRatio:.502146},{pti:21,vRatio:.935622},{pti:22,vRatio:.502146},{pti:0,vRatio:.06867},{pti:1,vRatio:.935622}],v0:0,vLength:233}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.069672},{pti:3,vRatio:.934708},{pti:4,vRatio:.502236},{pti:5,vRatio:.502236},{pti:6,vRatio:.502146},{pti:9,vRatio:.935622},{pti:7,vRatio:.741515},{pti:8,vRatio:.935622},{pti:12,vRatio:.502146},{pti:10,vRatio:.935622},{pti:11,vRatio:.741515},{pti:15,vRatio:.06867},{pti:13,vRatio:.262776},{pti:14,vRatio:.06867},{pti:18,vRatio:.502146},{pti:16,vRatio:.06867},{pti:17,vRatio:.262776},{pti:19,vRatio:.502146},{pti:20,vRatio:.06867},{pti:21,vRatio:.502146},{pti:22,vRatio:.935622},{pti:0,vRatio:.06867},{pti:1,vRatio:.935622}],v0:0,vLength:233}],pointArray:[{x:16,y:16},{x:218,y:218},{x:116.5,y:16.2336},{x:116.5,y:217.787},{x:217.765,y:117.021},{x:15.2136,y:117.021},{x:218,y:117},{x:218,y:172.773},{x:172.549,y:218},{x:116.5,y:218},{x:60.4506,y:218},{x:15,y:172.773},{x:15,y:117},{x:15,y:61.2267},{x:60.4506,y:16},{x:116.5,y:16},{x:172.549,y:16},{x:218,y:61.2267},{x:218,y:117},{x:16,y:117},{x:117,y:16},{x:218,y:117},{x:117,y:218}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"move",pti:4},{type:"line-to",pti:5},{type:"move",pti:6},{type:"cubic-bezier-to",cp0:7,cp1:8,pti:9},{type:"cubic-bezier-to",cp0:10,cp1:11,pti:12},{type:"cubic-bezier-to",cp0:13,cp1:14,pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[19,20,21,22],designerOffset:{x:-15,y:-16},designerSize:{w:203,h:202},mostCompactAffixedSize:{w:203,h:202},resizeMode:"scale-first"},papertape:{id:"papertape",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:0},{pti:3,vRatio:0},{pti:27,vRatio:0},{pti:26,vRatio:0},{pti:28,vRatio:0},{pti:29,vRatio:0}],v0:34,vLength:.05},{mode:"flex",pointsSpan:[{pti:5,vRatio:.016775},{pti:4,vRatio:.009878},{pti:8,vRatio:.479468},{pti:6,vRatio:.067893},{pti:7,vRatio:.232723},{pti:11,vRatio:.99565},{pti:9,vRatio:.789072},{pti:10,vRatio:.965905},{pti:12,vRatio:.998492},{pti:18,vRatio:.984172},{pti:17,vRatio:.991226},{pti:21,vRatio:.479468},{pti:19,vRatio:.933318},{pti:20,vRatio:.761434},{pti:24,vRatio:.003456},{pti:22,vRatio:.203506},{pti:23,vRatio:.029989},{pti:25,vRatio:.001192},{pti:0,vRatio:.004828}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:14,vRatio:1},{pti:13,vRatio:1},{pti:15,vRatio:1},{pti:16,vRatio:1},{pti:1,vRatio:1}],v0:437.95,vLength:.05}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.320267},{pti:5,vRatio:.282614},{pti:3,vRatio:.281192},{pti:4,vRatio:.258697},{pti:8,vRatio:.50285},{pti:6,vRatio:.459278},{pti:7,vRatio:.915618},{pti:11,vRatio:.559449},{pti:9,vRatio:-.0153},{pti:10,vRatio:.467091},{pti:14,vRatio:.598288},{pti:12,vRatio:.568211},{pti:13,vRatio:.582658},{pti:28,vRatio:.320504},{pti:29,vRatio:.320267},{pti:0,vRatio:.688889}],v0:0,vLength:90},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:15,vRatio:.615},{pti:18,vRatio:.655733},{pti:16,vRatio:.651944},{pti:17,vRatio:.674678},{pti:21,vRatio:.632056},{pti:19,vRatio:.518389},{pti:20,vRatio:.160089},{pti:24,vRatio:.3628},{pti:22,vRatio:1.093844},{pti:23,vRatio:.468178},{pti:27,vRatio:.327278},{pti:25,vRatio:.3538},{pti:26,vRatio:.341011},{pti:1,vRatio:.377778}],v0:242,vLength:90}],pointArray:[{x:36,y:62},{x:438,y:276},{x:34,y:28.824},{x:34,y:25.3073},{x:38.0399,y:23.2827},{x:40.8254,y:25.4353},{x:61.4719,y:41.335},{x:128.047,y:82.4056},{x:227.707,y:45.2565},{x:352.756,y:-1.377},{x:424.179,y:42.0382},{x:436.193,y:50.3504},{x:437.341,y:51.139},{x:438,y:52.4392},{x:438,y:53.8459},{x:438,y:297.35},{x:438,y:300.675},{x:434.406,y:302.721},{x:431.557,y:301.016},{x:411.017,y:288.655},{x:341.593,y:256.408},{x:227.707,y:298.885},{x:116.246,y:340.446},{x:46.1625,y:284.136},{x:35.4459,y:274.652},{x:34.5316,y:273.842},{x:34,y:272.691},{x:34,y:271.455},{x:34,y:28.8454},{x:34,y:28.824}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"cubic-bezier-to",cp0:6,cp1:7,pti:8},{type:"cubic-bezier-to",cp0:9,cp1:10,pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"cubic-bezier-to",cp0:19,cp1:20,pti:21},{type:"cubic-bezier-to",cp0:22,cp1:23,pti:24},{type:"cubic-bezier-to",cp0:25,cp1:26,pti:27},{type:"line-to",pti:28},{type:"line-to",pti:29}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:0,y:-24.000003},designerSize:{w:404,h:290.000045},mostCompactAffixedSize:{w:.1,h:138.000045},resizeMode:"scale-first"},porongo:{id:"porongo",xRanges:[{mode:"affix",pointsSpan:[{pti:6,vRatio:.751678},{pti:9,vRatio:.37251},{pti:7,vRatio:.360181},{pti:8,vRatio:-.365748},{pti:12,vRatio:.402685},{pti:13,vRatio:.409396},{pti:19,vRatio:.463087},{pti:20,vRatio:.493289},{pti:21,vRatio:.513423},{pti:22,vRatio:.563758},{pti:23,vRatio:.563758},{pti:24,vRatio:.66443},{pti:25,vRatio:.587248},{pti:26,vRatio:.691275},{pti:27,vRatio:.741611},{pti:28,vRatio:.771812},{pti:29,vRatio:.818792},{pti:30,vRatio:.892617},{pti:0,vRatio:.402685}],v0:73,vLength:149},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.832487},{pti:5,vRatio:.548223},{pti:3,vRatio:1.390863},{pti:4,vRatio:.84433},{pti:10,vRatio:.80203},{pti:11,vRatio:.80203},{pti:14,vRatio:.80203},{pti:15,vRatio:.06599},{pti:16,vRatio:.299492},{pti:17,vRatio:.484772},{pti:18,vRatio:.317259},{pti:31,vRatio:.761421},{pti:32,vRatio:.738579},{pti:33,vRatio:.72335},{pti:34,vRatio:.685279},{pti:35,vRatio:.685279},{pti:36,vRatio:.609137},{pti:37,vRatio:.667513},{pti:38,vRatio:.588832},{pti:39,vRatio:.550761},{pti:40,vRatio:.527919},{pti:41,vRatio:.492386},{pti:42,vRatio:.436548},{pti:1,vRatio:.80203}],v0:386,vLength:197}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.817418},{pti:3,vRatio:1.660201},{pti:9,vRatio:.817418},{pti:8,vRatio:1.660201},{pti:10,vRatio:.505155},{pti:11,vRatio:.819995},{pti:12,vRatio:.819995},{pti:13,vRatio:.494845},{pti:14,vRatio:.505155},{pti:15,vRatio:.497423},{pti:16,vRatio:.113402},{pti:17,vRatio:.201031},{pti:18,vRatio:.497423},{pti:19,vRatio:.780928},{pti:20,vRatio:.716495},{pti:21,vRatio:.770619},{pti:22,vRatio:.716495},{pti:23,vRatio:.780928},{pti:24,vRatio:.780928},{pti:25,vRatio:.75},{pti:26,vRatio:.75},{pti:27,vRatio:.786082},{pti:28,vRatio:.760309},{pti:29,vRatio:.780928},{pti:30,vRatio:.760309},{pti:31,vRatio:.546392},{pti:32,vRatio:.610825},{pti:33,vRatio:.556701},{pti:34,vRatio:.610825},{pti:35,vRatio:.546392},{pti:36,vRatio:.546392},{pti:37,vRatio:.57732},{pti:38,vRatio:.57732},{pti:39,vRatio:.541237},{pti:40,vRatio:.56701},{pti:41,vRatio:.546392},{pti:42,vRatio:.56701},{pti:0,vRatio:.876289}],v0:0,vLength:194},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:5,vRatio:.501039},{pti:4,vRatio:.413316},{pti:6,vRatio:.501039},{pti:7,vRatio:.413316},{pti:1,vRatio:.144737}],v0:338,vLength:76}],pointArray:[{x:133,y:170},{x:544,y:349},{x:550,y:158.579},{x:660,y:322.079},{x:552.333,y:369.412},{x:494,y:376.079},{x:185,y:376.079},{x:126.667,y:369.412},{x:18.5036,y:322.079},{x:128.504,y:158.579},{x:544,y:98},{x:544,y:159.079},{x:133,y:159.079},{x:134,y:96},{x:544,y:98},{x:399,y:96.5},{x:445,y:22},{x:481.5,y:39},{x:448.5,y:96.5},{x:142,y:151.5},{x:146.5,y:139},{x:149.5,y:149.5},{x:157,y:139},{x:157,y:151.5},{x:172,y:151.5},{x:160.5,y:145.5},{x:176,y:145.5},{x:183.5,y:152.5},{x:188,y:147.5},{x:195,y:151.5},{x:206,y:147.5},{x:536,y:106},{x:531.5,y:118.5},{x:528.5,y:108},{x:521,y:118.5},{x:521,y:106},{x:506,y:106},{x:517.5,y:112},{x:502,y:112},{x:494.5,y:105},{x:490,y:110},{x:483,y:106},{x:472,y:110}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"line-to",pti:6},{type:"cubic-bezier-to",cp0:7,cp1:8,pti:9}]},{instructions:[{type:"move",pti:10},{type:"line-to",pti:11},{type:"line-to",pti:12},{type:"line-to",pti:13},{type:"line-to",pti:14}]},{instructions:[{type:"move",pti:15},{type:"line-to",pti:16},{type:"line-to",pti:17},{type:"line-to",pti:18}]},{instructions:[{type:"move",pti:19},{type:"line-to",pti:20},{type:"line-to",pti:21},{type:"line-to",pti:22},{type:"line-to",pti:23},{type:"line-to",pti:24},{type:"line-to",pti:25},{type:"line-to",pti:26},{type:"line-to",pti:27},{type:"line-to",pti:28},{type:"line-to",pti:29},{type:"line-to",pti:30}]},{instructions:[{type:"move",pti:31},{type:"line-to",pti:32},{type:"line-to",pti:33},{type:"line-to",pti:34},{type:"line-to",pti:35},{type:"line-to",pti:36},{type:"line-to",pti:37},{type:"line-to",pti:38},{type:"line-to",pti:39},{type:"line-to",pti:40},{type:"line-to",pti:41},{type:"line-to",pti:42}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-8.115097,y:-22},designerSize:{w:516.388446,h:354.079},mostCompactAffixedSize:{w:352.388446,h:210.079},resizeMode:"scale-first"},predefined_process:{id:"predefined_process",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.536762},{pti:3,vRatio:.536762},{pti:7,vRatio:.191514},{pti:10,vRatio:.153153},{pti:8,vRatio:.170415},{pti:9,vRatio:.153153},{pti:11,vRatio:.153153},{pti:14,vRatio:.191514},{pti:12,vRatio:.153153},{pti:13,vRatio:.170415},{pti:0,vRatio:.558559}],v0:0,vLength:111},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:4,vRatio:.373144},{pti:5,vRatio:.373144},{pti:6,vRatio:.718396},{pti:15,vRatio:.718396},{pti:18,vRatio:.756757},{pti:16,vRatio:.739495},{pti:17,vRatio:.756757},{pti:19,vRatio:.756757},{pti:22,vRatio:.718396},{pti:20,vRatio:.756757},{pti:21,vRatio:.739495},{pti:1,vRatio:.369369}],v0:329,vLength:111}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:0},{pti:4,vRatio:0},{pti:14,vRatio:0},{pti:13,vRatio:0},{pti:15,vRatio:0},{pti:16,vRatio:0}],v0:21,vLength:.05},{mode:"flex",pointsSpan:[{pti:10,vRatio:.98627},{pti:9,vRatio:.993913},{pti:11,vRatio:.01373},{pti:12,vRatio:.006089},{pti:18,vRatio:.01373},{pti:17,vRatio:.006089},{pti:19,vRatio:.98627},{pti:20,vRatio:.993913},{pti:0,vRatio:.003106},{pti:1,vRatio:.996894}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:3,vRatio:1},{pti:5,vRatio:1},{pti:6,vRatio:1},{pti:7,vRatio:1},{pti:8,vRatio:1},{pti:22,vRatio:1},{pti:21,vRatio:1}],v0:326.95,vLength:.05}],pointArray:[{x:62,y:22},{x:370,y:326},{x:59.5806,y:21},{x:59.5806,y:327},{x:370.419,y:21},{x:370.419,y:327},{x:408.742,y:327},{x:21.2581,y:327},{x:18.9161,y:327},{x:17,y:325.088},{x:17,y:322.75},{x:17,y:25.25},{x:17,y:22.9125},{x:18.9161,y:21},{x:21.2581,y:21},{x:408.742,y:21},{x:411.084,y:21},{x:413,y:22.9125},{x:413,y:25.25},{x:413,y:322.75},{x:413,y:325.088},{x:411.084,y:327},{x:408.742,y:327}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"move",pti:4},{type:"line-to",pti:5},{type:"move",pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-17,y:0},designerSize:{w:396,h:306},mostCompactAffixedSize:{w:178,h:.1},resizeMode:"scale-first"},preparation:{id:"preparation",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.723596},{pti:6,vRatio:.696896},{pti:4,vRatio:.712433},{pti:5,vRatio:.702026},{pti:7,vRatio:.145238},{pti:10,vRatio:.145238},{pti:8,vRatio:.140713},{pti:9,vRatio:.140713},{pti:11,vRatio:.696896},{pti:14,vRatio:.723596},{pti:12,vRatio:.702026},{pti:13,vRatio:.712433},{pti:0,vRatio:.425532}],v0:0,vLength:141},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.273187},{pti:15,vRatio:.273187},{pti:18,vRatio:.300273},{pti:16,vRatio:.284511},{pti:17,vRatio:.295065},{pti:19,vRatio:.859863},{pti:22,vRatio:.859863},{pti:20,vRatio:.86446},{pti:21,vRatio:.86446},{pti:23,vRatio:.300273},{pti:26,vRatio:.273187},{pti:24,vRatio:.295065},{pti:25,vRatio:.284511},{pti:1,vRatio:.57554}],v0:304,vLength:139}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:0},{pti:3,vRatio:0},{pti:4,vRatio:0},{pti:26,vRatio:0},{pti:25,vRatio:0},{pti:0,vRatio:0}],v0:20,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.007271},{pti:5,vRatio:.002686},{pti:7,vRatio:.493573},{pti:10,vRatio:.506427},{pti:8,vRatio:.497604},{pti:9,vRatio:.502396},{pti:11,vRatio:.99273},{pti:12,vRatio:.997316},{pti:18,vRatio:.99273},{pti:17,vRatio:.997316},{pti:19,vRatio:.506427},{pti:22,vRatio:.493573},{pti:20,vRatio:.502396},{pti:21,vRatio:.497604},{pti:23,vRatio:.007271},{pti:24,vRatio:.002686}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:14,vRatio:1},{pti:13,vRatio:1},{pti:15,vRatio:1},{pti:16,vRatio:1},{pti:1,vRatio:1}],v0:325.95,vLength:.05}],pointArray:[{x:60,y:20},{x:384,y:326},{x:341.973,y:20},{x:102.027,y:20},{x:100.453,y:20},{x:98.9856,y:20.8715},{x:98.2624,y:22.2741},{x:20.4786,y:171.034},{x:19.8405,y:172.267},{x:19.8405,y:173.733},{x:20.4786,y:174.966},{x:98.2624,y:323.726},{x:98.9856,y:325.129},{x:100.453,y:326},{x:102.027,y:326},{x:341.973,y:326},{x:343.547,y:326},{x:345.014,y:325.129},{x:345.738,y:323.726},{x:423.521,y:174.966},{x:424.16,y:173.733},{x:424.16,y:172.267},{x:423.521,y:171.034},{x:345.738,y:22.2741},{x:345.014,y:20.8715},{x:343.547,y:20},{x:341.973,y:20}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-20.000025,y:0},designerSize:{w:404.000225,h:306},mostCompactAffixedSize:{w:241.000225,h:.1},resizeMode:"scale-first"},process:{id:"process",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.184061},{pti:6,vRatio:.058824},{pti:4,vRatio:.114894},{pti:5,vRatio:.058824},{pti:7,vRatio:.058824},{pti:10,vRatio:.184061},{pti:8,vRatio:.058824},{pti:9,vRatio:.114894},{pti:0,vRatio:.082353}],v0:15,vLength:85},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.815941},{pti:11,vRatio:.815941},{pti:14,vRatio:.941176},{pti:12,vRatio:.885106},{pti:13,vRatio:.941176},{pti:15,vRatio:.941176},{pti:18,vRatio:.815941},{pti:16,vRatio:.941176},{pti:17,vRatio:.885106},{pti:1,vRatio:.941176}],v0:336,vLength:85}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.056818},{pti:3,vRatio:.056818},{pti:6,vRatio:.177557},{pti:4,vRatio:.056818},{pti:5,vRatio:.110875},{pti:15,vRatio:.177557},{pti:18,vRatio:.056818},{pti:16,vRatio:.110875},{pti:17,vRatio:.056818},{pti:0,vRatio:.056818}],v0:15,vLength:88},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:7,vRatio:.81108},{pti:10,vRatio:.931818},{pti:8,vRatio:.877761},{pti:9,vRatio:.931818},{pti:11,vRatio:.931818},{pti:14,vRatio:.81108},{pti:12,vRatio:.931818},{pti:13,vRatio:.877761},{pti:1,vRatio:.931818}],v0:244,vLength:88}],pointArray:[{x:22,y:20},{x:416,y:326},{x:405.355,y:20},{x:30.6452,y:20},{x:24.766,y:20},{x:20,y:24.757},{x:20,y:30.625},{x:20,y:315.375},{x:20,y:321.243},{x:24.766,y:326},{x:30.6452,y:326},{x:405.355,y:326},{x:411.234,y:326},{x:416,y:321.243},{x:416,y:315.375},{x:416,y:30.625},{x:416,y:24.757},{x:411.234,y:20},{x:405.355,y:20}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-5,y:-5},designerSize:{w:396,h:306},mostCompactAffixedSize:{w:160,h:165},resizeMode:"scale-first"},ribbon:{id:"ribbon",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.607454},{pti:6,vRatio:.593889},{pti:4,vRatio:.599993},{pti:5,vRatio:.593889},{pti:7,vRatio:.593889},{pti:10,vRatio:.607454},{pti:8,vRatio:.593889},{pti:9,vRatio:.599993},{pti:40,vRatio:.255925},{pti:41,vRatio:.102205},{pti:44,vRatio:.115498},{pti:42,vRatio:.100442},{pti:43,vRatio:.106817},{pti:45,vRatio:.578968},{pti:48,vRatio:.592532},{pti:46,vRatio:.586428},{pti:47,vRatio:.592532},{pti:49,vRatio:.592532},{pti:52,vRatio:.578968},{pti:50,vRatio:.592532},{pti:51,vRatio:.586428},{pti:53,vRatio:.115498},{pti:56,vRatio:.102205},{pti:54,vRatio:.106817},{pti:55,vRatio:.100442},{pti:57,vRatio:.255925},{pti:60,vRatio:.255925},{pti:58,vRatio:.256332},{pti:59,vRatio:.256332},{pti:0,vRatio:.592357}],v0:0,vLength:157},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.401217},{pti:11,vRatio:.401217},{pti:14,vRatio:.414783},{pti:12,vRatio:.408682},{pti:13,vRatio:.414783},{pti:15,vRatio:.414783},{pti:18,vRatio:.401217},{pti:16,vRatio:.414783},{pti:17,vRatio:.408682},{pti:19,vRatio:.782287},{pti:20,vRatio:.904166},{pti:23,vRatio:.890873},{pti:21,vRatio:.90593},{pti:22,vRatio:.899554},{pti:24,vRatio:.427401},{pti:27,vRatio:.413841},{pti:25,vRatio:.419943},{pti:26,vRatio:.413841},{pti:28,vRatio:.413841},{pti:31,vRatio:.427401},{pti:29,vRatio:.413841},{pti:30,vRatio:.419943},{pti:32,vRatio:.890873},{pti:35,vRatio:.904166},{pti:33,vRatio:.899554},{pti:34,vRatio:.90593},{pti:36,vRatio:.782287},{pti:39,vRatio:.782287},{pti:37,vRatio:.781879},{pti:38,vRatio:.781879},{pti:1,vRatio:.426752}],v0:526,vLength:157}],yRanges:[{mode:"affix",pointsSpan:[{pti:10,vRatio:0},{pti:9,vRatio:0},{pti:11,vRatio:0},{pti:12,vRatio:0},{pti:0,vRatio:0}],v0:30,vLength:.05},{mode:"flex",pointsSpan:[{pti:2,vRatio:.994427},{pti:3,vRatio:.994427},{pti:6,vRatio:.988508},{pti:4,vRatio:.994427},{pti:5,vRatio:.991763},{pti:7,vRatio:.005777},{pti:8,vRatio:.002521},{pti:14,vRatio:.005777},{pti:13,vRatio:.002521},{pti:15,vRatio:.988508},{pti:18,vRatio:.994427},{pti:16,vRatio:.991763},{pti:17,vRatio:.994427},{pti:19,vRatio:.495899},{pti:20,vRatio:.121338},{pti:23,vRatio:.114175},{pti:21,vRatio:.117668},{pti:22,vRatio:.114175},{pti:24,vRatio:.114175},{pti:27,vRatio:.120095},{pti:25,vRatio:.114175},{pti:26,vRatio:.116839},{pti:28,vRatio:.87419},{pti:31,vRatio:.880109},{pti:29,vRatio:.877445},{pti:30,vRatio:.880109},{pti:32,vRatio:.880109},{pti:35,vRatio:.872947},{pti:33,vRatio:.880109},{pti:34,vRatio:.876616},{pti:36,vRatio:.498385},{pti:39,vRatio:.495899},{pti:37,vRatio:.497556},{pti:38,vRatio:.496728},{pti:40,vRatio:.498385},{pti:41,vRatio:.872947},{pti:44,vRatio:.880109},{pti:42,vRatio:.876616},{pti:43,vRatio:.880109},{pti:45,vRatio:.880109},{pti:48,vRatio:.87419},{pti:46,vRatio:.880109},{pti:47,vRatio:.877445},{pti:49,vRatio:.120095},{pti:52,vRatio:.114175},{pti:50,vRatio:.116839},{pti:51,vRatio:.114175},{pti:53,vRatio:.114175},{pti:56,vRatio:.121338},{pti:54,vRatio:.114175},{pti:55,vRatio:.117668},{pti:57,vRatio:.495899},{pti:60,vRatio:.498385},{pti:58,vRatio:.496728},{pti:59,vRatio:.497556}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:1,vRatio:1}],v0:379.95,vLength:.05}],pointArray:[{x:93,y:30},{x:593,y:380},{x:588.991,y:378},{x:95.3702,y:378},{x:94.1989,y:378},{x:93.2406,y:377.068},{x:93.2406,y:375.929},{x:93.2406,y:32.0714},{x:93.2406,y:30.9321},{x:94.1989,y:30},{x:95.3702,y:30},{x:588.991,y:30},{x:590.163,y:30},{x:591.121,y:30.9321},{x:591.121,y:32.0714},{x:591.121,y:375.929},{x:591.121,y:377.068},{x:590.163,y:378},{x:588.991,y:378},{x:648.819,y:203.565},{x:667.954,y:72.5063},{x:668.231,y:71.2221},{x:667.23,y:70},{x:665.867,y:70},{x:593.102,y:70},{x:591.931,y:70},{x:590.973,y:70.9321},{x:590.973,y:72.0714},{x:590.973,y:335.929},{x:590.973,y:337.068},{x:591.931,y:338},{x:593.102,y:338},{x:665.867,y:338},{x:667.23,y:338},{x:668.231,y:336.778},{x:667.954,y:335.494},{x:648.819,y:204.435},{x:648.755,y:204.145},{x:648.755,y:203.855},{x:648.819,y:203.565},{x:40.1803,y:204.435},{x:16.0462,y:335.494},{x:15.7694,y:336.778},{x:16.7702,y:338},{x:18.1332,y:338},{x:90.8979,y:338},{x:92.0692,y:338},{x:93.0275,y:337.068},{x:93.0275,y:335.929},{x:93.0275,y:72.0714},{x:93.0275,y:70.9321},{x:92.0692,y:70},{x:90.8979,y:70},{x:18.1332,y:70},{x:16.7702,y:70},{x:15.7694,y:71.2221},{x:16.0462,y:72.5063},{x:40.1803,y:203.565},{x:40.2442,y:203.855},{x:40.2442,y:204.145},{x:40.1803,y:204.435}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"move",pti:19},{type:"line-to",pti:20},{type:"cubic-bezier-to",cp0:21,cp1:22,pti:23},{type:"line-to",pti:24},{type:"cubic-bezier-to",cp0:25,cp1:26,pti:27},{type:"line-to",pti:28},{type:"cubic-bezier-to",cp0:29,cp1:30,pti:31},{type:"line-to",pti:32},{type:"cubic-bezier-to",cp0:33,cp1:34,pti:35},{type:"line-to",pti:36},{type:"cubic-bezier-to",cp0:37,cp1:38,pti:39},{type:"move",pti:40},{type:"line-to",pti:41},{type:"cubic-bezier-to",cp0:42,cp1:43,pti:44},{type:"line-to",pti:45},{type:"cubic-bezier-to",cp0:46,cp1:47,pti:48},{type:"line-to",pti:49},{type:"cubic-bezier-to",cp0:50,cp1:51,pti:52},{type:"line-to",pti:53},{type:"cubic-bezier-to",cp0:54,cp1:55,pti:56},{type:"line-to",pti:57},{type:"cubic-bezier-to",cp0:58,cp1:59,pti:60}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-15.999985,y:0},designerSize:{w:652.000283,h:350},mostCompactAffixedSize:{w:283.000283,h:.1},resizeMode:"scale-first"},rounded_square:{id:"rounded_square",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.435854},{pti:6,vRatio:.235294},{pti:4,vRatio:.325088},{pti:5,vRatio:.235294},{pti:7,vRatio:.235294},{pti:10,vRatio:.435854},{pti:8,vRatio:.235294},{pti:9,vRatio:.325088},{pti:0,vRatio:.258824}],v0:0,vLength:85},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.552376},{pti:11,vRatio:.552376},{pti:14,vRatio:.752941},{pti:12,vRatio:.663153},{pti:13,vRatio:.752941},{pti:15,vRatio:.752941},{pti:18,vRatio:.552376},{pti:16,vRatio:.752941},{pti:17,vRatio:.663153},{pti:1,vRatio:.764706}],v0:314,vLength:85}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.215909},{pti:3,vRatio:.215909},{pti:6,vRatio:.409091},{pti:4,vRatio:.215909},{pti:5,vRatio:.3024},{pti:15,vRatio:.409091},{pti:18,vRatio:.215909},{pti:16,vRatio:.3024},{pti:17,vRatio:.215909},{pti:0,vRatio:.215909}],v0:0,vLength:88},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:7,vRatio:.590909},{pti:10,vRatio:.784091},{pti:8,vRatio:.697602},{pti:9,vRatio:.784091},{pti:11,vRatio:.784091},{pti:14,vRatio:.590909},{pti:12,vRatio:.784091},{pti:13,vRatio:.697602},{pti:1,vRatio:.784091}],v0:307,vLength:88}],pointArray:[{x:22,y:19},{x:379,y:376},{x:360.952,y:19},{x:37.0476,y:19},{x:27.6325,y:19},{x:20,y:26.6112},{x:20,y:36},{x:20,y:359},{x:20,y:368.389},{x:27.6325,y:376},{x:37.0476,y:376},{x:360.952,y:376},{x:370.368,y:376},{x:378,y:368.389},{x:378,y:359},{x:378,y:36},{x:378,y:26.6112},{x:370.368,y:19},{x:360.952,y:19}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-20,y:-19},designerSize:{w:359,h:357},mostCompactAffixedSize:{w:130,h:138},resizeMode:"scale-first"},simple_ribbon:{id:"simple_ribbon",xRanges:[{mode:"affix",pointsSpan:[{pti:19,vRatio:.611182},{pti:22,vRatio:.597831},{pti:20,vRatio:.603839},{pti:21,vRatio:.597831},{pti:23,vRatio:.597831},{pti:26,vRatio:.584481},{pti:24,vRatio:.597831},{pti:25,vRatio:.591824},{pti:27,vRatio:.115283},{pti:30,vRatio:.102201},{pti:28,vRatio:.106739},{pti:29,vRatio:.100465},{pti:31,vRatio:.253861},{pti:34,vRatio:.253861},{pti:32,vRatio:.254261},{pti:33,vRatio:.254261},{pti:35,vRatio:.102201},{pti:38,vRatio:.115283},{pti:36,vRatio:.100465},{pti:37,vRatio:.106739},{pti:39,vRatio:.584481},{pti:42,vRatio:.597831},{pti:40,vRatio:.591824},{pti:41,vRatio:.597831},{pti:43,vRatio:.597831},{pti:46,vRatio:.611182},{pti:44,vRatio:.597831},{pti:45,vRatio:.603839},{pti:0,vRatio:.592357}],v0:0,vLength:157},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.904166},{pti:3,vRatio:.784357},{pti:6,vRatio:.784357},{pti:4,vRatio:.783955},{pti:5,vRatio:.783955},{pti:7,vRatio:.904166},{pti:10,vRatio:.891083},{pti:8,vRatio:.905904},{pti:9,vRatio:.899631},{pti:11,vRatio:.42572},{pti:14,vRatio:.412369},{pti:12,vRatio:.418382},{pti:13,vRatio:.412369},{pti:15,vRatio:.412369},{pti:18,vRatio:.399019},{pti:16,vRatio:.412369},{pti:17,vRatio:.406363},{pti:47,vRatio:.399019},{pti:50,vRatio:.412369},{pti:48,vRatio:.406363},{pti:49,vRatio:.412369},{pti:51,vRatio:.412369},{pti:54,vRatio:.42572},{pti:52,vRatio:.412369},{pti:53,vRatio:.418382},{pti:55,vRatio:.891083},{pti:58,vRatio:.904166},{pti:56,vRatio:.899631},{pti:57,vRatio:.905904},{pti:1,vRatio:.426752}],v0:526,vLength:157}],yRanges:[{mode:"affix",pointsSpan:[{pti:18,vRatio:0},{pti:17,vRatio:0},{pti:19,vRatio:0},{pti:20,vRatio:0},{pti:0,vRatio:0}],v0:30,vLength:.05},{mode:"flex",pointsSpan:[{pti:2,vRatio:.872947},{pti:3,vRatio:.498385},{pti:6,vRatio:.495899},{pti:4,vRatio:.497556},{pti:5,vRatio:.496728},{pti:7,vRatio:.121338},{pti:10,vRatio:.114175},{pti:8,vRatio:.117668},{pti:9,vRatio:.114175},{pti:11,vRatio:.114175},{pti:14,vRatio:.108256},{pti:12,vRatio:.114175},{pti:13,vRatio:.111512},{pti:15,vRatio:.005777},{pti:16,vRatio:.002521},{pti:22,vRatio:.005777},{pti:21,vRatio:.002521},{pti:23,vRatio:.108256},{pti:26,vRatio:.114175},{pti:24,vRatio:.111512},{pti:25,vRatio:.114175},{pti:27,vRatio:.114175},{pti:30,vRatio:.121338},{pti:28,vRatio:.114175},{pti:29,vRatio:.117668},{pti:31,vRatio:.495899},{pti:34,vRatio:.498385},{pti:32,vRatio:.496728},{pti:33,vRatio:.497556},{pti:35,vRatio:.872947},{pti:38,vRatio:.880109},{pti:36,vRatio:.876616},{pti:37,vRatio:.880109},{pti:39,vRatio:.880109},{pti:42,vRatio:.886027},{pti:40,vRatio:.880109},{pti:41,vRatio:.882772},{pti:43,vRatio:.988508},{pti:46,vRatio:.994427},{pti:44,vRatio:.991763},{pti:45,vRatio:.994427},{pti:47,vRatio:.994427},{pti:50,vRatio:.988508},{pti:48,vRatio:.994427},{pti:49,vRatio:.991763},{pti:51,vRatio:.886027},{pti:54,vRatio:.880109},{pti:52,vRatio:.882772},{pti:53,vRatio:.880109},{pti:55,vRatio:.880109},{pti:58,vRatio:.872947},{pti:56,vRatio:.880109},{pti:57,vRatio:.876616}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:1,vRatio:1}],v0:379.95,vLength:.05}],pointArray:[{x:93,y:30},{x:593,y:380},{x:667.954,y:335.494},{x:649.144,y:204.435},{x:649.081,y:204.145},{x:649.081,y:203.855},{x:649.144,y:203.565},{x:667.954,y:72.5063},{x:668.227,y:71.2221},{x:667.242,y:70},{x:665.9,y:70},{x:592.838,y:70},{x:591.686,y:70},{x:590.742,y:69.0679},{x:590.742,y:67.9286},{x:590.742,y:32.0714},{x:590.742,y:30.9321},{x:589.799,y:30},{x:588.646,y:30},{x:95.9555,y:30},{x:94.8027,y:30},{x:93.8595,y:30.9321},{x:93.8595,y:32.0714},{x:93.8595,y:67.9286},{x:93.8595,y:69.0679},{x:92.9163,y:70},{x:91.7635,y:70},{x:18.0995,y:70},{x:16.7581,y:70},{x:15.773,y:71.2221},{x:16.0455,y:72.5063},{x:39.8562,y:203.565},{x:39.919,y:203.855},{x:39.919,y:204.145},{x:39.8562,y:204.435},{x:16.0455,y:335.494},{x:15.773,y:336.778},{x:16.7581,y:338},{x:18.0995,y:338},{x:91.7635,y:338},{x:92.9163,y:338},{x:93.8595,y:338.932},{x:93.8595,y:340.071},{x:93.8595,y:375.929},{x:93.8595,y:377.068},{x:94.8027,y:378},{x:95.9555,y:378},{x:588.646,y:378},{x:589.799,y:378},{x:590.742,y:377.068},{x:590.742,y:375.929},{x:590.742,y:340.071},{x:590.742,y:338.932},{x:591.686,y:338},{x:592.838,y:338},{x:665.9,y:338},{x:667.242,y:338},{x:668.227,y:336.778},{x:667.954,y:335.494}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30},{type:"line-to",pti:31},{type:"cubic-bezier-to",cp0:32,cp1:33,pti:34},{type:"line-to",pti:35},{type:"cubic-bezier-to",cp0:36,cp1:37,pti:38},{type:"line-to",pti:39},{type:"cubic-bezier-to",cp0:40,cp1:41,pti:42},{type:"line-to",pti:43},{type:"cubic-bezier-to",cp0:44,cp1:45,pti:46},{type:"line-to",pti:47},{type:"cubic-bezier-to",cp0:48,cp1:49,pti:50},{type:"line-to",pti:51},{type:"cubic-bezier-to",cp0:52,cp1:53,pti:54},{type:"line-to",pti:55},{type:"cubic-bezier-to",cp0:56,cp1:57,pti:58}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-15.999997,y:0},designerSize:{w:651.99966,h:350},mostCompactAffixedSize:{w:282.99966,h:.1},resizeMode:"scale-first"},speech_bubble_center:{id:"speech_bubble_center",xRanges:[{mode:"affix",pointsSpan:[{pti:19,vRatio:.109971},{pti:22,vRatio:.045455},{pti:20,vRatio:.074486},{pti:21,vRatio:.045455},{pti:23,vRatio:.045455},{pti:26,vRatio:.109971},{pti:24,vRatio:.045455},{pti:25,vRatio:.074486},{pti:0,vRatio:.075758}],v0:19,vLength:66},{mode:"flex",pointsSpan:[],flexProportion:.5},{mode:"affix",pointsSpan:[{pti:2,vRatio:.099118},{pti:3,vRatio:.467059},{pti:6,vRatio:.544706},{pti:4,vRatio:.487094},{pti:5,vRatio:.524671},{pti:7,vRatio:.912906},{pti:10,vRatio:.951729},{pti:8,vRatio:.922424},{pti:9,vRatio:.936694},{pti:27,vRatio:.060035},{pti:30,vRatio:.098859},{pti:28,vRatio:.075071},{pti:29,vRatio:.089341},{pti:31,vRatio:.099118}],v0:177,vLength:85},{mode:"flex",pointsSpan:[],flexProportion:.5},{mode:"affix",pointsSpan:[{pti:11,vRatio:.891672},{pti:14,vRatio:.955224},{pti:12,vRatio:.926627},{pti:13,vRatio:.955224},{pti:15,vRatio:.955224},{pti:18,vRatio:.891672},{pti:16,vRatio:.955224},{pti:17,vRatio:.926627},{pti:1,vRatio:.955224}],v0:354,vLength:67}],yRanges:[{mode:"affix",pointsSpan:[{pti:15,vRatio:.103744},{pti:18,vRatio:.042857},{pti:16,vRatio:.070257},{pti:17,vRatio:.042857},{pti:19,vRatio:.042857},{pti:22,vRatio:.103744},{pti:20,vRatio:.042857},{pti:21,vRatio:.070257},{pti:0,vRatio:.057143}],v0:18,vLength:70},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.503972},{pti:3,vRatio:.863869},{pti:6,vRatio:.863869},{pti:4,vRatio:.883383},{pti:5,vRatio:.883383},{pti:7,vRatio:.503972},{pti:10,vRatio:.489234},{pti:8,vRatio:.494617},{pti:9,vRatio:.489234},{pti:11,vRatio:.489234},{pti:14,vRatio:.449402},{pti:12,vRatio:.489234},{pti:13,vRatio:.471308},{pti:23,vRatio:.449402},{pti:26,vRatio:.489234},{pti:24,vRatio:.471308},{pti:25,vRatio:.489234},{pti:27,vRatio:.489234},{pti:30,vRatio:.503972},{pti:28,vRatio:.489234},{pti:29,vRatio:.494617},{pti:31,vRatio:.503972},{pti:1,vRatio:.495327}],v0:267,vLength:107}],pointArray:[{x:24,y:22},{x:418,y:320},{x:185.425,y:320.925},{x:216.7,y:359.434},{x:218.403,y:361.522},{x:221.597,y:361.522},{x:223.3,y:359.434},{x:254.597,y:320.925},{x:255.406,y:319.924},{x:256.619,y:319.348},{x:257.897,y:319.348},{x:413.742,y:319.348},{x:416.084,y:319.348},{x:418,y:317.43},{x:418,y:315.086},{x:418,y:25.2621},{x:418,y:22.918},{x:416.084,y:21},{x:413.742,y:21},{x:26.2581,y:21},{x:23.9161,y:21},{x:22,y:22.918},{x:22,y:25.2621},{x:22,y:315.086},{x:22,y:317.43},{x:23.9161,y:319.348},{x:26.2581,y:319.348},{x:182.103,y:319.348},{x:183.381,y:319.348},{x:184.594,y:319.924},{x:185.403,y:320.925},{x:185.425,y:320.925}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30},{type:"line-to",pti:31}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-3,y:-3},designerSize:{w:396,h:340},mostCompactAffixedSize:{w:212,h:161},resizeMode:"scale-first"},speech_bubble_left:{id:"speech_bubble_left",xRanges:[{mode:"affix",pointsSpan:[{pti:11,vRatio:.140111},{pti:14,vRatio:.075758},{pti:12,vRatio:.104717},{pti:13,vRatio:.075758},{pti:15,vRatio:.075758},{pti:18,vRatio:.140111},{pti:16,vRatio:.075758},{pti:17,vRatio:.104717},{pti:0,vRatio:.106061}],v0:19,vLength:66},{mode:"flex",pointsSpan:[],flexProportion:.141304},{mode:"affix",pointsSpan:[{pti:2,vRatio:.915247},{pti:3,vRatio:.204694},{pti:6,vRatio:.127988},{pti:4,vRatio:.171459},{pti:5,vRatio:.127988},{pti:7,vRatio:.127988},{pti:10,vRatio:.078024},{pti:8,vRatio:.127988},{pti:9,vRatio:.105506},{pti:27,vRatio:.941976},{pti:30,vRatio:.915247},{pti:28,vRatio:.932482},{pti:29,vRatio:.923235}],v0:111,vLength:85},{mode:"flex",pointsSpan:[],flexProportion:.858696},{mode:"affix",pointsSpan:[{pti:19,vRatio:.906761},{pti:22,vRatio:.970149},{pti:20,vRatio:.941627},{pti:21,vRatio:.970149},{pti:23,vRatio:.970149},{pti:26,vRatio:.906761},{pti:24,vRatio:.970149},{pti:25,vRatio:.941627},{pti:1,vRatio:.985075}],v0:354,vLength:67}],yRanges:[{mode:"affix",pointsSpan:[{pti:15,vRatio:.218029},{pti:18,vRatio:.157143},{pti:16,vRatio:.184541},{pti:17,vRatio:.157143},{pti:19,vRatio:.157143},{pti:22,vRatio:.218029},{pti:20,vRatio:.157143},{pti:21,vRatio:.184541},{pti:0,vRatio:.171429}],v0:18,vLength:70},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.570075},{pti:3,vRatio:.928355},{pti:6,vRatio:.894692},{pti:4,vRatio:.945084},{pti:5,vRatio:.926159},{pti:7,vRatio:.603729},{pti:10,vRatio:.563897},{pti:8,vRatio:.581822},{pti:9,vRatio:.563897},{pti:11,vRatio:.563897},{pti:14,vRatio:.524065},{pti:12,vRatio:.563897},{pti:13,vRatio:.545972},{pti:23,vRatio:.524065},{pti:26,vRatio:.563897},{pti:24,vRatio:.545972},{pti:25,vRatio:.563897},{pti:27,vRatio:.563897},{pti:30,vRatio:.570075},{pti:28,vRatio:.563897},{pti:29,vRatio:.566084},{pti:1,vRatio:.570093}],v0:267,vLength:107}],pointArray:[{x:26,y:30},{x:420,y:328},{x:188.796,y:327.998},{x:128.399,y:366.334},{x:125.574,y:368.124},{x:121.879,y:366.099},{x:121.879,y:362.732},{x:121.879,y:331.599},{x:121.879,y:329.255},{x:119.968,y:327.337},{x:117.632,y:327.337},{x:28.2473,y:327.337},{x:25.9113,y:327.337},{x:24,y:325.419},{x:24,y:323.075},{x:24,y:33.262},{x:24,y:30.9179},{x:25.9113,y:29},{x:28.2473,y:29},{x:414.753,y:29},{x:417.089,y:29},{x:419,y:30.9179},{x:419,y:33.262},{x:419,y:323.075},{x:419,y:325.419},{x:417.089,y:327.337},{x:414.753,y:327.337},{x:191.068,y:327.337},{x:190.261,y:327.337},{x:189.475,y:327.571},{x:188.796,y:327.998}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-5,y:-11},designerSize:{w:396,h:338.000151},mostCompactAffixedSize:{w:212,h:159.000151},resizeMode:"scale-first"},speech_bubble_right:{id:"speech_bubble_right",xRanges:[{mode:"affix",pointsSpan:[{pti:22,vRatio:0},{pti:21,vRatio:0},{pti:23,vRatio:0},{pti:24,vRatio:0},{pti:0,vRatio:0}],v0:16,vLength:.05},{mode:"flex",pointsSpan:[],flexProportion:.01578},{mode:"affix",pointsSpan:[{pti:19,vRatio:.019062},{pti:20,vRatio:-.016423},{pti:26,vRatio:.019062},{pti:25,vRatio:-.016423}],v0:19,vLength:66},{mode:"flex",pointsSpan:[],flexProportion:.82375},{mode:"affix",pointsSpan:[{pti:2,vRatio:.091612},{pti:3,vRatio:.803965},{pti:6,vRatio:.880859},{pti:4,vRatio:.837271},{pti:5,vRatio:.880859},{pti:7,vRatio:.880859},{pti:10,vRatio:.930953},{pti:8,vRatio:.880859},{pti:9,vRatio:.9034},{pti:27,vRatio:.064812},{pti:30,vRatio:.091612},{pti:28,vRatio:.074329},{pti:29,vRatio:.0836}],v0:239,vLength:85},{mode:"flex",pointsSpan:[],flexProportion:.160471},{mode:"affix",pointsSpan:[{pti:11,vRatio:.802119},{pti:14,vRatio:.865672},{pti:12,vRatio:.837075},{pti:13,vRatio:.865672},{pti:15,vRatio:.865672},{pti:18,vRatio:.802119},{pti:16,vRatio:.865672},{pti:17,vRatio:.837075},{pti:1,vRatio:.835821}],v0:354,vLength:67}],yRanges:[{mode:"affix",pointsSpan:[{pti:15,vRatio:.089457},{pti:18,vRatio:.028571},{pti:16,vRatio:.05597},{pti:17,vRatio:.028571},{pti:19,vRatio:.028571},{pti:22,vRatio:.089457},{pti:20,vRatio:.028571},{pti:21,vRatio:.05597},{pti:0,vRatio:.042857}],v0:18,vLength:70},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.485963},{pti:3,vRatio:.844243},{pti:6,vRatio:.810579},{pti:4,vRatio:.860972},{pti:5,vRatio:.842047},{pti:7,vRatio:.519617},{pti:10,vRatio:.479785},{pti:8,vRatio:.49771},{pti:9,vRatio:.479785},{pti:11,vRatio:.479785},{pti:14,vRatio:.439953},{pti:12,vRatio:.479785},{pti:13,vRatio:.46186},{pti:23,vRatio:.439953},{pti:26,vRatio:.479785},{pti:24,vRatio:.46186},{pti:25,vRatio:.479785},{pti:27,vRatio:.479785},{pti:30,vRatio:.485963},{pti:28,vRatio:.479785},{pti:29,vRatio:.481972},{pti:1,vRatio:.485981}],v0:267,vLength:107}],pointArray:[{x:16,y:21},{x:410,y:319},{x:246.787,y:318.998},{x:307.337,y:357.334},{x:310.168,y:359.124},{x:313.873,y:357.099},{x:313.873,y:353.732},{x:313.873,y:322.599},{x:313.873,y:320.255},{x:315.789,y:318.337},{x:318.131,y:318.337},{x:407.742,y:318.337},{x:410.084,y:318.337},{x:412,y:316.419},{x:412,y:314.075},{x:412,y:24.262},{x:412,y:21.9179},{x:410.084,y:20},{x:407.742,y:20},{x:20.2581,y:20},{x:17.9161,y:20},{x:16,y:21.9179},{x:16,y:24.262},{x:16,y:314.075},{x:16,y:316.419},{x:17.9161,y:318.337},{x:20.2581,y:318.337},{x:244.509,y:318.337},{x:245.318,y:318.337},{x:246.106,y:318.571},{x:246.787,y:318.998}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:0,y:-2},designerSize:{w:396,h:338.000151},mostCompactAffixedSize:{w:209.05,h:159.000151},resizeMode:"scale-first"},start:{id:"start",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.132498},{pti:6,vRatio:.082353},{pti:4,vRatio:.104918},{pti:5,vRatio:.082353},{pti:7,vRatio:.082353},{pti:10,vRatio:.132498},{pti:8,vRatio:.082353},{pti:9,vRatio:.104918},{pti:0,vRatio:.082353}],v0:24,vLength:85},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.436574},{pti:11,vRatio:.436574},{pti:14,vRatio:.464532},{pti:12,vRatio:.448816},{pti:13,vRatio:.459844},{pti:15,vRatio:.905418},{pti:18,vRatio:.905418},{pti:16,vRatio:.908596},{pti:17,vRatio:.908596},{pti:19,vRatio:.464532},{pti:22,vRatio:.436574},{pti:20,vRatio:.459844},{pti:21,vRatio:.448816},{pti:1,vRatio:.702128}],v0:363,vLength:141}],yRanges:[{mode:"affix",pointsSpan:[{pti:7,vRatio:.139205},{pti:10,vRatio:.090909},{pti:8,vRatio:.112642},{pti:9,vRatio:.090909},{pti:11,vRatio:.090909},{pti:14,vRatio:.12061},{pti:12,vRatio:.090909},{pti:13,vRatio:.102741},{pti:0,vRatio:.090909}],v0:33,vLength:88},{mode:"flex",pointsSpan:[{pti:15,vRatio:.495583},{pti:18,vRatio:.518306},{pti:16,vRatio:.502813},{pti:17,vRatio:.511076}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.931818},{pti:3,vRatio:.931818},{pti:6,vRatio:.883523},{pti:4,vRatio:.931818},{pti:5,vRatio:.910091},{pti:19,vRatio:.902114},{pti:22,vRatio:.931818},{pti:20,vRatio:.920227},{pti:21,vRatio:.931818},{pti:1,vRatio:.931818}],v0:265,vLength:88}],pointArray:[{x:31,y:41},{x:462,y:347},{x:424.557,y:347},{x:35.2623,y:347},{x:32.918,y:347},{x:31,y:345.088},{x:31,y:342.75},{x:31,y:45.25},{x:31,y:42.9125},{x:32.918,y:41},{x:35.2623,y:41},{x:424.557,y:41},{x:426.283,y:41},{x:427.838,y:42.0412},{x:428.499,y:43.6137},{x:490.664,y:192.364},{x:491.112,y:193.405},{x:491.112,y:194.595},{x:490.664,y:195.636},{x:428.499,y:344.386},{x:427.838,y:345.98},{x:426.283,y:347},{x:424.557,y:347}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-7,y:-8},designerSize:{w:460,h:306},mostCompactAffixedSize:{w:206,h:162},resizeMode:"scale-first"},step:{id:"step",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.087004},{pti:6,vRatio:.059094},{pti:4,vRatio:.065431},{pti:5,vRatio:.050797},{pti:7,vRatio:.489478},{pti:10,vRatio:.489478},{pti:8,vRatio:.492646},{pti:9,vRatio:.492646},{pti:11,vRatio:.059094},{pti:14,vRatio:.087004},{pti:12,vRatio:.050797},{pti:13,vRatio:.065431},{pti:0,vRatio:.531915}],v0:0,vLength:141},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.253085},{pti:15,vRatio:.253085},{pti:18,vRatio:.280993},{pti:16,vRatio:.265298},{pti:17,vRatio:.276312},{pti:19,vRatio:.721028},{pti:22,vRatio:.721028},{pti:20,vRatio:.724199},{pti:21,vRatio:.724199},{pti:23,vRatio:.280993},{pti:26,vRatio:.253085},{pti:24,vRatio:.276312},{pti:25,vRatio:.265298},{pti:1,vRatio:.524823}],v0:363,vLength:141}],yRanges:[{mode:"affix",pointsSpan:[{pti:14,vRatio:0},{pti:13,vRatio:0},{pti:15,vRatio:0},{pti:16,vRatio:0},{pti:0,vRatio:0}],v0:41,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.980922},{pti:5,vRatio:.990092},{pti:7,vRatio:.505348},{pti:10,vRatio:.494652},{pti:8,vRatio:.501945},{pti:9,vRatio:.498055},{pti:11,vRatio:.019079},{pti:12,vRatio:.009909},{pti:18,vRatio:.008381},{pti:17,vRatio:.00324},{pti:19,vRatio:.494652},{pti:22,vRatio:.505348},{pti:20,vRatio:.498055},{pti:21,vRatio:.501945},{pti:23,vRatio:.991618},{pti:24,vRatio:.996829}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:1},{pti:3,vRatio:1},{pti:4,vRatio:1},{pti:26,vRatio:1},{pti:25,vRatio:1},{pti:1,vRatio:1}],v0:346.95,vLength:.05}],pointArray:[{x:75,y:41},{x:437,y:347},{x:398.685,y:347},{x:12.2675,y:347},{x:9.22582,y:347},{x:7.1624,y:343.919},{x:8.33226,y:341.114},{x:69.0164,y:195.636},{x:69.4631,y:194.595},{x:69.4631,y:193.405},{x:69.0164,y:192.364},{x:8.33226,y:46.8863},{x:7.1624,y:44.0813},{x:9.22582,y:41},{x:12.2675,y:41},{x:398.685,y:41},{x:400.407,y:41},{x:401.96,y:42.0412},{x:402.62,y:43.6137},{x:464.665,y:192.364},{x:465.112,y:193.405},{x:465.112,y:194.595},{x:464.665,y:195.636},{x:402.62,y:344.386},{x:401.96,y:345.98},{x:400.407,y:347},{x:398.685,y:347}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-8,y:0},designerSize:{w:457.00025,h:306},mostCompactAffixedSize:{w:235.00025,h:.1},resizeMode:"scale-first"},stored_data:{id:"stored_data",xRanges:[{mode:"affix",pointsSpan:[{pti:15,vRatio:.39352},{pti:18,vRatio:.126126},{pti:16,vRatio:.245906},{pti:17,vRatio:.126126},{pti:21,vRatio:.39352},{pti:19,vRatio:.126126},{pti:20,vRatio:.245906},{pti:0,vRatio:.405405}],v0:0,vLength:111},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.718622},{pti:5,vRatio:.750288},{pti:3,vRatio:.749523},{pti:4,vRatio:.766991},{pti:8,vRatio:.56218},{pti:6,vRatio:.641261},{pti:7,vRatio:.56218},{pti:11,vRatio:.750288},{pti:9,vRatio:.56218},{pti:10,vRatio:.641261},{pti:14,vRatio:.718622},{pti:12,vRatio:.766991},{pti:13,vRatio:.749333},{pti:22,vRatio:.718622},{pti:1,vRatio:.504505}],v0:277,vLength:111}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:0},{pti:3,vRatio:0},{pti:21,vRatio:0},{pti:20,vRatio:0},{pti:22,vRatio:0},{pti:0,vRatio:0}],v0:25,vLength:.05},{mode:"flex",pointsSpan:[{pti:5,vRatio:.022125},{pti:4,vRatio:.012479},{pti:8,vRatio:.5},{pti:6,vRatio:.085289},{pti:7,vRatio:.275354},{pti:11,vRatio:.977875},{pti:9,vRatio:.724646},{pti:10,vRatio:.91471},{pti:12,vRatio:.987519},{pti:18,vRatio:.5},{pti:17,vRatio:.776237},{pti:19,vRatio:.223764}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:14,vRatio:1},{pti:13,vRatio:1},{pti:15,vRatio:1},{pti:16,vRatio:1},{pti:1,vRatio:1}],v0:322.95,vLength:.05}],pointArray:[{x:45,y:25},{x:333,y:323},{x:356.767,y:25},{x:360.197,y:25},{x:362.136,y:28.7676},{x:360.282,y:31.6411},{x:348.18,y:50.4577},{x:339.402,y:107.078},{x:339.402,y:174},{x:339.402,y:240.922},{x:348.18,y:297.542},{x:360.282,y:316.359},{x:362.136,y:319.232},{x:360.176,y:323},{x:356.767,y:323},{x:43.6807,y:323},{x:27.2956,y:323},{x:14,y:256.291},{x:14,y:174},{x:14,y:91.7094},{x:27.2956,y:25},{x:43.6807,y:25},{x:356.767,y:25}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"cubic-bezier-to",cp0:6,cp1:7,pti:8},{type:"cubic-bezier-to",cp0:9,cp1:10,pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"cubic-bezier-to",cp0:19,cp1:20,pti:21},{type:"line-to",pti:22}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-14,y:0},designerSize:{w:346.999686,h:298},mostCompactAffixedSize:{w:180.999686,h:.1},resizeMode:"scale-first"},summing_junction:{id:"summing_junction",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.807936},{pti:3,vRatio:.196355},{pti:4,vRatio:.807936},{pti:5,vRatio:.196355},{pti:6,vRatio:.808665},{pti:9,vRatio:.195626},{pti:7,vRatio:.639391},{pti:8,vRatio:.364901},{pti:12,vRatio:.195626},{pti:10,vRatio:.026351},{pti:11,vRatio:.026351},{pti:15,vRatio:.808665},{pti:13,vRatio:.364901},{pti:14,vRatio:.639391},{pti:18,vRatio:.808665},{pti:16,vRatio:.97794},{pti:17,vRatio:.97794},{pti:19,vRatio:.06867},{pti:20,vRatio:.502146},{pti:21,vRatio:.935622},{pti:22,vRatio:.502146},{pti:0,vRatio:.06867},{pti:1,vRatio:.935622}],v0:0,vLength:233}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.196357},{pti:3,vRatio:.807936},{pti:4,vRatio:.807936},{pti:5,vRatio:.196357},{pti:6,vRatio:.808665},{pti:9,vRatio:.808665},{pti:7,vRatio:.97794},{pti:8,vRatio:.97794},{pti:12,vRatio:.195626},{pti:10,vRatio:.639391},{pti:11,vRatio:.364901},{pti:15,vRatio:.195626},{pti:13,vRatio:.026351},{pti:14,vRatio:.026351},{pti:18,vRatio:.808665},{pti:16,vRatio:.364901},{pti:17,vRatio:.639391},{pti:19,vRatio:.502146},{pti:20,vRatio:.06867},{pti:21,vRatio:.502146},{pti:22,vRatio:.935622},{pti:0,vRatio:.06867},{pti:1,vRatio:.935622}],v0:0,vLength:233}],pointArray:[{x:16,y:16},{x:218,y:218},{x:188.249,y:45.7511},{x:45.7508,y:188.249},{x:188.249,y:188.249},{x:45.7508,y:45.7511},{x:188.419,y:188.419},{x:148.978,y:227.86},{x:85.0219,y:227.86},{x:45.5808,y:188.419},{x:6.13973,y:148.978},{x:6.13973,y:85.0219},{x:45.5808,y:45.5808},{x:85.0219,y:6.13972},{x:148.978,y:6.13972},{x:188.419,y:45.5808},{x:227.86,y:85.0219},{x:227.86,y:148.978},{x:188.419,y:188.419},{x:16,y:117},{x:117,y:16},{x:218,y:117},{x:117,y:218}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"move",pti:4},{type:"line-to",pti:5},{type:"move",pti:6},{type:"cubic-bezier-to",cp0:7,cp1:8,pti:9},{type:"cubic-bezier-to",cp0:10,cp1:11,pti:12},{type:"cubic-bezier-to",cp0:13,cp1:14,pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[19,20,21,22],designerOffset:{x:-15.999998,y:-15.99999},designerSize:{w:202.000003,h:202.00001},mostCompactAffixedSize:{w:202.000003,h:202.00001},resizeMode:"scale-first"},teardrop_bubble:{id:"teardrop_bubble",xRanges:[{mode:"affix",pointsSpan:[{pti:14,vRatio:0},{pti:13,vRatio:0},{pti:15,vRatio:0},{pti:16,vRatio:0}],v0:2,vLength:.05},{mode:"flex",pointsSpan:[{pti:2,vRatio:.481482},{pti:3,vRatio:.518518},{pti:4,vRatio:.784326},{pti:10,vRatio:.988666},{pti:9,vRatio:.994974},{pti:11,vRatio:.481482},{pti:12,vRatio:.215675},{pti:18,vRatio:.481482},{pti:17,vRatio:.215675},{pti:0,vRatio:.118177},{pti:1,vRatio:.884512}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:6,vRatio:1},{pti:5,vRatio:1},{pti:7,vRatio:1},{pti:8,vRatio:1}],v0:373.95,vLength:.05}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:0},{pti:3,vRatio:0},{pti:4,vRatio:0},{pti:18,vRatio:0},{pti:17,vRatio:0}],v0:2,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.48148},{pti:5,vRatio:.215675},{pti:7,vRatio:.988668},{pti:8,vRatio:.994974},{pti:14,vRatio:.51852},{pti:13,vRatio:.784325},{pti:15,vRatio:.48148},{pti:16,vRatio:.215675},{pti:0,vRatio:.115799},{pti:1,vRatio:.884201}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:10,vRatio:1},{pti:9,vRatio:1},{pti:11,vRatio:1},{pti:12,vRatio:1}],v0:372.95,vLength:.05}],pointArray:[{x:46,y:45},{x:331,y:330},{x:181.113,y:2},{x:194.887,y:2},{x:293.741,y:2},{x:374,y:82.0438},{x:374,y:180.631},{x:374,y:368.747},{x:374,y:371.086},{x:372.081,y:373},{x:369.735,y:373},{x:181.113,y:373},{x:82.2595,y:373},{x:2,y:292.956},{x:2,y:194.369},{x:2,y:180.631},{x:2,y:82.0438},{x:82.2595,y:2},{x:181.113,y:2}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:0,y:0},designerSize:{w:372,h:371},mostCompactAffixedSize:{w:.1,h:.1},resizeMode:"scale-first"},terminator:{id:"terminator",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.881723},{pti:6,vRatio:.141844},{pti:4,vRatio:.473098},{pti:5,vRatio:.141844},{pti:9,vRatio:.881723},{pti:7,vRatio:.141844},{pti:8,vRatio:.473098},{pti:0,vRatio:.141844}],v0:0,vLength:141},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.05523},{pti:10,vRatio:.05523},{pti:13,vRatio:.805755},{pti:11,vRatio:.469734},{pti:12,vRatio:.805755},{pti:16,vRatio:.05523},{pti:14,vRatio:.805755},{pti:15,vRatio:.469734},{pti:1,vRatio:.805755}],v0:304,vLength:139}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:0},{pti:3,vRatio:0},{pti:4,vRatio:0},{pti:16,vRatio:0},{pti:15,vRatio:0}],v0:20,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.5},{pti:5,vRatio:.223725},{pti:7,vRatio:.776277},{pti:13,vRatio:.5},{pti:12,vRatio:.776277},{pti:14,vRatio:.223725},{pti:0,vRatio:.00938}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:9,vRatio:1},{pti:8,vRatio:1},{pti:10,vRatio:1},{pti:11,vRatio:1},{pti:1,vRatio:1}],v0:227.95,vLength:.05}],pointArray:[{x:20,y:22},{x:416,y:228},{x:311.677,y:20},{x:124.323,y:20},{x:66.7068,y:20},{x:20,y:66.5624},{x:20,y:124},{x:20,y:181.438},{x:66.7068,y:228},{x:124.323,y:228},{x:311.677,y:228},{x:369.293,y:228},{x:416,y:181.438},{x:416,y:124},{x:416,y:66.5624},{x:369.293,y:20},{x:311.677,y:20}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"cubic-bezier-to",cp0:7,cp1:8,pti:9},{type:"line-to",pti:10},{type:"cubic-bezier-to",cp0:11,cp1:12,pti:13},{type:"cubic-bezier-to",cp0:14,cp1:15,pti:16}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-20,y:0},designerSize:{w:396,h:208},mostCompactAffixedSize:{w:233,h:.1},resizeMode:"scale-first"},trapezoid:{id:"trapezoid",xRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.747358},{pti:11,vRatio:.281555},{pti:14,vRatio:.243807},{pti:12,vRatio:.257795},{pti:13,vRatio:.239784},{pti:15,vRatio:.709611},{pti:18,vRatio:.747358},{pti:16,vRatio:.712868},{pti:17,vRatio:.728771},{pti:0,vRatio:.711712}],v0:4,vLength:111},{mode:"flex",pointsSpan:[],flexProportion:1},{mode:"affix",pointsSpan:[{pti:3,vRatio:.225613},{pti:6,vRatio:.26336},{pti:4,vRatio:.244198},{pti:5,vRatio:.260108},{pti:7,vRatio:.729162},{pti:10,vRatio:.691414},{pti:8,vRatio:.733189},{pti:9,vRatio:.71518},{pti:1,vRatio:.252252}],v0:344,vLength:111}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:0},{pti:3,vRatio:0},{pti:4,vRatio:0},{pti:18,vRatio:0},{pti:17,vRatio:0},{pti:0,vRatio:0}],v0:12,vLength:.05},{mode:"flex",pointsSpan:[{pti:6,vRatio:.011367},{pti:5,vRatio:.004699},{pti:7,vRatio:.983907},{pti:8,vRatio:.992383},{pti:14,vRatio:.983907},{pti:13,vRatio:.992383},{pti:15,vRatio:.011367},{pti:16,vRatio:.004699}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:10,vRatio:1},{pti:9,vRatio:1},{pti:11,vRatio:1},{pti:12,vRatio:1},{pti:1,vRatio:1}],v0:317.95,vLength:.05}],pointArray:[{x:83,y:12},{x:372,y:318},{x:86.9567,y:12},{x:369.043,y:12},{x:371.106,y:12},{x:372.872,y:13.4873},{x:373.233,y:15.5273},{x:424.937,y:313.027},{x:425.384,y:315.62},{x:423.385,y:318},{x:420.747,y:318},{x:35.2526,y:318},{x:32.6152,y:318},{x:30.616,y:315.62},{x:31.0626,y:313.027},{x:82.7668,y:15.5273},{x:83.1283,y:13.4873},{x:84.8936,y:12},{x:86.9567,y:12}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-26.999989,y:0},designerSize:{w:393.99973,h:306},mostCompactAffixedSize:{w:164.99973,h:.1},resizeMode:"scale-first"},badge:{id:"badge",xRanges:[{mode:"affix",pointsSpan:[{pti:22,vRatio:.5},{pti:46,vRatio:.5}],v0:11.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.024247},{mode:"affix",pointsSpan:[{pti:20,vRatio:.5},{pti:24,vRatio:.5}],v0:22.059,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.071265},{mode:"affix",pointsSpan:[{pti:18,vRatio:.5},{pti:26,vRatio:.5}],v0:51.5772,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.011771},{mode:"affix",pointsSpan:[{pti:21,vRatio:.5},{pti:23,vRatio:.5}],v0:56.5361,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.038321},{mode:"affix",pointsSpan:[{pti:19,vRatio:.5},{pti:25,vRatio:.5}],v0:72.455,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.017914},{mode:"affix",pointsSpan:[{pti:0,vRatio:.5}],v0:79.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.042179},{mode:"affix",pointsSpan:[{pti:16,vRatio:.5},{pti:28,vRatio:.5}],v0:97.4614,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.012751},{mode:"affix",pointsSpan:[{pti:17,vRatio:.5},{pti:27,vRatio:.5}],v0:102.825,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.100908},{mode:"affix",pointsSpan:[{pti:15,vRatio:.5},{pti:29,vRatio:.5}],v0:144.58,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.025792},{mode:"affix",pointsSpan:[{pti:14,vRatio:.5},{pti:30,vRatio:.5}],v0:155.327,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.092507},{mode:"affix",pointsSpan:[{pti:13,vRatio:.5},{pti:31,vRatio:.5}],v0:193.614,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.062345},{mode:"affix",pointsSpan:[{pti:12,vRatio:.5},{pti:32,vRatio:.5},{pti:43,vRatio:.5},{pti:45,vRatio:.5}],v0:219.45,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.062345},{mode:"affix",pointsSpan:[{pti:11,vRatio:.5},{pti:33,vRatio:.5}],v0:245.286,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.092558},{mode:"affix",pointsSpan:[{pti:10,vRatio:.5},{pti:34,vRatio:.5}],v0:283.594,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.025795},{mode:"affix",pointsSpan:[{pti:9,vRatio:.5},{pti:35,vRatio:.5}],v0:294.342,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.100858},{mode:"affix",pointsSpan:[{pti:7,vRatio:.5},{pti:37,vRatio:.5}],v0:336.076,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.01275},{mode:"affix",pointsSpan:[{pti:8,vRatio:.5},{pti:36,vRatio:.5}],v0:341.439,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.039755},{mode:"affix",pointsSpan:[{pti:1,vRatio:.5}],v0:357.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.02039},{mode:"affix",pointsSpan:[{pti:5,vRatio:.5},{pti:39,vRatio:.5}],v0:366.467,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.038319},{mode:"affix",pointsSpan:[{pti:3,vRatio:.5},{pti:41,vRatio:.5}],v0:382.385,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.01172},{mode:"affix",pointsSpan:[{pti:6,vRatio:.5},{pti:38,vRatio:.5}],v0:387.323,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.071265},{mode:"affix",pointsSpan:[{pti:4,vRatio:.5},{pti:40,vRatio:.5}],v0:416.841,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.024247},{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:42,vRatio:.5},{pti:44,vRatio:.5}],v0:426.95,vLength:.1}],yRanges:[{mode:"affix",pointsSpan:[{pti:32,vRatio:.5},{pti:43,vRatio:.5}],v0:13.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.024248},{mode:"affix",pointsSpan:[{pti:30,vRatio:.5},{pti:34,vRatio:.5}],v0:24.059,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.071269},{mode:"affix",pointsSpan:[{pti:28,vRatio:.5},{pti:36,vRatio:.5}],v0:53.5772,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.011719},{mode:"affix",pointsSpan:[{pti:31,vRatio:.5},{pti:33,vRatio:.5}],v0:58.5146,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.038323},{mode:"affix",pointsSpan:[{pti:29,vRatio:.5},{pti:35,vRatio:.5}],v0:74.4336,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.06039},{mode:"affix",pointsSpan:[{pti:26,vRatio:.5},{pti:38,vRatio:.5}],v0:99.4613,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.012749},{mode:"affix",pointsSpan:[{pti:27,vRatio:.5},{pti:37,vRatio:.5}],v0:104.824,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.014599},{mode:"affix",pointsSpan:[{pti:0,vRatio:.5}],v0:110.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.086022},{mode:"affix",pointsSpan:[{pti:25,vRatio:.5},{pti:39,vRatio:.5}],v0:146.558,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.025796},{mode:"affix",pointsSpan:[{pti:24,vRatio:.5},{pti:40,vRatio:.5}],v0:157.306,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.092563},{mode:"affix",pointsSpan:[{pti:23,vRatio:.5},{pti:41,vRatio:.5}],v0:195.614,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.062348},{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:22,vRatio:.5},{pti:42,vRatio:.5},{pti:44,vRatio:.5},{pti:46,vRatio:.5}],v0:221.45,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.062348},{mode:"affix",pointsSpan:[{pti:3,vRatio:.5},{pti:21,vRatio:.5}],v0:247.286,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.092512},{mode:"affix",pointsSpan:[{pti:4,vRatio:.5},{pti:20,vRatio:.5}],v0:285.573,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.025794},{mode:"affix",pointsSpan:[{pti:5,vRatio:.5},{pti:19,vRatio:.5}],v0:296.32,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.08123},{mode:"affix",pointsSpan:[{pti:1,vRatio:.5}],v0:329.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.019444},{mode:"affix",pointsSpan:[{pti:7,vRatio:.5},{pti:17,vRatio:.5}],v0:338.076,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.012697},{mode:"affix",pointsSpan:[{pti:6,vRatio:.590164},{pti:18,vRatio:.409836}],v0:343.417,vLength:.122},{mode:"flex",pointsSpan:[],flexProportion:.060338},{mode:"affix",pointsSpan:[{pti:9,vRatio:.5},{pti:15,vRatio:.5}],v0:368.445,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.038323},{mode:"affix",pointsSpan:[{pti:11,vRatio:.5},{pti:13,vRatio:.5}],v0:384.364,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.011771},{mode:"affix",pointsSpan:[{pti:8,vRatio:.5},{pti:16,vRatio:.5}],v0:389.323,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.071268},{mode:"affix",pointsSpan:[{pti:10,vRatio:.5},{pti:14,vRatio:.5}],v0:418.841,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.024248},{mode:"affix",pointsSpan:[{pti:12,vRatio:.5},{pti:45,vRatio:.5}],v0:428.95,vLength:.1}],pointArray:[{x:80,y:111},{x:358,y:330},{x:427,y:221.5},{x:382.435,y:247.336},{x:416.891,y:285.623},{x:366.517,y:296.37},{x:387.373,y:343.489},{x:336.126,y:338.126},{x:341.489,y:389.373},{x:294.392,y:368.495},{x:283.644,y:418.891},{x:245.336,y:384.414},{x:219.5,y:429},{x:193.664,y:384.414},{x:155.377,y:418.891},{x:144.63,y:368.495},{x:97.5114,y:389.373},{x:102.875,y:338.126},{x:51.6272,y:343.467},{x:72.505,y:296.37},{x:22.109,y:285.623},{x:56.5861,y:247.336},{x:12,y:221.5},{x:56.5861,y:195.664},{x:22.109,y:157.356},{x:72.505,y:146.608},{x:51.6272,y:99.5113},{x:102.875,y:104.874},{x:97.5114,y:53.6272},{x:144.63,y:74.4836},{x:155.377,y:24.109},{x:193.664,y:58.5646},{x:219.5,y:14},{x:245.336,y:58.5646},{x:283.644,y:24.109},{x:294.392,y:74.4836},{x:341.489,y:53.6272},{x:336.126,y:104.874},{x:387.373,y:99.5113},{x:366.517,y:146.608},{x:416.891,y:157.356},{x:382.435,y:195.664},{x:427,y:221.5},{x:219.5,y:14},{x:427,y:221.5},{x:219.5,y:429},{x:12,y:221.5}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"line-to",pti:4},{type:"line-to",pti:5},{type:"line-to",pti:6},{type:"line-to",pti:7},{type:"line-to",pti:8},{type:"line-to",pti:9},{type:"line-to",pti:10},{type:"line-to",pti:11},{type:"line-to",pti:12},{type:"line-to",pti:13},{type:"line-to",pti:14},{type:"line-to",pti:15},{type:"line-to",pti:16},{type:"line-to",pti:17},{type:"line-to",pti:18},{type:"line-to",pti:19},{type:"line-to",pti:20},{type:"line-to",pti:21},{type:"line-to",pti:22},{type:"line-to",pti:23},{type:"line-to",pti:24},{type:"line-to",pti:25},{type:"line-to",pti:26},{type:"line-to",pti:27},{type:"line-to",pti:28},{type:"line-to",pti:29},{type:"line-to",pti:30},{type:"line-to",pti:31},{type:"line-to",pti:32},{type:"line-to",pti:33},{type:"line-to",pti:34},{type:"line-to",pti:35},{type:"line-to",pti:36},{type:"line-to",pti:37},{type:"line-to",pti:38},{type:"line-to",pti:39},{type:"line-to",pti:40},{type:"line-to",pti:41},{type:"line-to",pti:42}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[43,44,45,46],designerOffset:{x:-.05,y:-.05},designerSize:{w:415,h:415},mostCompactAffixedSize:{w:2.2,h:2.222},resizeMode:"flex-only"},cloud:{id:"cloud",xRanges:[{mode:"affix",pointsSpan:[{pti:35,vRatio:0},{pti:34,vRatio:73.238}],v0:10.2556,vLength:.05},{mode:"flex",pointsSpan:[{pti:5,vRatio:.862903},{pti:4,vRatio:.937134},{pti:8,vRatio:.802532},{pti:6,vRatio:.841695},{pti:7,vRatio:.821301},{pti:11,vRatio:.794269},{pti:9,vRatio:.798954},{pti:10,vRatio:.795114},{pti:14,vRatio:.600953},{pti:12,vRatio:.773744},{pti:13,vRatio:.694992},{pti:17,vRatio:.465016},{pti:15,vRatio:.548354},{pti:16,vRatio:.500537},{pti:20,vRatio:.455744},{pti:18,vRatio:.462348},{pti:19,vRatio:.45812},{pti:23,vRatio:.357412},{pti:21,vRatio:.431934},{pti:22,vRatio:.396738},{pti:26,vRatio:.228242},{pti:24,vRatio:.28998},{pti:25,vRatio:.234617},{pti:29,vRatio:.220011},{pti:27,vRatio:.22785},{pti:28,vRatio:.223915},{pti:32,vRatio:.157003},{pti:30,vRatio:.200234},{pti:31,vRatio:.179025},{pti:33,vRatio:.07282},{pti:38,vRatio:.171967},{pti:36,vRatio:0},{pti:37,vRatio:.072853},{pti:41,vRatio:.219588},{pti:39,vRatio:.188491},{pti:40,vRatio:.204462},{pti:44,vRatio:.227395},{pti:42,vRatio:.222808},{pti:43,vRatio:.226159},{pti:47,vRatio:.459974},{pti:45,vRatio:.264055},{pti:46,vRatio:.354386},{pti:50,vRatio:.642914},{pti:48,vRatio:.532219},{pti:49,vRatio:.597277},{pti:53,vRatio:.651599},{pti:51,vRatio:.645191},{pti:52,vRatio:.648963},{pti:56,vRatio:.730774},{pti:54,vRatio:.673522},{pti:55,vRatio:.700945},{pti:59,vRatio:.859554},{pti:57,vRatio:.797001},{pti:58,vRatio:.851617},{pti:62,vRatio:.865441},{pti:60,vRatio:.859944},{pti:61,vRatio:.86235},{pti:63,vRatio:.943867},{pti:0,vRatio:.049953},{pti:1,vRatio:.971265}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:2,vRatio:.58},{pti:3,vRatio:-50.94},{pti:65,vRatio:1},{pti:64,vRatio:57.64},{pti:66,vRatio:.58}],v0:664.807,vLength:.05}],yRanges:[{mode:"affix",pointsSpan:[{pti:14,vRatio:0},{pti:13,vRatio:0},{pti:15,vRatio:0}],v0:11,vLength:.05},{mode:"flex",pointsSpan:[{pti:2,vRatio:.469462},{pti:5,vRatio:.241678},{pti:3,vRatio:.350176},{pti:4,vRatio:.252206},{pti:8,vRatio:.252622},{pti:6,vRatio:.238657},{pti:7,vRatio:.242773},{pti:11,vRatio:.245275},{pti:9,vRatio:.2545},{pti:10,vRatio:.25111},{pti:12,vRatio:.104623},{pti:17,vRatio:.086176},{pti:16,vRatio:.032656},{pti:20,vRatio:.08529},{pti:18,vRatio:.090188},{pti:19,vRatio:.089719},{pti:23,vRatio:.01301},{pti:21,vRatio:.041046},{pti:22,vRatio:.01301},{pti:26,vRatio:.200719},{pti:24,vRatio:.01301},{pti:25,vRatio:.095348},{pti:29,vRatio:.209734},{pti:27,vRatio:.20718},{pti:28,vRatio:.211558},{pti:32,vRatio:.199833},{pti:30,vRatio:.20051},{pti:31,vRatio:.19681},{pti:35,vRatio:.456226},{pti:33,vRatio:.211402},{pti:34,vRatio:.321149},{pti:38,vRatio:.751286},{pti:36,vRatio:.617305},{pti:37,vRatio:.751286},{pti:41,vRatio:.74055},{pti:39,vRatio:.751286},{pti:40,vRatio:.747535},{pti:44,vRatio:.74696},{pti:42,vRatio:.739093},{pti:43,vRatio:.741956},{pti:45,vRatio:.895219},{pti:50,vRatio:.872499},{pti:49,vRatio:.950981},{pti:53,vRatio:.871196},{pti:51,vRatio:.868591},{pti:52,vRatio:.867914},{pti:56,vRatio:.914397},{pti:54,vRatio:.898242},{pti:55,vRatio:.914397},{pti:59,vRatio:.732265},{pti:57,vRatio:.914397},{pti:58,vRatio:.834925},{pti:62,vRatio:.722989},{pti:60,vRatio:.727315},{pti:61,vRatio:.723509},{pti:65,vRatio:.469462},{pti:63,vRatio:.709648},{pti:64,vRatio:.600159},{pti:66,vRatio:.469462},{pti:0,vRatio:.136831},{pti:1,vRatio:.828931}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:47,vRatio:1},{pti:46,vRatio:1},{pti:48,vRatio:1}],v0:419.95,vLength:.05}],pointArray:[{x:43,y:67},{x:646,y:350},{x:664.836,y:203.013},{x:662.26,y:154.237},{x:623.661,y:114.177},{x:575.077,y:109.872},{x:561.196,y:108.637},{x:547.848,y:110.32},{x:535.564,y:114.347},{x:533.222,y:115.115},{x:530.709,y:113.729},{x:530.156,y:111.343},{x:516.722,y:53.8305},{x:465.179,y:11},{x:403.63,y:11},{x:369.204,y:11},{x:337.908,y:24.4032},{x:314.659,y:46.2873},{x:312.913,y:47.928},{x:310.146,y:47.7363},{x:308.591,y:45.9251},{x:293.007,y:27.8339},{x:269.971,y:16.3698},{x:244.232,y:16.3698},{x:200.098,y:16.3698},{x:163.863,y:50.0376},{x:159.69,y:93.1238},{x:159.434,y:95.7661},{x:156.858,y:97.5561},{x:154.303,y:96.8103},{x:141.359,y:93.0387},{x:127.478,y:91.5257},{x:113.064,y:92.7616},{x:57.9662,y:97.4922},{x:13.9175,y:142.368},{x:10.2556,y:197.601},{x:5.89117,y:263.466},{x:57.9877,y:318.251},{x:122.858,y:318.251},{x:133.673,y:318.251},{x:144.126,y:316.717},{x:154.026,y:313.861},{x:156.134,y:313.265},{x:158.327,y:314.436},{x:159.136,y:316.482},{x:183.13,y:377.105},{x:242.252,y:420},{x:311.359,y:420},{x:358.644,y:420},{x:401.224,y:399.906},{x:431.094,y:367.815},{x:432.584,y:366.217},{x:435.053,y:365.94},{x:436.778,y:367.282},{x:451.127,y:378.341},{x:469.075,y:384.947},{x:488.598,y:384.947},{x:531.944,y:384.947},{x:567.69,y:352.451},{x:572.885,y:310.473},{x:573.14,y:308.449},{x:574.715,y:306.893},{x:576.738,y:306.68},{x:628.068,y:301.225},{x:667.689,y:256.455},{x:664.857,y:203.013},{x:664.836,y:203.013}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"cubic-bezier-to",cp0:6,cp1:7,pti:8},{type:"cubic-bezier-to",cp0:9,cp1:10,pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"cubic-bezier-to",cp0:15,cp1:16,pti:17},{type:"cubic-bezier-to",cp0:18,cp1:19,pti:20},{type:"cubic-bezier-to",cp0:21,cp1:22,pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"cubic-bezier-to",cp0:27,cp1:28,pti:29},{type:"cubic-bezier-to",cp0:30,cp1:31,pti:32},{type:"cubic-bezier-to",cp0:33,cp1:34,pti:35},{type:"cubic-bezier-to",cp0:36,cp1:37,pti:38},{type:"cubic-bezier-to",cp0:39,cp1:40,pti:41},{type:"cubic-bezier-to",cp0:42,cp1:43,pti:44},{type:"cubic-bezier-to",cp0:45,cp1:46,pti:47},{type:"cubic-bezier-to",cp0:48,cp1:49,pti:50},{type:"cubic-bezier-to",cp0:51,cp1:52,pti:53},{type:"cubic-bezier-to",cp0:54,cp1:55,pti:56},{type:"cubic-bezier-to",cp0:57,cp1:58,pti:59},{type:"cubic-bezier-to",cp0:60,cp1:61,pti:62},{type:"cubic-bezier-to",cp0:63,cp1:64,pti:65},{type:"line-to",pti:66}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:.255598,y:0},designerSize:{w:654.999844,h:409},mostCompactAffixedSize:{w:.498444,h:.1},resizeMode:"flex-only"},decision:{id:"decision",xRanges:[{mode:"affix",pointsSpan:[],v0:18.4185,vLength:.1},{mode:"flex",pointsSpan:[{pti:3,vRatio:.01096},{pti:6,vRatio:.01096},{pti:4,vRatio:0},{pti:5,vRatio:0},{pti:7,vRatio:.992071},{pti:8,vRatio:1},{pti:0,vRatio:.14508}],flexProportion:.493849},{mode:"affix",pointsSpan:[],v0:207.941,vLength:.1},{mode:"flex",pointsSpan:[{pti:2,vRatio:.57082},{pti:18,vRatio:.57082},{pti:17,vRatio:1}],flexProportion:.005504},{mode:"affix",pointsSpan:[],v0:210.152,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.001293},{mode:"affix",pointsSpan:[],v0:210.748,vLength:.1},{mode:"flex",pointsSpan:[{pti:10,vRatio:.42918},{pti:9,vRatio:0}],flexProportion:.005504},{mode:"affix",pointsSpan:[],v0:212.959,vLength:.1},{mode:"flex",pointsSpan:[{pti:11,vRatio:.989035},{pti:14,vRatio:.989035},{pti:12,vRatio:1},{pti:13,vRatio:1},{pti:15,vRatio:.007929},{pti:16,vRatio:0},{pti:1,vRatio:.860196}],flexProportion:.49385},{mode:"affix",pointsSpan:[],v0:402.482,vLength:.1}],yRanges:[{mode:"affix",pointsSpan:[],v0:13.6356,vLength:.1},{mode:"flex",pointsSpan:[{pti:6,vRatio:.989119},{pti:5,vRatio:1},{pti:7,vRatio:.007935},{pti:10,vRatio:.007935},{pti:8,vRatio:0},{pti:9,vRatio:0},{pti:0,vRatio:.349967}],flexProportion:.490759},{mode:"affix",pointsSpan:[],v0:165.934,vLength:.1},{mode:"flex",pointsSpan:[{pti:11,vRatio:.385215},{pti:12,vRatio:1}],flexProportion:.00868},{mode:"affix",pointsSpan:[],v0:168.726,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.001122},{mode:"affix",pointsSpan:[],v0:169.174,vLength:.1},{mode:"flex",pointsSpan:[{pti:3,vRatio:.614785},{pti:4,vRatio:0}],flexProportion:.00868},{mode:"affix",pointsSpan:[],v0:171.966,vLength:.1},{mode:"flex",pointsSpan:[{pti:2,vRatio:.99207},{pti:14,vRatio:.010881},{pti:13,vRatio:0},{pti:15,vRatio:.99207},{pti:18,vRatio:.99207},{pti:16,vRatio:1},{pti:17,vRatio:1},{pti:1,vRatio:.663176}],flexProportion:.490758},{mode:"affix",pointsSpan:[],v0:324.264,vLength:.1}],pointArray:[{x:46,y:67},{x:376,y:273},{x:209.246,y:323.057},{x:20.5946,y:170.929},{x:18.4685,y:169.224},{x:18.4685,y:165.984},{x:20.5946,y:164.278},{x:206.439,y:14.9433},{x:207.991,y:13.6856},{x:210.202,y:13.6856},{x:211.754,y:14.9433},{x:400.405,y:167.071},{x:402.532,y:168.776},{x:402.532,y:172.016},{x:400.405,y:173.722},{x:214.561,y:323.057},{x:213.009,y:324.314},{x:210.798,y:324.314},{x:209.246,y:323.057}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-.581525,y:-.364425},designerSize:{w:383.000225,h:309.999725},mostCompactAffixedSize:{w:-.563275,h:-.128675},resizeMode:"flex-only"},hexagon_smart:{id:"hexagon_smart",xRanges:[{mode:"affix",pointsSpan:[{pti:4,vRatio:.5}],v0:19.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.148084},{mode:"affix",pointsSpan:[{pti:0,vRatio:.5}],v0:79.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.101731},{mode:"affix",pointsSpan:[{pti:3,vRatio:.5},{pti:5,vRatio:.5}],v0:121.2,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.500371},{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:6,vRatio:.5},{pti:8,vRatio:.5}],v0:323.7,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.101731},{mode:"affix",pointsSpan:[{pti:1,vRatio:.5}],v0:364.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.148084},{mode:"affix",pointsSpan:[{pti:7,vRatio:.5}],v0:424.95,vLength:.1}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:3,vRatio:.5},{pti:8,vRatio:.5}],v0:19.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.093839},{mode:"affix",pointsSpan:[{pti:0,vRatio:.5}],v0:52.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.406161},{mode:"affix",pointsSpan:[{pti:4,vRatio:.5},{pti:7,vRatio:.5}],v0:195.45,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.406161},{mode:"affix",pointsSpan:[{pti:1,vRatio:.5}],v0:337.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.093839},{mode:"affix",pointsSpan:[{pti:5,vRatio:.5},{pti:6,vRatio:.5}],v0:370.95,vLength:.1}],pointArray:[{x:80,y:53},{x:365,y:338},{x:323.75,y:20},{x:121.25,y:20},{x:20,y:195.5},{x:121.25,y:371},{x:323.75,y:371},{x:425,y:195.5},{x:323.75,y:20}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"line-to",pti:4},{type:"line-to",pti:5},{type:"line-to",pti:6},{type:"line-to",pti:7},{type:"line-to",pti:8}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-.05,y:-.05},designerSize:{w:405,h:351},mostCompactAffixedSize:{w:.5,h:.4},resizeMode:"flex-only"},merge:{id:"merge",xRanges:[{mode:"affix",pointsSpan:[],v0:113.785,vLength:.1},{mode:"flex",pointsSpan:[{pti:10,vRatio:.959375},{pti:9,vRatio:0}],flexProportion:.004719},{mode:"affix",pointsSpan:[],v0:115.805,vLength:.1},{mode:"flex",pointsSpan:[{pti:7,vRatio:.016786},{pti:8,vRatio:0},{pti:11,vRatio:.991838},{pti:12,vRatio:1},{pti:0,vRatio:.185758}],flexProportion:.490856},{mode:"affix",pointsSpan:[],v0:315.6,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.008797},{mode:"affix",pointsSpan:[],v0:319.279,vLength:.1},{mode:"flex",pointsSpan:[{pti:2,vRatio:.008267},{pti:6,vRatio:.983216},{pti:5,vRatio:1},{pti:14,vRatio:.008267},{pti:13,vRatio:0},{pti:1,vRatio:.819268}],flexProportion:.490908},{mode:"affix",pointsSpan:[],v0:519.095,vLength:.1},{mode:"flex",pointsSpan:[{pti:3,vRatio:.040625},{pti:4,vRatio:1}],flexProportion:.004719},{mode:"affix",pointsSpan:[],v0:521.115,vLength:.1}],yRanges:[{mode:"affix",pointsSpan:[{pti:0,vRatio:0}],v0:79,vLength:.05},{mode:"flex",pointsSpan:[],flexProportion:.002957},{mode:"affix",pointsSpan:[{pti:6,vRatio:.5},{pti:5,vRatio:.5},{pti:7,vRatio:.5},{pti:8,vRatio:.5}],v0:79.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.012187},{mode:"affix",pointsSpan:[],v0:83.7589,vLength:.1},{mode:"flex",pointsSpan:[{pti:2,vRatio:.991789},{pti:3,vRatio:.009276},{pti:4,vRatio:0},{pti:10,vRatio:.009276},{pti:9,vRatio:0},{pti:11,vRatio:.991789},{pti:14,vRatio:.991789},{pti:12,vRatio:1},{pti:13,vRatio:1},{pti:1,vRatio:.747837}],flexProportion:.984855},{mode:"affix",pointsSpan:[],v0:383.578,vLength:.1}],pointArray:[{x:153,y:79},{x:483,y:308},{x:321.03,y:381.117},{x:519.273,y:86.639},{x:521.165,y:83.8089},{x:519.145,y:80},{x:515.743,y:80},{x:119.257,y:80},{x:115.855,y:80},{x:113.835,y:83.8089},{x:115.727,y:86.639},{x:313.97,y:381.117},{x:315.65,y:383.628},{x:319.329,y:383.628},{x:321.03,y:381.117}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-1.214937,y:0},designerSize:{w:405.000126,h:304.00025},mostCompactAffixedSize:{w:-1.829874,h:-.32775},resizeMode:"flex-only"},octagon:{id:"octagon",xRanges:[{mode:"affix",pointsSpan:[{pti:10,vRatio:.5},{pti:9,vRatio:.5},{pti:11,vRatio:.5},{pti:12,vRatio:.5}],v0:12.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:977e-6},{mode:"affix",pointsSpan:[],v0:13.3962,vLength:.1},{mode:"flex",pointsSpan:[{pti:6,vRatio:.992862},{pti:5,vRatio:1},{pti:7,vRatio:.007352},{pti:8,vRatio:0},{pti:14,vRatio:.007352},{pti:13,vRatio:0},{pti:15,vRatio:.992862},{pti:16,vRatio:1},{pti:0,vRatio:.335067}],flexProportion:.290681},{mode:"affix",pointsSpan:[],v0:116.472,vLength:.122},{mode:"flex",pointsSpan:[],flexProportion:.002713},{mode:"affix",pointsSpan:[],v0:117.555,vLength:.1},{mode:"flex",pointsSpan:[{pti:2,vRatio:.992614},{pti:3,vRatio:.007386},{pti:4,vRatio:0},{pti:18,vRatio:.007386},{pti:17,vRatio:0},{pti:19,vRatio:.992614},{pti:20,vRatio:1},{pti:34,vRatio:.992614},{pti:33,vRatio:1}],flexProportion:.411255},{mode:"affix",pointsSpan:[],v0:263.345,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.002716},{mode:"affix",pointsSpan:[],v0:264.407,vLength:.121},{mode:"flex",pointsSpan:[{pti:22,vRatio:.007147},{pti:21,vRatio:0},{pti:23,vRatio:.992649},{pti:24,vRatio:1},{pti:30,vRatio:.992649},{pti:29,vRatio:1},{pti:31,vRatio:.007147},{pti:32,vRatio:0},{pti:1,vRatio:.664932}],flexProportion:.290682},{mode:"affix",pointsSpan:[],v0:367.504,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:977e-6},{mode:"affix",pointsSpan:[{pti:26,vRatio:.5},{pti:25,vRatio:.5},{pti:27,vRatio:.5},{pti:28,vRatio:.5}],v0:367.95,vLength:.1}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:3,vRatio:.5},{pti:4,vRatio:.5},{pti:34,vRatio:.5},{pti:33,vRatio:.5}],v0:14.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:977e-6},{mode:"affix",pointsSpan:[],v0:15.3961,vLength:.1},{mode:"flex",pointsSpan:[{pti:6,vRatio:.007352},{pti:5,vRatio:0},{pti:7,vRatio:.992853},{pti:8,vRatio:1},{pti:30,vRatio:.992853},{pti:29,vRatio:1},{pti:31,vRatio:.007352},{pti:32,vRatio:0},{pti:0,vRatio:.296224}],flexProportion:.290681},{mode:"affix",pointsSpan:[],v0:118.472,vLength:.121},{mode:"flex",pointsSpan:[],flexProportion:.002716},{mode:"affix",pointsSpan:[],v0:119.555,vLength:.1},{mode:"flex",pointsSpan:[{pti:10,vRatio:.007386},{pti:9,vRatio:0},{pti:11,vRatio:.992614},{pti:12,vRatio:1},{pti:26,vRatio:.992614},{pti:25,vRatio:1},{pti:27,vRatio:.007386},{pti:28,vRatio:0}],flexProportion:.411254},{mode:"affix",pointsSpan:[],v0:265.345,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.002716},{mode:"affix",pointsSpan:[],v0:266.407,vLength:.121},{mode:"flex",pointsSpan:[{pti:14,vRatio:.007147},{pti:13,vRatio:0},{pti:15,vRatio:.992649},{pti:16,vRatio:1},{pti:22,vRatio:.992649},{pti:21,vRatio:1},{pti:23,vRatio:.007147},{pti:24,vRatio:0},{pti:1,vRatio:.626088}],flexProportion:.290681},{mode:"affix",pointsSpan:[],v0:369.504,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:977e-6},{mode:"affix",pointsSpan:[{pti:18,vRatio:.5},{pti:17,vRatio:.5},{pti:19,vRatio:.5},{pti:20,vRatio:.5}],v0:369.95,vLength:.1}],pointArray:[{x:48,y:46},{x:333,y:331},{x:262.269,y:15},{x:118.731,y:15},{x:117.605,y:15},{x:116.522,y:15.4461},{x:115.737,y:16.2532},{x:14.2533,y:117.736},{x:13.4462,y:118.543},{x:13,y:119.605},{x:13,y:120.731},{x:13,y:264.269},{x:13,y:265.395},{x:13.4462,y:266.478},{x:14.2533,y:267.264},{x:115.737,y:368.747},{x:116.544,y:369.554},{x:117.605,y:370},{x:118.731,y:370},{x:262.269,y:370},{x:263.395,y:370},{x:264.478,y:369.554},{x:265.264,y:368.747},{x:366.747,y:267.264},{x:367.554,y:266.457},{x:368,y:265.395},{x:368,y:264.269},{x:368,y:120.731},{x:368,y:119.605},{x:367.554,y:118.522},{x:366.747,y:117.736},{x:265.264,y:16.2532},{x:264.457,y:15.4461},{x:263.395,y:15},{x:262.269,y:15}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30},{type:"line-to",pti:31},{type:"cubic-bezier-to",cp0:32,cp1:33,pti:34}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-.05,y:-.05},designerSize:{w:355,h:355},mostCompactAffixedSize:{w:.743,h:.742},resizeMode:"flex-only"},pentagon_smart:{id:"pentagon_smart",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.5}],v0:19.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.139908},{mode:"affix",pointsSpan:[{pti:0,vRatio:.5}],v0:74.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.050891},{mode:"affix",pointsSpan:[{pti:4,vRatio:.5}],v0:95.0197,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.309229},{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:7,vRatio:.5}],v0:216.461,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.309228},{mode:"affix",pointsSpan:[{pti:5,vRatio:.5}],v0:337.902,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.055933},{mode:"affix",pointsSpan:[{pti:1,vRatio:.5}],v0:359.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.134811},{mode:"affix",pointsSpan:[{pti:6,vRatio:.5}],v0:412.95,vLength:.1}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:7,vRatio:.5}],v0:19.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.1924},{mode:"affix",pointsSpan:[{pti:0,vRatio:.5}],v0:91.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.189355},{mode:"affix",pointsSpan:[{pti:3,vRatio:.5},{pti:6,vRatio:.5}],v0:162.812,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.618245},{mode:"affix",pointsSpan:[{pti:4,vRatio:.5},{pti:5,vRatio:.5},{pti:1,vRatio:.5}],v0:393.95,vLength:.1}],pointArray:[{x:75,y:92},{x:360,y:394},{x:216.511,y:20},{x:20,y:162.862},{x:95.0697,y:394},{x:337.952,y:394},{x:413,y:162.862},{x:216.511,y:20}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"line-to",pti:4},{type:"line-to",pti:5},{type:"line-to",pti:6},{type:"line-to",pti:7}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-.05,y:-.05},designerSize:{w:393,h:374},mostCompactAffixedSize:{w:.6,h:.3},resizeMode:"flex-only"},rhombus_smart:{id:"rhombus_smart",xRanges:[{mode:"affix",pointsSpan:[{pti:4,vRatio:.5}],v0:19.9518,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.151186},{mode:"affix",pointsSpan:[{pti:0,vRatio:.5}],v0:81.1219,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.348814},{mode:"affix",pointsSpan:[{pti:3,vRatio:.5},{pti:5,vRatio:.5}],v0:222.122,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.356241},{mode:"affix",pointsSpan:[{pti:1,vRatio:.5}],v0:366.1219,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.143759},{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:6,vRatio:.5}],v0:424.292,vLength:.1}],yRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.5}],v0:19.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.150765},{mode:"affix",pointsSpan:[{pti:0,vRatio:.5}],v0:80.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.349235},{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:4,vRatio:.5},{pti:6,vRatio:.5}],v0:222.12,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.35582},{mode:"affix",pointsSpan:[{pti:1,vRatio:.5}],v0:365.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.14418},{mode:"affix",pointsSpan:[{pti:5,vRatio:.5}],v0:424.29,vLength:.1}],pointArray:[{x:81.1719,y:81},{x:366.1719,y:366},{x:424.342,y:222.17},{x:222.172,y:20},{x:20.0018,y:222.17},{x:222.172,y:424.34},{x:424.342,y:222.17}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"line-to",pti:4},{type:"line-to",pti:5},{type:"line-to",pti:6}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-.05,y:-.05},designerSize:{w:404.3402,h:404.34},mostCompactAffixedSize:{w:.4,h:.4},resizeMode:"flex-only"},right_triangle:{id:"right_triangle",xRanges:[{mode:"affix",pointsSpan:[{pti:6,vRatio:.5},{pti:5,vRatio:.5},{pti:7,vRatio:.5},{pti:8,vRatio:.5},{pti:15,vRatio:.5},{pti:0,vRatio:.5}],v0:17.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.00515},{mode:"affix",pointsSpan:[],v0:19.868,vLength:.1},{mode:"flex",pointsSpan:[{pti:3,vRatio:.894813},{pti:4,vRatio:0}],flexProportion:.007263},{mode:"affix",pointsSpan:[],v0:22.532,vLength:.1},{mode:"flex",pointsSpan:[{pti:2,vRatio:.989209},{pti:10,vRatio:.007598},{pti:9,vRatio:0},{pti:11,vRatio:.997872},{pti:14,vRatio:.989209},{pti:12,vRatio:1},{pti:13,vRatio:1},{pti:16,vRatio:.502722},{pti:17,vRatio:.502722},{pti:18,vRatio:.488306},{pti:1,vRatio:.851578}],flexProportion:.982497},{mode:"affix",pointsSpan:[],v0:369.48,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.00509},{mode:"affix",pointsSpan:[],v0:371.377,vLength:.1}],yRanges:[{mode:"affix",pointsSpan:[],v0:14.5231,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.00509},{mode:"affix",pointsSpan:[],v0:16.4199,vLength:.1},{mode:"flex",pointsSpan:[{pti:7,vRatio:.010793},{pti:10,vRatio:.002129},{pti:8,vRatio:0},{pti:9,vRatio:0},{pti:11,vRatio:.992403},{pti:12,vRatio:1},{pti:15,vRatio:.505928},{pti:16,vRatio:.497278},{pti:17,vRatio:.497278},{pti:0,vRatio:.425201}],flexProportion:.982498},{mode:"affix",pointsSpan:[],v0:363.368,vLength:.1},{mode:"flex",pointsSpan:[{pti:6,vRatio:.105304},{pti:5,vRatio:1}],flexProportion:.007263},{mode:"affix",pointsSpan:[],v0:366.032,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.00515},{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:3,vRatio:.5},{pti:4,vRatio:.5},{pti:14,vRatio:.5},{pti:13,vRatio:.5},{pti:18,vRatio:.5},{pti:1,vRatio:.5}],v0:367.95,vLength:.1}],pointArray:[{x:18,y:164},{x:318,y:368},{x:365.737,y:368},{x:22.2623,y:368},{x:19.918,y:368},{x:18,y:366.082},{x:18,y:363.738},{x:18,y:20.2633},{x:18,y:16.4699},{x:22.582,y:14.5731},{x:25.2672,y:17.2584},{x:368.742,y:360.733},{x:371.427,y:363.418},{x:369.53,y:368},{x:365.737,y:368},{x:18,y:192},{x:197,y:189},{x:197,y:189},{x:192,y:368}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[15,16,17,18],designerOffset:{x:-.05,y:-1.47688},designerSize:{w:352.000177,h:352.00002},mostCompactAffixedSize:{w:-1.026823,h:-1.02688},resizeMode:"flex-only"},star:{id:"star",xRanges:[{mode:"affix",pointsSpan:[],v0:8.71157,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.003171},{mode:"affix",pointsSpan:[],v0:10.1134,vLength:.1},{mode:"flex",pointsSpan:[{pti:35,vRatio:.014173},{pti:38,vRatio:.045237},{pti:36,vRatio:0},{pti:37,vRatio:0},{pti:45,vRatio:.009837},{pti:0,vRatio:.919504}],flexProportion:.184852},{mode:"affix",pointsSpan:[],v0:86.1093,vLength:.1},{mode:"flex",pointsSpan:[{pti:30,vRatio:.154243},{pti:29,vRatio:0},{pti:47,vRatio:.761785}],flexProportion:.008603},{mode:"affix",pointsSpan:[],v0:89.7414,vLength:.1},{mode:"flex",pointsSpan:[{pti:27,vRatio:.156833},{pti:28,vRatio:0},{pti:34,vRatio:.950484},{pti:33,vRatio:1}],flexProportion:.047712},{mode:"affix",pointsSpan:[],v0:109.431,vLength:.1},{mode:"flex",pointsSpan:[{pti:31,vRatio:.468208},{pti:32,vRatio:1}],flexProportion:843e-6},{mode:"affix",pointsSpan:[],v0:109.877,vLength:.1},{mode:"flex",pointsSpan:[{pti:39,vRatio:.966132},{pti:40,vRatio:1}],flexProportion:.095719},{mode:"affix",pointsSpan:[],v0:149.277,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.002652},{mode:"affix",pointsSpan:[],v0:150.466,vLength:.1},{mode:"flex",pointsSpan:[{pti:2,vRatio:.008423},{pti:3,vRatio:.975842},{pti:4,vRatio:1},{pti:42,vRatio:.009454},{pti:41,vRatio:0},{pti:43,vRatio:.008423}],flexProportion:.151226},{mode:"affix",pointsSpan:[],v0:212.656,vLength:.1},{mode:"flex",pointsSpan:[{pti:26,vRatio:.185389},{pti:25,vRatio:1}],flexProportion:.003534},{mode:"affix",pointsSpan:[],v0:214.207,vLength:.1},{mode:"flex",pointsSpan:[{pti:44,vRatio:.47114}],flexProportion:.003376},{mode:"affix",pointsSpan:[],v0:215.693,vLength:.1},{mode:"flex",pointsSpan:[{pti:23,vRatio:.8653},{pti:24,vRatio:0}],flexProportion:.003327},{mode:"affix",pointsSpan:[],v0:217.159,vLength:.1},{mode:"flex",pointsSpan:[{pti:6,vRatio:.024488},{pti:5,vRatio:0},{pti:7,vRatio:.990894},{pti:8,vRatio:1}],flexProportion:.151382},{mode:"affix",pointsSpan:[],v0:279.413,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.002652},{mode:"affix",pointsSpan:[],v0:280.602,vLength:.1},{mode:"flex",pointsSpan:[{pti:10,vRatio:.034384},{pti:9,vRatio:0}],flexProportion:.09577},{mode:"affix",pointsSpan:[],v0:320.023,vLength:.1},{mode:"flex",pointsSpan:[{pti:18,vRatio:.5},{pti:17,vRatio:0}],flexProportion:896e-6},{mode:"affix",pointsSpan:[],v0:320.491,vLength:.1},{mode:"flex",pointsSpan:[{pti:15,vRatio:.048446},{pti:16,vRatio:0},{pti:22,vRatio:.842958},{pti:21,vRatio:1}],flexProportion:.04766},{mode:"affix",pointsSpan:[],v0:340.159,vLength:.1},{mode:"flex",pointsSpan:[{pti:19,vRatio:.845696},{pti:20,vRatio:1},{pti:48,vRatio:.238109}],flexProportion:.008603},{mode:"affix",pointsSpan:[],v0:343.791,vLength:.1},{mode:"flex",pointsSpan:[{pti:11,vRatio:.954754},{pti:14,vRatio:.985823},{pti:12,vRatio:1},{pti:13,vRatio:1},{pti:46,vRatio:.990026},{pti:1,vRatio:.278131}],flexProportion:.184852},{mode:"affix",pointsSpan:[],v0:419.787,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.003169},{mode:"affix",pointsSpan:[],v0:421.188,vLength:.1}],yRanges:[{mode:"affix",pointsSpan:[],v0:9.1575,vLength:.1},{mode:"flex",pointsSpan:[{pti:2,vRatio:.990453},{pti:3,vRatio:.02472},{pti:6,vRatio:.02472},{pti:4,vRatio:0},{pti:5,vRatio:0},{pti:7,vRatio:.990453},{pti:8,vRatio:1},{pti:42,vRatio:.990453},{pti:41,vRatio:1},{pti:43,vRatio:.990453},{pti:44,vRatio:.012142},{pti:0,vRatio:.520892}],flexProportion:.321959},{mode:"affix",pointsSpan:[],v0:135.469,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.001969},{mode:"affix",pointsSpan:[],v0:136.341,vLength:.1},{mode:"flex",pointsSpan:[{pti:10,vRatio:.006996},{pti:9,vRatio:0},{pti:11,vRatio:.977126},{pti:12,vRatio:1},{pti:38,vRatio:.977126},{pti:37,vRatio:1},{pti:39,vRatio:.006996},{pti:40,vRatio:0}],flexProportion:.051412},{mode:"affix",pointsSpan:[],v0:156.595,vLength:.1},{mode:"flex",pointsSpan:[{pti:45,vRatio:.616619},{pti:46,vRatio:.616619}],flexProportion:.010653},{mode:"affix",pointsSpan:[],v0:160.871,vLength:.1},{mode:"flex",pointsSpan:[{pti:14,vRatio:.024614},{pti:13,vRatio:0},{pti:15,vRatio:.990543},{pti:16,vRatio:1},{pti:34,vRatio:.990543},{pti:33,vRatio:1},{pti:35,vRatio:.024614},{pti:36,vRatio:0}],flexProportion:.250592},{mode:"affix",pointsSpan:[],v0:259.206,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.003326},{mode:"affix",pointsSpan:[],v0:260.61,vLength:.1},{mode:"flex",pointsSpan:[{pti:18,vRatio:.017579},{pti:17,vRatio:0},{pti:31,vRatio:.017579},{pti:32,vRatio:0}],flexProportion:.193441},{mode:"affix",pointsSpan:[],v0:336.541,vLength:.1},{mode:"flex",pointsSpan:[{pti:19,vRatio:.945565},{pti:20,vRatio:1},{pti:23,vRatio:.009715},{pti:26,vRatio:.009715},{pti:24,vRatio:0},{pti:25,vRatio:0},{pti:30,vRatio:.945565},{pti:29,vRatio:1},{pti:1,vRatio:.372018}],flexProportion:.160174},{mode:"affix",pointsSpan:[{pti:47,vRatio:.900826},{pti:48,vRatio:.818182}],v0:399.431,vLength:.121},{mode:"flex",pointsSpan:[{pti:22,vRatio:.37431},{pti:21,vRatio:1},{pti:27,vRatio:.37431},{pti:28,vRatio:1}],flexProportion:.006474},{mode:"affix",pointsSpan:[],v0:402.09,vLength:.1}],pointArray:[{x:80,y:75},{x:365,y:360},{x:151.089,y:134.264},{x:211.156,y:12.3775},{x:212.706,y:9.2075},{x:217.209,y:9.2075},{x:218.781,y:12.3775},{x:278.847,y:134.264},{x:279.463,y:135.519},{x:280.652,y:136.391},{x:282.054,y:136.582},{x:416.353,y:156.134},{x:419.837,y:156.645},{x:421.238,y:160.921},{x:418.711,y:163.389},{x:321.539,y:258.277},{x:320.541,y:259.256},{x:320.073,y:260.66},{x:320.307,y:262.043},{x:343.246,y:396.013},{x:343.841,y:399.481},{x:340.209,y:402.14},{x:337.086,y:400.502},{x:216.975,y:337.251},{x:215.743,y:336.591},{x:214.257,y:336.591},{x:213.025,y:337.251},{x:92.9137,y:400.502},{x:89.7914,y:402.14},{x:86.1593,y:399.502},{x:86.7541,y:396.013},{x:109.693,y:262.043},{x:109.927,y:260.66},{x:109.481,y:259.256},{x:108.461,y:258.277},{x:11.2891,y:163.389},{x:8.76157,y:160.921},{x:10.1634,y:156.645},{x:13.6467,y:156.134},{x:147.946,y:136.582},{x:149.327,y:136.391},{x:150.516,y:135.519},{x:151.153,y:134.264},{x:151.089,y:134.264},{x:214.96,y:10.79},{x:10.96,y:159.27},{x:419.03,y:159.27},{x:88.9,y:399.54},{x:341.1,y:399.53}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"cubic-bezier-to",cp0:4,cp1:5,pti:6},{type:"line-to",pti:7},{type:"cubic-bezier-to",cp0:8,cp1:9,pti:10},{type:"line-to",pti:11},{type:"cubic-bezier-to",cp0:12,cp1:13,pti:14},{type:"line-to",pti:15},{type:"cubic-bezier-to",cp0:16,cp1:17,pti:18},{type:"line-to",pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"line-to",pti:23},{type:"cubic-bezier-to",cp0:24,cp1:25,pti:26},{type:"line-to",pti:27},{type:"cubic-bezier-to",cp0:28,cp1:29,pti:30},{type:"line-to",pti:31},{type:"cubic-bezier-to",cp0:32,cp1:33,pti:34},{type:"line-to",pti:35},{type:"cubic-bezier-to",cp0:36,cp1:37,pti:38},{type:"line-to",pti:39},{type:"cubic-bezier-to",cp0:40,cp1:41,pti:42},{type:"line-to",pti:43}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[44,45,46,47,48],designerOffset:{x:-1.288435,y:-.8425},designerSize:{w:409.99991,h:390.999954},mostCompactAffixedSize:{w:-.57652,h:-1.011546},resizeMode:"flex-only"},thinking_bubble_left:{id:"thinking_bubble_left",xRanges:[{mode:"affix",pointsSpan:[{pti:16,vRatio:0},{pti:17,vRatio:44.68},{pti:79,vRatio:0},{pti:78,vRatio:-48.9354},{pti:80,vRatio:0}],v0:10.1224,vLength:.05},{mode:"flex",pointsSpan:[{pti:2,vRatio:.167012},{pti:5,vRatio:.167012},{pti:3,vRatio:.138},{pti:4,vRatio:.138},{pti:8,vRatio:.167012},{pti:6,vRatio:.196024},{pti:7,vRatio:.196024},{pti:9,vRatio:.115961},{pti:12,vRatio:.115961},{pti:10,vRatio:.091759},{pti:11,vRatio:.091759},{pti:15,vRatio:.115961},{pti:13,vRatio:.140162},{pti:14,vRatio:.140162},{pti:19,vRatio:.137068},{pti:18,vRatio:.062822},{pti:22,vRatio:.197441},{pti:20,vRatio:.158286},{pti:21,vRatio:.178683},{pti:25,vRatio:.20572},{pti:23,vRatio:.201021},{pti:24,vRatio:.204861},{pti:28,vRatio:.399036},{pti:26,vRatio:.226267},{pti:27,vRatio:.304989},{pti:31,vRatio:.534998},{pti:29,vRatio:.451653},{pti:30,vRatio:.499459},{pti:34,vRatio:.544282},{pti:32,vRatio:.537681},{pti:33,vRatio:.541897},{pti:37,vRatio:.642618},{pti:35,vRatio:.568075},{pti:36,vRatio:.603314},{pti:40,vRatio:.771794},{pti:38,vRatio:.71004},{pti:39,vRatio:.765416},{pti:43,vRatio:.779997},{pti:41,vRatio:.772166},{pti:42,vRatio:.77612},{pti:46,vRatio:.843019},{pti:44,vRatio:.799761},{pti:45,vRatio:.820979},{pti:47,vRatio:.927185},{pti:52,vRatio:.828029},{pti:50,vRatio:1},{pti:51,vRatio:.927146},{pti:55,vRatio:.780408},{pti:53,vRatio:.811508},{pti:54,vRatio:.795548},{pti:58,vRatio:.772614},{pti:56,vRatio:.777164},{pti:57,vRatio:.773845},{pti:61,vRatio:.540032},{pti:59,vRatio:.735957},{pti:60,vRatio:.64564},{pti:64,vRatio:.357083},{pti:62,vRatio:.4678},{pti:63,vRatio:.402727},{pti:67,vRatio:.348394},{pti:65,vRatio:.354808},{pti:66,vRatio:.351042},{pti:70,vRatio:.269227},{pti:68,vRatio:.326468},{pti:69,vRatio:.299021},{pti:73,vRatio:.140461},{pti:71,vRatio:.202998},{pti:72,vRatio:.148404},{pti:76,vRatio:.134569},{pti:74,vRatio:.140088},{pti:75,vRatio:.137664},{pti:77,vRatio:.056146},{pti:0,vRatio:.089085},{pti:1,vRatio:.918102}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:49,vRatio:1},{pti:48,vRatio:-62.84}],v0:580.727,vLength:.05}],yRanges:[{mode:"affix",pointsSpan:[{pti:28,vRatio:0},{pti:27,vRatio:0},{pti:29,vRatio:0}],v0:20,vLength:.05},{mode:"flex",pointsSpan:[{pti:2,vRatio:.847881},{pti:5,vRatio:.91147},{pti:3,vRatio:.847299},{pti:4,vRatio:.912052},{pti:8,vRatio:.847881},{pti:6,vRatio:.912052},{pti:7,vRatio:.847299},{pti:9,vRatio:.946602},{pti:12,vRatio:.999592},{pti:10,vRatio:.946127},{pti:11,vRatio:1},{pti:15,vRatio:.946602},{pti:14,vRatio:.946072},{pti:16,vRatio:.416434},{pti:19,vRatio:.214381},{pti:17,vRatio:.310665},{pti:18,vRatio:.223706},{pti:22,vRatio:.224079},{pti:20,vRatio:.211732},{pti:21,vRatio:.215388},{pti:25,vRatio:.217561},{pti:23,vRatio:.225721},{pti:24,vRatio:.222754},{pti:26,vRatio:.092821},{pti:31,vRatio:.076394},{pti:30,vRatio:.028967},{pti:34,vRatio:.075599},{pti:32,vRatio:.079944},{pti:33,vRatio:.079573},{pti:37,vRatio:.011481},{pti:35,vRatio:.036386},{pti:36,vRatio:.011481},{pti:40,vRatio:.177977},{pti:38,vRatio:.011481},{pti:39,vRatio:.084555},{pti:43,vRatio:.185978},{pti:41,vRatio:.1837},{pti:42,vRatio:.187568},{pti:46,vRatio:.177182},{pti:44,vRatio:.177818},{pti:45,vRatio:.174479},{pti:49,vRatio:.404616},{pti:47,vRatio:.187462},{pti:48,vRatio:.284806},{pti:52,vRatio:.666337},{pti:50,vRatio:.547479},{pti:51,vRatio:.666337},{pti:55,vRatio:.656797},{pti:53,vRatio:.666337},{pti:54,vRatio:.662999},{pti:58,vRatio:.662467},{pti:56,vRatio:.655474},{pti:57,vRatio:.658016},{pti:61,vRatio:.886989},{pti:59,vRatio:.79399},{pti:60,vRatio:.886989},{pti:64,vRatio:.773802},{pti:62,vRatio:.886989},{pti:63,vRatio:.843432},{pti:67,vRatio:.772635},{pti:65,vRatio:.770303},{pti:66,vRatio:.769721},{pti:70,vRatio:.810948},{pti:68,vRatio:.796641},{pti:69,vRatio:.810948},{pti:73,vRatio:.649379},{pti:71,vRatio:.810948},{pti:72,vRatio:.74047},{pti:76,vRatio:.641165},{pti:74,vRatio:.644982},{pti:75,vRatio:.64159},{pti:79,vRatio:.416327},{pti:77,vRatio:.62935},{pti:78,vRatio:.532217},{pti:80,vRatio:.416434},{pti:0,vRatio:.136653},{pti:1,vRatio:.748423}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:13,vRatio:.56}],v0:422.162,vLength:.05}],pointArray:[{x:61,y:75},{x:534,y:321},{x:105.462,y:360.993},{x:88.9091,y:360.759},{x:88.9091,y:386.797},{x:105.462,y:386.563},{x:122.015,y:386.797},{x:122.015,y:360.759},{x:105.462,y:360.993},{x:76.3343,y:400.69},{x:62.5259,y:400.499},{x:62.5259,y:422.212},{x:76.3343,y:421.998},{x:90.1427,y:422.19},{x:90.1427,y:400.477},{x:76.3343,y:400.69},{x:10.1224,y:187.503},{x:12.3564,y:144.972},{x:46.0158,y:110.005},{x:88.3771,y:106.255},{x:100.483,y:105.19},{x:112.121,y:106.66},{x:122.823,y:110.155},{x:124.866,y:110.815},{x:127.057,y:109.622},{x:127.547,y:107.534},{x:139.27,y:57.3744},{x:184.185,y:20},{x:237.844,y:20},{x:267.865,y:20},{x:295.141,y:31.6981},{x:315.418,y:50.7689},{x:316.949,y:52.1965},{x:319.354,y:52.0473},{x:320.715,y:50.4492},{x:334.29,y:34.6812},{x:354.396,y:24.6665},{x:376.821,y:24.6665},{x:415.289,y:24.6665},{x:446.884,y:54.0504},{x:450.523,y:91.6166},{x:450.735,y:93.9179},{x:452.991,y:95.4734},{x:455.203,y:94.8341},{x:466.48,y:91.5527},{x:478.586,y:90.2102},{x:491.161,y:91.2969},{x:539.182,y:95.4307},{x:577.585,y:134.574},{x:580.777,y:182.751},{x:584.585,y:240.198},{x:539.16,y:287.992},{x:482.608,y:287.992},{x:473.182,y:287.992},{x:464.076,y:286.65},{x:455.438,y:284.156},{x:453.587,y:283.624},{x:451.693,y:284.646},{x:450.991,y:286.436},{x:430.076,y:339.323},{x:378.545,y:376.719},{x:318.29,y:376.719},{x:277.078,y:376.719},{x:239.95,y:359.204},{x:213.908,y:331.205},{x:212.61,y:329.798},{x:210.461,y:329.564},{x:208.95,y:330.736},{x:196.44,y:340.389},{x:180.78,y:346.142},{x:163.781,y:346.142},{x:125.994,y:346.142},{x:94.8449,y:317.802},{x:90.3131,y:281.173},{x:90.1003,y:279.405},{x:88.7172,y:278.041},{x:86.9512,y:277.87},{x:42.2069,y:273.119},{x:7.67563,y:234.061},{x:10.1224,y:187.46},{x:10.1224,y:187.503}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"cubic-bezier-to",cp0:6,cp1:7,pti:8},{type:"move",pti:9},{type:"cubic-bezier-to",cp0:10,cp1:11,pti:12},{type:"cubic-bezier-to",cp0:13,cp1:14,pti:15},{type:"move",pti:16},{type:"cubic-bezier-to",cp0:17,cp1:18,pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"cubic-bezier-to",cp0:23,cp1:24,pti:25},{type:"cubic-bezier-to",cp0:26,cp1:27,pti:28},{type:"cubic-bezier-to",cp0:29,cp1:30,pti:31},{type:"cubic-bezier-to",cp0:32,cp1:33,pti:34},{type:"cubic-bezier-to",cp0:35,cp1:36,pti:37},{type:"cubic-bezier-to",cp0:38,cp1:39,pti:40},{type:"cubic-bezier-to",cp0:41,cp1:42,pti:43},{type:"cubic-bezier-to",cp0:44,cp1:45,pti:46},{type:"cubic-bezier-to",cp0:47,cp1:48,pti:49},{type:"cubic-bezier-to",cp0:50,cp1:51,pti:52},{type:"cubic-bezier-to",cp0:53,cp1:54,pti:55},{type:"cubic-bezier-to",cp0:56,cp1:57,pti:58},{type:"cubic-bezier-to",cp0:59,cp1:60,pti:61},{type:"cubic-bezier-to",cp0:62,cp1:63,pti:64},{type:"cubic-bezier-to",cp0:65,cp1:66,pti:67},{type:"cubic-bezier-to",cp0:68,cp1:69,pti:70},{type:"cubic-bezier-to",cp0:71,cp1:72,pti:73},{type:"cubic-bezier-to",cp0:74,cp1:75,pti:76},{type:"cubic-bezier-to",cp0:77,cp1:78,pti:79},{type:"line-to",pti:80}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:.122385,y:0},designerSize:{w:571.000131,h:401.999571},mostCompactAffixedSize:{w:.445531,h:-.112429},resizeMode:"flex-only"},thinking_bubble_right:{id:"thinking_bubble_right",xRanges:[{mode:"affix",pointsSpan:[{pti:44,vRatio:139.5742}],v0:6.43369,vLength:.05},{mode:"flex",pointsSpan:[{pti:2,vRatio:.834087},{pti:5,vRatio:.834087},{pti:3,vRatio:.862946},{pti:4,vRatio:.862946},{pti:8,vRatio:.834087},{pti:6,vRatio:.805267},{pti:7,vRatio:.805267},{pti:9,vRatio:.884803},{pti:12,vRatio:.884803},{pti:10,vRatio:.908846},{pti:11,vRatio:.908846},{pti:15,vRatio:.884803},{pti:13,vRatio:.860761},{pti:14,vRatio:.860761},{pti:16,vRatio:.866317},{pti:19,vRatio:.860465},{pti:17,vRatio:.863242},{pti:18,vRatio:.860834},{pti:22,vRatio:.732549},{pti:20,vRatio:.852574},{pti:21,vRatio:.79834},{pti:25,vRatio:.653903},{pti:23,vRatio:.70295},{pti:24,vRatio:.675684},{pti:28,vRatio:.64527},{pti:26,vRatio:.651272},{pti:27,vRatio:.64753},{pti:31,vRatio:.463529},{pti:29,vRatio:.599928},{pti:30,vRatio:.535284},{pti:34,vRatio:.23248},{pti:32,vRatio:.358618},{pti:33,vRatio:.268895},{pti:37,vRatio:.224739},{pti:35,vRatio:.231257},{pti:36,vRatio:.227923},{pti:40,vRatio:.177431},{pti:38,vRatio:.209697},{pti:39,vRatio:.193842},{pti:43,vRatio:.006507},{pti:41,vRatio:.078966},{pti:42,vRatio:0},{pti:46,vRatio:.162539},{pti:45,vRatio:.078929},{pti:49,vRatio:.225146},{pti:47,vRatio:.184433},{pti:48,vRatio:.205511},{pti:52,vRatio:.233296},{pti:50,vRatio:.229036},{pti:51,vRatio:.232925},{pti:55,vRatio:.361618},{pti:53,vRatio:.23963},{pti:54,vRatio:.294641},{pti:58,vRatio:.459305},{pti:56,vRatio:.400663},{pti:57,vRatio:.435671},{pti:61,vRatio:.46853},{pti:59,vRatio:.461677},{pti:60,vRatio:.465862},{pti:64,vRatio:.603595},{pti:62,vRatio:.503834},{pti:63,vRatio:.551325},{pti:67,vRatio:.795637},{pti:65,vRatio:.697023},{pti:66,vRatio:.775224},{pti:70,vRatio:.80386},{pti:68,vRatio:.796488},{pti:69,vRatio:.800304},{pti:73,vRatio:.863836},{pti:71,vRatio:.82253},{pti:72,vRatio:.842756},{pti:74,vRatio:.937591},{pti:79,vRatio:.866317},{pti:77,vRatio:1},{pti:78,vRatio:.94426},{pti:80,vRatio:.866317},{pti:0,vRatio:.091437},{pti:1,vRatio:.914985}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:76,vRatio:1},{pti:75,vRatio:-43.68}],v0:580.828,vLength:.05}],yRanges:[{mode:"affix",pointsSpan:[{pti:64,vRatio:0},{pti:63,vRatio:0},{pti:65,vRatio:0}],v0:10,vLength:.05},{mode:"flex",pointsSpan:[{pti:2,vRatio:.911948},{pti:5,vRatio:.848318},{pti:3,vRatio:.912529},{pti:4,vRatio:.847734},{pti:8,vRatio:.911948},{pti:6,vRatio:.847734},{pti:7,vRatio:.912529},{pti:12,vRatio:.947101},{pti:11,vRatio:.946625},{pti:13,vRatio:.946572},{pti:16,vRatio:.641575},{pti:19,vRatio:.649794},{pti:17,vRatio:.642054},{pti:18,vRatio:.645446},{pti:22,vRatio:.811466},{pti:20,vRatio:.740889},{pti:21,vRatio:.811466},{pti:25,vRatio:.773129},{pti:23,vRatio:.811466},{pti:24,vRatio:.797148},{pti:28,vRatio:.774294},{pti:26,vRatio:.770213},{pti:27,vRatio:.770795},{pti:31,vRatio:.887555},{pti:29,vRatio:.843968},{pti:30,vRatio:.887555},{pti:34,vRatio:.662892},{pti:32,vRatio:.887555},{pti:33,vRatio:.794496},{pti:37,vRatio:.657217},{pti:35,vRatio:.658437},{pti:36,vRatio:.655893},{pti:40,vRatio:.666763},{pti:38,vRatio:.663368},{pti:39,vRatio:.666763},{pti:43,vRatio:.404876},{pti:41,vRatio:.666763},{pti:42,vRatio:.547828},{pti:46,vRatio:.177295},{pti:44,vRatio:.284988},{pti:45,vRatio:.187581},{pti:49,vRatio:.186097},{pti:47,vRatio:.174591},{pti:48,vRatio:.177931},{pti:52,vRatio:.17809},{pti:50,vRatio:.187688},{pti:51,vRatio:.183817},{pti:55,vRatio:.011488},{pti:53,vRatio:.084608},{pti:54,vRatio:.011488},{pti:58,vRatio:.075647},{pti:56,vRatio:.011488},{pti:57,vRatio:.036356},{pti:61,vRatio:.076442},{pti:59,vRatio:.079571},{pti:60,vRatio:.079995},{pti:62,vRatio:.028986},{pti:67,vRatio:.217699},{pti:66,vRatio:.092827},{pti:70,vRatio:.224221},{pti:68,vRatio:.222896},{pti:69,vRatio:.225865},{pti:73,vRatio:.214518},{pti:71,vRatio:.215525},{pti:72,vRatio:.211867},{pti:76,vRatio:.4167},{pti:74,vRatio:.22385},{pti:75,vRatio:.31081},{pti:79,vRatio:.641682},{pti:77,vRatio:.532717},{pti:78,vRatio:.629856},{pti:80,vRatio:.641575},{pti:0,vRatio:.102146},{pti:1,vRatio:.748195}],flexProportion:1},{mode:"affix",pointsSpan:[{pti:9,vRatio:1},{pti:10,vRatio:5.26},{pti:15,vRatio:1},{pti:14,vRatio:4.84}],v0:410.948,vLength:.05}],pointArray:[{x:59,y:51},{x:532,y:310},{x:485.537,y:375.648},{x:502.112,y:375.881},{x:502.112,y:349.905},{x:485.537,y:350.139},{x:468.984,y:349.905},{x:468.984,y:375.881},{x:485.537,y:375.648},{x:514.665,y:410.998},{x:528.474,y:411.211},{x:528.474,y:389.55},{x:514.665,y:389.741},{x:500.857,y:389.529},{x:500.857,y:411.19},{x:514.665,y:410.998},{x:504.048,y:267.256},{x:502.282,y:267.448},{x:500.899,y:268.808},{x:500.687,y:270.551},{x:496.155,y:307.071},{x:465.006,y:335.365},{x:427.219,y:335.365},{x:410.219,y:335.365},{x:394.559,y:329.625},{x:382.049,y:319.996},{x:380.538,y:318.827},{x:378.389,y:319.06},{x:377.091,y:320.463},{x:351.049,y:348.395},{x:313.921,y:365.869},{x:272.709,y:365.869},{x:212.454,y:365.869},{x:160.922,y:328.562},{x:140.007,y:275.802},{x:139.305,y:274.016},{x:137.39,y:272.996},{x:135.561,y:273.527},{x:126.922,y:275.993},{x:117.816,y:277.354},{x:108.39,y:277.354},{x:51.8375,y:277.354},{x:6.43369,y:229.673},{x:10.2209,y:172.364},{x:13.4124,y:124.301},{x:51.8162,y:85.251},{x:99.8372,y:81.1271},{x:112.412,y:80.043},{x:124.518,y:81.3822},{x:135.795,y:84.6559},{x:138.029,y:85.2936},{x:140.263,y:83.7418},{x:140.476,y:81.446},{x:144.114,y:43.9693},{x:175.709,y:14.6554},{x:214.177,y:14.6554},{x:236.602,y:14.6554},{x:256.709,y:24.6251},{x:270.283,y:40.3768},{x:271.645,y:41.9499},{x:274.049,y:42.1198},{x:275.581,y:40.6956},{x:295.858,y:21.6703},{x:323.134,y:10},{x:353.155,y:10},{x:406.815,y:10},{x:451.729,y:47.2641},{x:463.453,y:97.3252},{x:463.942,y:99.4084},{x:466.134,y:100.599},{x:468.176,y:99.9398},{x:478.899,y:96.4536},{x:490.516,y:94.9869},{x:502.623,y:96.0498},{x:544.984,y:99.7911},{x:578.644,y:134.653},{x:580.878,y:177.104},{x:583.324,y:223.615},{x:548.814,y:262.558},{x:504.048,y:267.299},{x:504.048,y:267.256}],paths:[{instructions:[{type:"move",pti:2},{type:"cubic-bezier-to",cp0:3,cp1:4,pti:5},{type:"cubic-bezier-to",cp0:6,cp1:7,pti:8},{type:"move",pti:9},{type:"cubic-bezier-to",cp0:10,cp1:11,pti:12},{type:"cubic-bezier-to",cp0:13,cp1:14,pti:15},{type:"move",pti:16},{type:"cubic-bezier-to",cp0:17,cp1:18,pti:19},{type:"cubic-bezier-to",cp0:20,cp1:21,pti:22},{type:"cubic-bezier-to",cp0:23,cp1:24,pti:25},{type:"cubic-bezier-to",cp0:26,cp1:27,pti:28},{type:"cubic-bezier-to",cp0:29,cp1:30,pti:31},{type:"cubic-bezier-to",cp0:32,cp1:33,pti:34},{type:"cubic-bezier-to",cp0:35,cp1:36,pti:37},{type:"cubic-bezier-to",cp0:38,cp1:39,pti:40},{type:"cubic-bezier-to",cp0:41,cp1:42,pti:43},{type:"cubic-bezier-to",cp0:44,cp1:45,pti:46},{type:"cubic-bezier-to",cp0:47,cp1:48,pti:49},{type:"cubic-bezier-to",cp0:50,cp1:51,pti:52},{type:"cubic-bezier-to",cp0:53,cp1:54,pti:55},{type:"cubic-bezier-to",cp0:56,cp1:57,pti:58},{type:"cubic-bezier-to",cp0:59,cp1:60,pti:61},{type:"cubic-bezier-to",cp0:62,cp1:63,pti:64},{type:"cubic-bezier-to",cp0:65,cp1:66,pti:67},{type:"cubic-bezier-to",cp0:68,cp1:69,pti:70},{type:"cubic-bezier-to",cp0:71,cp1:72,pti:73},{type:"cubic-bezier-to",cp0:74,cp1:75,pti:76},{type:"cubic-bezier-to",cp0:77,cp1:78,pti:79},{type:"line-to",pti:80}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-3.566308,y:0},designerSize:{w:571.00038,h:400.99956},mostCompactAffixedSize:{w:-3.34393,h:.10156},resizeMode:"flex-only"},triangle_smart:{id:"triangle_smart",xRanges:[{mode:"affix",pointsSpan:[{pti:3,vRatio:.5}],v0:9.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.09013},{mode:"affix",pointsSpan:[{pti:0,vRatio:.5}],v0:48.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.40987},{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:5,vRatio:.5}],v0:225.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.414504},{mode:"affix",pointsSpan:[{pti:1,vRatio:.5}],v0:404.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.085496},{mode:"affix",pointsSpan:[{pti:4,vRatio:.5}],v0:441.95,vLength:.1}],yRanges:[{mode:"affix",pointsSpan:[{pti:2,vRatio:.5},{pti:5,vRatio:.5}],v0:5.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.457196},{mode:"affix",pointsSpan:[{pti:0,vRatio:.5}],v0:176.95,vLength:.1},{mode:"flex",pointsSpan:[],flexProportion:.542804},{mode:"affix",pointsSpan:[{pti:3,vRatio:.5},{pti:4,vRatio:.5},{pti:1,vRatio:.5}],v0:379.95,vLength:.1}],pointArray:[{x:49,y:177},{x:405,y:380},{x:226,y:6},{x:10,y:380},{x:442,y:380},{x:226,y:6}],paths:[{instructions:[{type:"move",pti:2},{type:"line-to",pti:3},{type:"line-to",pti:4},{type:"line-to",pti:5}]}],textRect:{topLeft:0,bottomRight:1},quickAdds:[],connectionPoints:[],designerOffset:{x:-.05,y:-.05},designerSize:{w:432,h:374},mostCompactAffixedSize:{w:.4,h:.2},resizeMode:"flex-only"}}},7785:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeWidgetsBoundingBox=e.computeBoundingBox=e.mergeBoundingBoxes=e.boundingBoxOverlaps=e.maxBoundingBox=e.offsetBox=e.padBox=e.computeGroupBoundingBox=void 0;const o=i(9755),a=Math.PI/180;e.computeGroupBoundingBox=({x:t,y:e,width:i,height:o,scale:n,rotation:r,border:s})=>{const l=((r||0)%360+360)%360,c=s*n;if(!l)return{minX:t-c,minY:e-c,maxX:t+i*n+c,maxY:e+o*n+c};const d=(t=>Math.cos(t*a))(l),h=(t=>Math.sin(t*a))(l),u=[{x:-c,y:-c},{x:i*n+c,y:-c},{x:i*n+c,y:o*n+c},{x:-c,y:o*n+c}].map((({x:t,y:e})=>({x:d*t-h*e,y:h*t+d*e}))),v=u.map((t=>t.x)),g=u.map((t=>t.y));return{minX:t+Math.min(0,...v),minY:e+Math.min(0,...g),maxX:t+Math.max(0,...v),maxY:e+Math.max(0,...g)}};e.padBox=({maxX:t,maxY:e,minX:i,minY:o},a)=>({maxX:t+a,maxY:e+a,minX:i-a,minY:o-a});e.offsetBox=({maxX:t,maxY:e,minX:i,minY:o},a,n)=>({maxX:t+a,maxY:e+n,minX:i+a,minY:o+n});e.maxBoundingBox=(t,e)=>({maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY),minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY)});e.boundingBoxOverlaps=(t,e)=>!!t&&!!e&&t.minX<=e.maxX&&e.minX<=t.maxX&&t.minY<=e.maxY&&e.minY<=t.maxY;e.mergeBoundingBoxes=(t,i)=>t&&i?(0,e.maxBoundingBox)(t,i):t||i;e.computeBoundingBox=t=>t.reduce(((t,i)=>(0,e.mergeBoundingBoxes)(t,"Group"===i.type?(0,e.computeGroupBoundingBox)(i):"WidgetPrimitive"===i.type?(0,e.computeGroupBoundingBox)(Object.assign(Object.assign({},i),{scale:1})):void 0)),void 0);e.computeWidgetsBoundingBox=(t,i)=>t.reduce(((t,a)=>(0,e.mergeBoundingBoxes)(t,(0,e.computeGroupBoundingBox)(Object.assign(Object.assign({},a),{scale:1,border:(0,o.getWidgetBorder)(a,i),rotation:a.rotation||0})))),void 0)},9755:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWidgetBorder=void 0;const o=i(5597),a=i(3016),n=i(181);e.getWidgetBorder=(t,e)=>(0,o.isShape)(t)?(0,n.getShapeWidgetBorder)(t):(0,o.isPhoto)(t)?(0,a.getPhotoWidgetBorder)(t,e.image):0},6079:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.padBox=e.padBox2=e.box=void 0;e.box=(t,e)=>({width:t,height:e,x:0,y:0});e.padBox2=(t,e)=>({x:i,y:o,width:a,height:n})=>({x:i+t,y:o+e,width:a-2*t,height:n-2*e});e.padBox=t=>(0,e.padBox2)(t,t)},7930:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderCommentClassic=void 0;const o=i(5597),a=i(6951),n=i(5888),r=i(601),s=46,group=(t,e,i,o,a)=>(0,n.drawGroup)(t,0,0,s,s,0,e,void 0,void 0,i,o,void 0,void 0,a),border=(t,e)=>{const i="outwards"===t.growth?1:"inwards"===t.growth?-1:0,a=null!=e?e:i*t.strokeWidth;return(0,n.drawEllipse)(-a/2,-a/2,s+a,s+a,"transparent",t.color,t.strokeWidth,o.SOLID_STROKE_PATTERN)},unreadGlow=t=>(0,n.drawGroup)(t,-25,-25,96,96,0,[],void 0,void 0,"_unread"),common=(t,e,i)=>[(0,n.drawEllipse)(1.5,1.5,43,43,"transparent",t.outer,3,o.SOLID_STROKE_PATTERN,void 0,.9),(0,n.drawEllipse)(3,3,40,40,t.inner,"transparent",0,o.SOLID_STROKE_PATTERN,void 0,.9),i?(0,n.drawEllipse)(.5,.5,45,45,"transparent","#B0B0B0",1,o.SOLID_STROKE_PATTERN):n.noop,(0,n.drawTextBox)({x:0,y:0,width:s,height:s},16,"center","middle",1,(0,a.formatText)({color:t.text,fontFamily:"proxima-nova"},`${(0,r.getCommentReplyCount)(e)+1}`))],drawComment=(t,e,i)=>group(t,common(e,i,!0),"comment"),drawSelectedComment=(t,e,i,o)=>group(t,[...common(e,i,!1),border(o.selectedBorder,1)],"comment","selected"),drawUnreadComment=(t,e,i,o)=>group(t,[unreadGlow(`${t}-glow`),group(`${t}-unread-circle`,[...common(e,i,!1),border(o.unreadBorder)],"_unread_circle")],"comment","unread",!0);e.renderCommentClassic=(t,e)=>{const{id:i,x:o,y:a,rotation:l,owner:c,properties:d,stackingOrder:h}=t,u=o-1,v=a-1,g=(0,r.getCommentColors)(c,e);return(0,n.drawWidget)(i,d.parentId,u,v,s,s,l,h,[group(`${i}-scale-container`,[drawComment(i+"-comment",g,d.replies),drawUnreadComment(i+"-unread",g,d.replies,e),drawSelectedComment(i+"-selected",g,d.replies,e)],"comment","scale")])}},601:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCommentColors=e.getCommentReplyCount=void 0;const o=i(6916),a="default";e.getCommentReplyCount=t=>t.reduce(((t,e,i,o)=>0===i||e.user!==o[i-1].user?t+1:t),0);e.getCommentColors=(t,e)=>{const i="user"===e.inner.backgroundColor.type?(0,o.colorForUser)(t):e.inner.backgroundColor.hex,n="black"===(0,o.getContrastYIQ)(i);return{inner:i,outer:"blend-to-contrast"===e.outer.backgroundColor.type?n?(0,o.darkenHex)(i,e.outer.backgroundColor.blendFactor,a):(0,o.lightenHex)(i,e.outer.backgroundColor.blendFactor):e.outer.backgroundColor.hex,text:"blend-to-contrast"===e.inner.textColor.type?n?(0,o.darkenHex)(i,e.inner.textColor.blendFactor,a):(0,o.lightenHex)(i,e.inner.textColor.blendFactor):e.inner.textColor.hex}}},29:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderCommentHana=void 0;const o=i(5597),a=i(6951),n=i(5888),r=i(601),s=48,l=24,group=(t,e,i,o)=>(0,n.drawGroup)(t,0,0,s,s,0,e,void 0,void 0,i,o),unreadGlow=t=>(0,n.drawGroup)(t,-23,-23,94,94,0,[],void 0,void 0,"_unread"),innerBorder=(t,e)=>{const i=("outwards"===t.growth?1:"inwards"===t.growth?-1:0)*t.strokeWidth;return(0,n.drawEllipse)(-i/2+4,-i/2+4,40+i,40+i,"transparent",e,t.strokeWidth,o.SOLID_STROKE_PATTERN)},drawComment=(t,e,i)=>group(t,((t,e,i)=>[(0,n.drawEllipse)(0,0,s,s,e.outer,"transparent",0),(0,n.drawGroup)(t+"-diamond",24,24,l,l,45,[(0,n.drawRectangle)(0,0,l,l,e.outer,"transparent",0,void 0,void 0,4)]),(0,n.drawEllipse)(4,4,40,40,e.inner,"transparent",0,o.SOLID_STROKE_PATTERN,void 0),(0,n.drawTextBox)({x:0,y:0,width:s,height:s},16,"center","middle",1,(0,a.formatText)({color:e.text,fontFamily:"proxima-nova",bold:!0},`${(0,r.getCommentReplyCount)(i)+1}`))])(t,e,i),"comment"),drawSelectedCommentFauxBorder=(t,e)=>{const i=2*e.selectedBorder.strokeWidth,o=e.selectedBorder.strokeWidth,a=e.selectedBorder.color;return group(t,[(0,n.drawEllipse)(0,0,s,s,a,a,i),(0,n.drawGroup)(t+"-selected-diamond",24,24,l,l,45,[(0,n.drawRectangle)(0,0,l,l,a,a,i,void 0,void 0,4)]),(0,n.drawEllipse)(0,0,s,s,"#FFFFFF","#FFFFFF",o),(0,n.drawGroup)(t+"-selected-diamond-inner",24,24,l,l,45,[(0,n.drawRectangle)(0,0,l,l,"#FFFFFF","#FFFFFF",o,void 0,void 0,4)])],"comment","selected")},drawUnreadCommentRing=(t,e,i)=>group(t,[unreadGlow(`${t}-glow`),group(`${t}-unread-circle`,[innerBorder(e.unreadBorder,i)],"_unread_circle")],"comment","unread");e.renderCommentHana=({id:t,x:e,y:i,rotation:o,owner:a,properties:l,stackingOrder:c},d)=>{const h=(0,r.getCommentColors)(a,d);return(0,n.drawWidget)(t,l.parentId,e-4,i-4,56,64,o,c,[(0,n.drawGroup)(`${t}-scale-container`,4,4,s,s,0,[drawSelectedCommentFauxBorder(t+"-selected",d),drawComment(t+"-comment",h,l.replies),drawUnreadCommentRing(t+"-unread",d,h.text)],void 0,void 0,"comment","scale")])}},9809:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(7930),a=i(29);e.default=function renderComment(t,e,i){if(e)return"hana"===i.mode?(0,a.renderCommentHana)(t,i):(0,o.renderCommentClassic)(t,i)}},42:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICON_PATHS_HOVER=e.ICON_PATHS=void 0,e.ICON_PATHS={viewContent:{source:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzFfMikiPgo8cGF0aCBkPSJNMCAyQzAgMC44OTU0MzEgMC44OTU0MzEgMCAyIDBINkM2LjU1MjI4IDAgNyAwLjQ0NzcxNSA3IDFDNyAxLjU1MjI4IDYuNTUyMjggMiA2IDJIMlY0QzIgNC41NTIyOSAxLjU1MjI4IDUgMSA1QzAuNDQ3NzE1IDUgMCA0LjU1MjI5IDAgNFYyWiIgZmlsbD0iIzM5MzkzOSIvPgo8cGF0aCBkPSJNMTAuOTk5IDEyLjYyNDZDMTIuNDQwNyAxMi42MjQ2IDEzLjYwOTQgMTEuNDQ5NCAxMy42MDk0IDkuOTk5NzhDMTMuNjA5NCA4LjU1MDE1IDEyLjQ0MDcgNy4zNzUgMTAuOTk5IDcuMzc1QzkuNTU3MzggNy4zNzUgOC4zODg2NyA4LjU1MDE1IDguMzg4NjcgOS45OTk3OEM4LjM4ODY3IDExLjQ0OTQgOS41NTczOCAxMi42MjQ2IDEwLjk5OSAxMi42MjQ2WiIgZmlsbD0iIzM5MzkzOSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjk5OSAzLjc1QzE0Ljg0NjQgMy43NSAxOC4xODU1IDUuOTYyMTUgMTkuNTc1MyA5LjE2Njk0QzE5LjgwNTcgOS42OTgwOSAxOS44MDU3IDEwLjMwMSAxOS41NzUzIDEwLjgzMjJDMTguMTg1NSAxNC4wMzcgMTQuODQ2NCAxNi4yNDkxIDEwLjk5OSAxNi4yNDkxQzcuMTUxNzMgMTYuMjQ5MSAzLjgxMjYgMTQuMDM3IDIuNDIyNzYgMTAuODMyMkMyLjE5MjQxIDEwLjMwMSAyLjE5MjQxIDkuNjk4MDcgMi40MjI3NiA5LjE2NjkyQzMuODEyNjEgNS45NjIxNSA3LjE1MTczIDMuNzUgMTAuOTk5IDMuNzVaTTE1LjUgMTBDMTUuNSAxMi40ODUzIDEzLjQ4NTMgMTQuNSAxMSAxNC41QzguNTE0NzIgMTQuNSA2LjUgMTIuNDg1MyA2LjUgMTBDNi41IDcuNTE0NzIgOC41MTQ3MiA1LjUgMTEgNS41QzEzLjQ4NTMgNS41IDE1LjUgNy41MTQ3MiAxNS41IDEwWiIgZmlsbD0iIzM5MzkzOSIvPgo8cGF0aCBkPSJNMjAgMjBDMjEuMTA0NiAyMCAyMiAxOS4xMDQ2IDIyIDE4VjE2QzIyIDE1LjQ0NzcgMjEuNTUyMyAxNSAyMSAxNUMyMC40NDc3IDE1IDIwIDE1LjQ0NzcgMjAgMTZWMThIMTZDMTUuNDQ3NyAxOCAxNSAxOC40NDc3IDE1IDE5QzE1IDE5LjU1MjMgMTUuNDQ3NyAyMCAxNiAyMEgyMFoiIGZpbGw9IiMzOTM5MzkiLz4KPHBhdGggZD0iTTIwIDBDMjEuMTA0NiAwIDIyIDAuODk1NDMxIDIyIDJWNEMyMiA0LjU1MjI5IDIxLjU1MjMgNSAyMSA1QzIwLjQ0NzcgNSAyMCA0LjU1MjI5IDIwIDRWMkgxNkMxNS40NDc3IDIgMTUgMS41NTIyOCAxNSAxQzE1IDAuNDQ3NzE1IDE1LjQ0NzcgMCAxNiAwSDIwWiIgZmlsbD0iIzM5MzkzOSIvPgo8cGF0aCBkPSJNMCAxOEMwIDE5LjEwNDYgMC44OTU0MzEgMjAgMiAyMEg2QzYuNTUyMjggMjAgNyAxOS41NTIzIDcgMTlDNyAxOC40NDc3IDYuNTUyMjggMTggNiAxOEgyVjE2QzIgMTUuNDQ3NyAxLjU1MjI5IDE1IDEgMTVDMC40NDc3MTYgMTUgMCAxNS40NDc3IDAgMTZWMThaIiBmaWxsPSIjMzkzOTM5Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMV8yIj4KPHJlY3Qgd2lkdGg9IjIyIiBoZWlnaHQ9IjIwIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=",type:"image",actionScale:1,width:20},export:{source:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAMYGlDQ1BJQ0MgUHJvZmlsZQAASImVVwdYU8kWnltSSWiBCEgJvYkiNYCUEFoEAamCqIQkkFBiTAgqdnRRwbWLKFZ0VUTR1RWQtSBid1HsfbGgoqyLBRsqb0ICuvrK9w7f3Plz5sx/CjP3zgCg08aXyXJRXQDypPnyuPBg1piUVBbpEcABBf4NBi58gULGiY2NAlD6+3/K22sAUfWXXVRcP47/V9EXihQCAJA0iDOECkEexI0A4EUCmTwfAGII1FtPzpepsBhiAzkMEOLpKpylxktVOEONt/bZJMRxIa4HgEzj8+VZAGg3Qz2rQJAFebQfQewqFUqkAOgYQBwgEPOFECdAPCQvb6IKz4bYAdrLIN4BMTvjG86sf/BnDPDz+VkDWJ1Xn5BDJApZLn/q/1ma/y15ucp+H3aw0cTyiDhV/rCGN3ImRqowDeJOaUZ0jKrWEL+XCNV1BwClipURiWp71FSg4ML6ASbErkJ+SCTEphCHSXOjozT6jExJGA9iuFrQKZJ8XoJm7gKRIjRew7lOPjEuph9nyrkczdwavrzPr8q+WZmTyNHw3xCLeP38bwrFCckQUwHAqAWSpGiItSE2UOTER6ptMKtCMTe630aujFPFbwMxWyQND1bzY2mZ8rA4jb0sT9GfL1YslvCiNbg8X5wQoa4PtlPA74vfCOJakZST2M8jUoyJ6s9FKAoJVeeOtYikiZp8sXuy/OA4zdwuWW6sxh4ni3LDVXoriE0UBfGaufiIfLg41fx4lCw/NkEdJ56ezR8Zq44HLwBRgAtCAAsoYcsAE0E2kLR01nXCX+qRMMAHcpAFRMBFo+mfkdw3IoXPeFAI/oJIBBQD84L7RkWgAOo/D2jVTxeQ2Tda0DcjBzyGOA9Eglz4W9k3SzrgLQk8ghrJD94FMNZc2FRjP+o4UBOl0Sj7eVk6/ZbEUGIIMYIYRnTETfAA3A+Pgs8g2NxwNu7TH+1Xe8JjQivhAeEqoY1wc4KkSP5dLKNAG+QP02Sc8W3GuB3k9MSDcX/IDplxJm4CXHAP6IeDB0LPnlDL1cStyp31b/IcyOCbmmvsKK4UlDKIEkRx+H6mtpO25wCLqqLf1kcda8ZAVbkDI9/7535TZyHsI7+3xBZg+7FT2DHsDHYIqwMs7ChWj53HDqvwwBp61LeG+r3F9cWTA3kkP/jja3yqKqlwrXbtcP2kGQP5oin5qg3GnSibKpdkifNZHPgVELF4UsHQISw3VzdXAFTfFPVr6jWz71uBMM9+1c21BMB/am9v76GvusiLAOw/DLf5ra86+3b4OjgLwOnVAqW8QK3DVQ8CfBvowB1lDMyBNXCAGbkBL+AHgkAoGAliQAJIAeNhncVwPcvBZDAdzAHFoBQsBavAWrARbAE7wG6wD9SBQ+AYOAnOgYvgKrgN1087eA66wFvQgyAICaEjDMQYsUBsEWfEDWEjAUgoEoXEISlIOpKFSBElMh2Zi5Qiy5G1yGakCvkVOYgcQ84grchN5D7SgbxCPqIYSkMNUDPUDh2GslEOGokmoOPQLHQSWojOQxej5WglugutRY+h59CraBv6HO3GAKaFMTFLzAVjY1wsBkvFMjE5NhMrwcqwSqwGa4D/6ctYG9aJfcCJOANn4S5wDUfgibgAn4TPxBfha/EdeC3ejF/G7+Nd+BcCnWBKcCb4EniEMYQswmRCMaGMsI1wgHAC7qZ2wlsikcgk2hO94W5MIWYTpxEXEdcT9xAbia3Eh8RuEolkTHIm+ZNiSHxSPqmYtIa0i3SUdInUTnpP1iJbkN3IYeRUspRcRC4j7yQfIV8iPyH3UHQpthRfSgxFSJlKWULZSmmgXKC0U3qoelR7qj81gZpNnUMtp9ZQT1DvUF9raWlZaflojdaSaM3WKtfaq3Va677WB5o+zYnGpaXRlLTFtO20RtpN2ms6nW5HD6Kn0vPpi+lV9OP0e/T32gztodo8baH2LO0K7VrtS9ovdCg6tjocnfE6hTplOvt1Luh06lJ07XS5unzdmboVugd1r+t26zH0huvF6OXpLdLbqXdG76k+Sd9OP1RfqD9Pf4v+cf2HDIxhzeAyBIy5jK2ME4x2A6KBvQHPINug1GC3QYtBl6G+oYdhkuEUwwrDw4ZtTIxpx+Qxc5lLmPuY15gfB5kN4gwSDVo4qGbQpUHvjAYbBRmJjEqM9hhdNfpozDIONc4xXmZcZ3zXBDdxMhltMtlkg8kJk87BBoP9BgsGlwzeN/iWKWrqZBpnOs10i+l5024zc7NwM5nZGrPjZp3mTPMg82zzleZHzDssGBYBFhKLlRZHLZ6xDFkcVi6rnNXM6rI0tYywVFputmyx7LGyt0q0KrLaY3XXmmrNts60XmndZN1lY2Ezyma6TbXNLVuKLdtWbLva9pTtOzt7u2S7+XZ1dk/tjex59oX21fZ3HOgOgQ6THCodrjgSHdmOOY7rHS86oU6eTmKnCqcLzqizl7PEeb1z6xDCEJ8h0iGVQ6670Fw4LgUu1S73hzKHRg0tGlo39MUwm2Gpw5YNOzXsi6una67rVtfbw/WHjxxeNLxh+Cs3JzeBW4XbFXe6e5j7LPd695cezh4ijw0eNzwZnqM853s2eX728vaSe9V4dXjbeKd7r/O+zjZgx7IXsU/7EHyCfWb5HPL54Ovlm++7z/dvPxe/HL+dfk9H2I8Qjdg64qG/lT/ff7N/WwArID1gU0BboGUgP7Ay8EGQdZAwaFvQE44jJ5uzi/Mi2DVYHnwg+B3XlzuD2xiChYSHlIS0hOqHJoauDb0XZhWWFVYd1hXuGT4tvDGCEBEZsSziOs+MJ+BV8bpGeo+cMbI5khYZH7k28kGUU5Q8qmEUOmrkqBWj7kTbRkuj62JADC9mRczdWPvYSbG/jyaOjh1dMfpx3PC46XGn4hnxE+J3xr9NCE5YknA70SFRmdiUpJOUllSV9C45JHl5ctuYYWNmjDmXYpIiSalPJaUmpW5L7R4bOnbV2PY0z7TitGvj7MdNGXdmvMn43PGHJ+hM4E/Yn05IT07fmf6JH8Ov5Hdn8DLWZXQJuILVgufCIOFKYYfIX7Rc9CTTP3N55tMs/6wVWR3iQHGZuFPClayVvMyOyN6Y/S4nJmd7Tm9ucu6ePHJeet5Bqb40R9o80XzilImtMmdZsaxtku+kVZO65JHybQpEMU5Rn28AD+/nlQ7Kn5T3CwIKKgreT06avH+K3hTplPNTnaYunPqkMKzwl2n4NMG0pumW0+dMvz+DM2PzTGRmxsymWdaz5s1qnx0+e8cc6pycOX8UuRYtL3ozN3luwzyzebPnPfwp/KfqYu1iefH1+X7zNy7AF0gWtCx0X7hm4ZcSYcnZUtfSstJPiwSLzv48/Ofyn3sXZy5uWeK1ZMNS4lLp0mvLApftWK63vHD5wxWjVtSuZK0sWflm1YRVZ8o8yjaupq5Wrm4rjyqvX2OzZumaT2vFa69WBFfsWWe6buG6d+uF6y9tCNpQs9FsY+nGj5skm25sDt9cW2lXWbaFuKVgy+OtSVtP/cL+pWqbybbSbZ+3S7e37Yjb0VzlXVW103Tnkmq0WlndsStt18XdIbvra1xqNu9h7indC/Yq9z77Nf3Xa/si9zXtZ++v+c32t3UHGAdKapHaqbVddeK6tvqU+taDIw82Nfg1HPh96O/bD1keqjhseHjJEeqReUd6jxYe7W6UNXYeyzr2sGlC0+3jY45faR7d3HIi8sTpk2Enj5/inDp62v/0oTO+Zw6eZZ+tO+d1rva85/kDf3j+caDFq6X2gveF+os+FxtaR7QeuRR46djlkMsnr/CunLsafbX1WuK1G9fTrrfdEN54ejP35stbBbd6bs++Q7hTclf3btk903uVfzr+uafNq+3w/ZD75x/EP7j9UPDw+SPFo0/t8x7TH5c9sXhS9dTt6aGOsI6Lz8Y+a38ue97TWfyX3l/rXji8+O3voL/Pd43pan8pf9n7atFr49fb33i8aeqO7b73Nu9tz7uS98bvd3xgfzj1Mfnjk57Jn0ifyj87fm74EvnlTm9eb6+ML+f3HQUw2NDMTABebQeAngIAA54hqGPVd74+QdT31D4E/hNW3wv7xAuAGtipjuvcRgD2wmY3G3LDXnVUTwgCqLv7QNOIItPdTc1Fgzcewvve3tdmAJAaAPgs7+3tWd/b+xneUbGbADROUt81VUKEd4NNASp01ShuNvhO1PfQb3L8vgeqCDzA9/2/AOk0ijp5+c9oAAAAlmVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAJAAAAABAAAAkAAAAAEAA5KGAAcAAAASAAAAhKACAAQAAAABAAAAIqADAAQAAAABAAAAIgAAAABBU0NJSQAAAFNjcmVlbnNob3Rfk37EAAAACXBIWXMAABYlAAAWJQFJUiTwAAACcWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NTQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NTg8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KBVOGuQAAAM5JREFUWAntlcEOxCAIRNfN/pT/f/Cz2syezJTUAqPpQW60Mj6GhpZPMmqtR1LiX/5ViCg0Ngi7WKIzbq0VFhvld3ctG80dBBpYAjKCWAJiQVhj/fFcrUN85mn+FGKqIx6IaSBeiCkgEQg5SBRCCpKBkIFkISQgCog0iAoiBaKEAMhls+LhKBQQvMHdPz0FhNWo2xF00sNwZ9YleNbXIOc6tyO9CIvhXTRCILhMCQG9MAiKlbFB2M3tyHaEHeD8sll5A3LBrHx/rOzsaxw5AXT3VqECa67cAAAAAElFTkSuQmCC",type:"image",actionScale:1,width:8.5},github:{source:"M7.99297466,0 C3.57967577,0 0,3.57967577 0,7.99297466 C0,11.5236138 2.30472275,14.5148497 5.44306863,15.5936561 C5.83536187,15.6426927 5.98247183,15.3975095 5.98247183,15.2013628 C5.98247183,15.0052162 5.98247183,14.5148497 5.98247183,13.8283365 C3.77582238,14.3187031 3.28545584,12.7495301 3.28545584,12.7495301 C2.94219926,11.8178337 2.40279606,11.5726504 2.40279606,11.5726504 C1.66724625,11.0822839 2.45183272,11.0822839 2.45183272,11.0822839 C3.23641919,11.1313205 3.67774908,11.915907 3.67774908,11.915907 C4.41329889,13.1418234 5.54114194,12.7985668 5.98247183,12.6024202 C6.03150848,12.063017 6.27669176,11.7197604 6.47283837,11.5236138 C4.70751882,11.3274672 2.84412595,10.640954 2.84412595,7.55164477 C2.84412595,6.66898499 3.13834588,5.98247183 3.67774908,5.39403198 C3.62871242,5.24692201 3.3344925,4.41329889 3.77582238,3.3344925 C3.77582238,3.3344925 4.46233555,3.13834588 5.98247183,4.16811562 C6.61994834,3.971969 7.3064615,3.92293235 7.99297466,3.92293235 C8.67948782,3.92293235 9.36600098,4.02100566 10.0034775,4.16811562 C11.5236138,3.13834588 12.2101269,3.3344925 12.2101269,3.3344925 C12.6514568,4.41329889 12.3572369,5.24692201 12.3082002,5.44306863 C12.7985668,5.98247183 13.1418234,6.71802164 13.1418234,7.60068142 C13.1418234,10.6899906 11.2784305,11.3274672 9.51311094,11.5236138 C9.80733087,11.768797 10.0525141,12.2591636 10.0525141,12.9947134 C10.0525141,14.0735198 10.0525141,14.9071429 10.0525141,15.2013628 C10.0525141,15.3975095 10.1996241,15.6426927 10.5919173,15.5936561 C13.7792999,14.5148497 16.034986,11.5236138 16.034986,7.99297466 C15.9859493,3.57967577 12.4062735,0 7.99297466,0 Z",type:"path",actionScale:.75,width:13},jira:{source:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfDSURBVHgB7VrLbhRHFL23qno87PwJ5gswUfYxUvbgL4iNeIRVvAMPiRiIbIfdZGVBFGH/gdkmG7MNEjJfgPmCOJsozHRX5T6qeh4GzxB301EyB9rdXdWPurfu49zqAZhjjjnmmGOOOf6vQGgId3d2l2ywb6A+HAcw3Z3Ojf2zLjLQEB5v3jmGerGE4HvTLmpMAYwQ4BDqxeK0CxpVAKngBTSMRhWwMGixiZ5Ag2hUAd3u+kkI4UdoEA27QGkFR9AQGlcAW0GBxWqAcAwNoHEFMDglLvRbl0kJ+/CJ0RgR+hDufr+7Yq35hoZ2DSrAdufWmTL+6xSQsNF9trhg/1pGA0uTfYhmBQG/muU50xTgoELo7Lkv0nkIHr0HKAof8jyHvMgxHxQhLway7+ceck/t3MfHeYF5PqBrPb569ZLb+Rg8PwRYcPv85a8/HXW2dunEzqSAaahUASw8pbUHSNNDLC8gwVo5BEtnIRgILoCn15oQX55TGLIOgh9QN/Ubh8HmJLSlU2LzlhRJj6KH0N53P//yxhWoEJUqAEL+lkQmk0MWN5peQGcN+VpGIlAH64akQXDSH4QR5/SHh1KQysqnoZwgX0C25FkJrDzPFvYWKkKlCmgN2gf91uAZCz3ZR5ZAbTZKxXIP2Ab4WBpQ/ilCeVchZ9SDg7yAglzCGFNp3Ko0DSqzg0Oeqfe+zFAB7Cy0MouZy0gpJjjnaLPB8XHmIKPNWQvS5mSfNr4Xq87b1boAwfviobV2JZ1rLBhmG2vY51HcQRwCC1AzoL+DPOj0czskD0iQ8wI9FB6OSUeVoHIi9Pi7O4ckwEE6V0HGrZbdgWc+czTbyQJolvXcch8FT26Tc7UKtgJuazm4ULSZOldSRNXCBFv91joIv0edT89xTOJdqQnyZRXOsTs4ZLO3zoiwmbgJtYnpO7IaK8qS6+g+djV6xCFUgFoUkPg9SXskgnNSEDfAMjiwRpIS1Boy3kqhnVNFZGoBaNVKJGbw/UVRVFJF1lYLML/f6tz8jER9RKfHnMpHYwEFc9R9UoJhS6BgmIk7DAOkS5Yi7tFyOmRxtQDnVkLtxdDO/dvdP/vZZeJ510n8Axr0EUl+oplCLYLNQ4VlJRgs/d6KcoJagrgEK6dU4vb9WxvnXVarPAu8Dz312b24vRed7SdvSLglDZjMouhAMoiPvEHDaYFmLMcuDLLVd61+b9baYBJTFdDZfjrit+J7sgkxoX3Om/B78vrUnks78Xi+xiNzfWoP1I957COwYG+I1jz87Zef9/kl7A4gTBGicbAe+LWS88SFEMZTSgyIa/e2dg+pSHpA/UvwEZjBAnihQh/KidtqAtZEzpPE4LgUc7aMPoqQKB0LECLjizxYFEGHF32A3vLK2vMkFccGl9koJoaY/iFtHyKCP9y/s0e7PVLEmkFzNY55Cc6vADyi0S+lEfB/9tGRR6CG+EJZjz4yzlxpPJgITmD6WxRyyFZDSuCl68VEefgmw090qrQhMZZHBGJC4azRJkXAjJiuAJQgc01nI2BidkxUUl6PkqoEWKQbo03kw+wnVyi/15tCYBdpt9uQnpNKBQmMZG0lSwRV36QLnBdTFdB6l+33s0GXhFiMYmHaU/mrAsaZEq+F8VWWVBKG0wNPwQ3ijSd0xRKkKVfjD/qO0p3Q6vsqw9Q0yEGGBvJwsj1aAnBMUNqaaRFDm6H0pXk87mM7H9uyz5b5PeKFPndoLaxkios4LIgoVWatABViJh5AhKZHielwtC1G5GiqBmPOTpxd8jbPHudtruJYaG7LUptUfI4EpLRGHlD4QuoHE+19LIBQk7WJDFWbuWcmQtnArTKJGR2cl+lCClqGZp3KVS53rY1MTpXB55kOnhXBs69FTbQKvoYjADM7XhrXyKBxZlQJHP21UKqWu838NHaF1iC7wvRzNA5olUO8HtlUDQ7NXWr8VN1FyyDzl9pfLEDcgRXTBg2CxpuNUy9WrlgyRrqnuQURVgLTTxrUZTo9GKv1Q6K0OtMuUtqh70frsNLP9FaorfAKlR+2vr35HNDvjSpYe8Ipt6gK/8ihSAnsCqtp6ZoEukTDXQRevCXqyq5AT14GSZ+aAiYW4FNKkFSZ9YfzsL359Xpn5ynfsKYehmW6jW5RKc4VUXrDuvxwsu/eo901mvprQh2I+/DCTygTHKQFUdl824/du715a31z6wktsOKDxD24HbH67xi1VYO8nC0ukKkrWGuHwc+NrflRFrhw6n6uIqm6uMify+LyWLQCU6kN1FoNJjYnBE4LmiGxL4kQ5foP2HX8Gc0audoGuxrFjUt05WuoELWXwymHp/qJ26ReYttTpgv9/Gx2d5arnRe1KQCD+z3EGoBzOJlusgJIdUWi+Cavlt5+DGpTQG7z18bbMOq7sbaJQT1I4cSRvtVegKZQ65ogzfkfKYLrIijG2sGUlJnpMDSIWtcE6aNwL60Gp32itKmIkrJ6oQ1NoVYFBOv3UT5ghBFGF5UgaVFSJMIFaAy1KoDdgL6JSCmtrjBkdWoJTuqFVAs0gfqXxTu3e2T8e3E1c8zfZf2PlNBcCPxEP5JiastVpJ/8bBzEHf67QXAU8hEDiutjP4fD0KjwMgRoALp0ba/G1eblol9cfNyt/dfjc8wxxxxzzDHHHGP4G+zXOKdykLTKAAAAAElFTkSuQmCC",type:"image",actionScale:1,width:13},edit:{source:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MCA1MCI+ICA8cGF0aCBmaWxsPSIjODg4ODg4IiBkPSJNMTAuODc3LDI3LjgxNEwzOC42OTUsMEw1MCwxMS4zMTJMMjIuMTkzLDM5LjEyNUwxMC44NzcsMjcuODE0eiIgLz4gIDxwb2x5Z29uIGZpbGw9IiM4ODg4ODgiIHBvaW50cz0iOC4xMDIsMzAuNTkgNC4xMjcsNDUuODc3IDE5LjQxMiw0MS45MDQgIi8+PC9zdmc+",type:"image",actionScale:1,width:18},editHover:{source:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MCA1MCI+ICA8cGF0aCBmaWxsPSIjMzkzOTM5IiBkPSJNMTAuODc3LDI3LjgxNEwzOC42OTUsMEw1MCwxMS4zMTJMMjIuMTkzLDM5LjEyNUwxMC44NzcsMjcuODE0eiIgLz4gIDxwb2x5Z29uIGZpbGw9IiMzOTM5MzkiIHBvaW50cz0iOC4xMDIsMzAuNTkgNC4xMjcsNDUuODc3IDE5LjQxMiw0MS45MDQgIi8+PC9zdmc+",type:"image",actionScale:1,width:18}},e.ICON_PATHS_HOVER={viewContent:{source:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEgNEMxIDIuODk1NDMgMS44OTU0MyAyIDMgMkg3QzcuNTUyMjggMiA4IDIuNDQ3NzIgOCAzQzggMy41NTIyOCA3LjU1MjI4IDQgNyA0SDNWNkMzIDYuNTUyMjkgMi41NTIyOCA3IDIgN0MxLjQ0NzcyIDcgMSA2LjU1MjI5IDEgNlY0WiIgZmlsbD0iI0ZGRkZGRiIvPgo8cGF0aCBkPSJNMTEuOTk5IDE0LjYyNDZDMTMuNDQwNyAxNC42MjQ2IDE0LjYwOTQgMTMuNDQ5NCAxNC42MDk0IDExLjk5OThDMTQuNjA5NCAxMC41NTAyIDEzLjQ0MDcgOS4zNzUgMTEuOTk5IDkuMzc1QzEwLjU1NzQgOS4zNzUgOS4zODg2NyAxMC41NTAyIDkuMzg4NjcgMTEuOTk5OEM5LjM4ODY3IDEzLjQ0OTQgMTAuNTU3NCAxNC42MjQ2IDExLjk5OSAxNC42MjQ2WiIgZmlsbD0iI0ZGRkZGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjk5OSA1Ljc1QzE1Ljg0NjQgNS43NSAxOS4xODU1IDcuOTYyMTUgMjAuNTc1MyAxMS4xNjY5QzIwLjgwNTcgMTEuNjk4MSAyMC44MDU3IDEyLjMwMSAyMC41NzUzIDEyLjgzMjJDMTkuMTg1NSAxNi4wMzcgMTUuODQ2NCAxOC4yNDkxIDExLjk5OSAxOC4yNDkxQzguMTUxNzMgMTguMjQ5MSA0LjgxMjYgMTYuMDM3IDMuNDIyNzYgMTIuODMyMkMzLjE5MjQxIDEyLjMwMSAzLjE5MjQxIDExLjY5ODEgMy40MjI3NiAxMS4xNjY5QzQuODEyNjEgNy45NjIxNSA4LjE1MTczIDUuNzUgMTEuOTk5IDUuNzVaTTE2LjUgMTJDMTYuNSAxNC40ODUzIDE0LjQ4NTMgMTYuNSAxMiAxNi41QzkuNTE0NzIgMTYuNSA3LjUgMTQuNDg1MyA3LjUgMTJDNy41IDkuNTE0NzIgOS41MTQ3MiA3LjUgMTIgNy41QzE0LjQ4NTMgNy41IDE2LjUgOS41MTQ3MiAxNi41IDEyWiIgZmlsbD0iI0ZGRkZGRiIvPgo8cGF0aCBkPSJNMjEgMjJDMjIuMTA0NiAyMiAyMyAyMS4xMDQ2IDIzIDIwVjE4QzIzIDE3LjQ0NzcgMjIuNTUyMyAxNyAyMiAxN0MyMS40NDc3IDE3IDIxIDE3LjQ0NzcgMjEgMThWMjBIMTdDMTYuNDQ3NyAyMCAxNiAyMC40NDc3IDE2IDIxQzE2IDIxLjU1MjMgMTYuNDQ3NyAyMiAxNyAyMkgyMVoiIGZpbGw9IiNGRkZGRkYiLz4KPHBhdGggZD0iTTIxIDJDMjIuMTA0NiAyIDIzIDIuODk1NDMgMjMgNFY2QzIzIDYuNTUyMjkgMjIuNTUyMyA3IDIyIDdDMjEuNDQ3NyA3IDIxIDYuNTUyMjkgMjEgNlY0TDE3IDRDMTYuNDQ3NyA0IDE2IDMuNTUyMjggMTYgM0MxNiAyLjQ0NzcyIDE2LjQ0NzcgMiAxNyAySDIxWiIgZmlsbD0iI0ZGRkZGRiIvPgo8cGF0aCBkPSJNMSAyMEMxIDIxLjEwNDYgMS44OTU0MyAyMiAzIDIySDdDNy41NTIyOCAyMiA4IDIxLjU1MjMgOCAyMUM4IDIwLjQ0NzcgNy41NTIyOCAyMCA3IDIwSDNMMyAxOEMzIDE3LjQ0NzcgMi41NTIyOSAxNyAyIDE3QzEuNDQ3NzIgMTcgMSAxNy40NDc3IDEgMThWMjBaIiBmaWxsPSIjRkZGRkZGIi8+Cjwvc3ZnPgo=",type:"image",actionScale:1,width:20},export:{source:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAMYGlDQ1BJQ0MgUHJvZmlsZQAASImVVwdYU8kWnltSSWiBCEgJvYkiNYCUEFoEAamCqIQkkFBiTAgqdnRRwbWLKFZ0VUTR1RWQtSBid1HsfbGgoqyLBRsqb0ICuvrK9w7f3Plz5sx/CjP3zgCg08aXyXJRXQDypPnyuPBg1piUVBbpEcABBf4NBi58gULGiY2NAlD6+3/K22sAUfWXXVRcP47/V9EXihQCAJA0iDOECkEexI0A4EUCmTwfAGII1FtPzpepsBhiAzkMEOLpKpylxktVOEONt/bZJMRxIa4HgEzj8+VZAGg3Qz2rQJAFebQfQewqFUqkAOgYQBwgEPOFECdAPCQvb6IKz4bYAdrLIN4BMTvjG86sf/BnDPDz+VkDWJ1Xn5BDJApZLn/q/1ma/y15ucp+H3aw0cTyiDhV/rCGN3ImRqowDeJOaUZ0jKrWEL+XCNV1BwClipURiWp71FSg4ML6ASbErkJ+SCTEphCHSXOjozT6jExJGA9iuFrQKZJ8XoJm7gKRIjRew7lOPjEuph9nyrkczdwavrzPr8q+WZmTyNHw3xCLeP38bwrFCckQUwHAqAWSpGiItSE2UOTER6ptMKtCMTe630aujFPFbwMxWyQND1bzY2mZ8rA4jb0sT9GfL1YslvCiNbg8X5wQoa4PtlPA74vfCOJakZST2M8jUoyJ6s9FKAoJVeeOtYikiZp8sXuy/OA4zdwuWW6sxh4ni3LDVXoriE0UBfGaufiIfLg41fx4lCw/NkEdJ56ezR8Zq44HLwBRgAtCAAsoYcsAE0E2kLR01nXCX+qRMMAHcpAFRMBFo+mfkdw3IoXPeFAI/oJIBBQD84L7RkWgAOo/D2jVTxeQ2Tda0DcjBzyGOA9Eglz4W9k3SzrgLQk8ghrJD94FMNZc2FRjP+o4UBOl0Sj7eVk6/ZbEUGIIMYIYRnTETfAA3A+Pgs8g2NxwNu7TH+1Xe8JjQivhAeEqoY1wc4KkSP5dLKNAG+QP02Sc8W3GuB3k9MSDcX/IDplxJm4CXHAP6IeDB0LPnlDL1cStyp31b/IcyOCbmmvsKK4UlDKIEkRx+H6mtpO25wCLqqLf1kcda8ZAVbkDI9/7535TZyHsI7+3xBZg+7FT2DHsDHYIqwMs7ChWj53HDqvwwBp61LeG+r3F9cWTA3kkP/jja3yqKqlwrXbtcP2kGQP5oin5qg3GnSibKpdkifNZHPgVELF4UsHQISw3VzdXAFTfFPVr6jWz71uBMM9+1c21BMB/am9v76GvusiLAOw/DLf5ra86+3b4OjgLwOnVAqW8QK3DVQ8CfBvowB1lDMyBNXCAGbkBL+AHgkAoGAliQAJIAeNhncVwPcvBZDAdzAHFoBQsBavAWrARbAE7wG6wD9SBQ+AYOAnOgYvgKrgN1087eA66wFvQgyAICaEjDMQYsUBsEWfEDWEjAUgoEoXEISlIOpKFSBElMh2Zi5Qiy5G1yGakCvkVOYgcQ84grchN5D7SgbxCPqIYSkMNUDPUDh2GslEOGokmoOPQLHQSWojOQxej5WglugutRY+h59CraBv6HO3GAKaFMTFLzAVjY1wsBkvFMjE5NhMrwcqwSqwGa4D/6ctYG9aJfcCJOANn4S5wDUfgibgAn4TPxBfha/EdeC3ejF/G7+Nd+BcCnWBKcCb4EniEMYQswmRCMaGMsI1wgHAC7qZ2wlsikcgk2hO94W5MIWYTpxEXEdcT9xAbia3Eh8RuEolkTHIm+ZNiSHxSPqmYtIa0i3SUdInUTnpP1iJbkN3IYeRUspRcRC4j7yQfIV8iPyH3UHQpthRfSgxFSJlKWULZSmmgXKC0U3qoelR7qj81gZpNnUMtp9ZQT1DvUF9raWlZaflojdaSaM3WKtfaq3Va677WB5o+zYnGpaXRlLTFtO20RtpN2ms6nW5HD6Kn0vPpi+lV9OP0e/T32gztodo8baH2LO0K7VrtS9ovdCg6tjocnfE6hTplOvt1Luh06lJ07XS5unzdmboVugd1r+t26zH0huvF6OXpLdLbqXdG76k+Sd9OP1RfqD9Pf4v+cf2HDIxhzeAyBIy5jK2ME4x2A6KBvQHPINug1GC3QYtBl6G+oYdhkuEUwwrDw4ZtTIxpx+Qxc5lLmPuY15gfB5kN4gwSDVo4qGbQpUHvjAYbBRmJjEqM9hhdNfpozDIONc4xXmZcZ3zXBDdxMhltMtlkg8kJk87BBoP9BgsGlwzeN/iWKWrqZBpnOs10i+l5024zc7NwM5nZGrPjZp3mTPMg82zzleZHzDssGBYBFhKLlRZHLZ6xDFkcVi6rnNXM6rI0tYywVFputmyx7LGyt0q0KrLaY3XXmmrNts60XmndZN1lY2Ezyma6TbXNLVuKLdtWbLva9pTtOzt7u2S7+XZ1dk/tjex59oX21fZ3HOgOgQ6THCodrjgSHdmOOY7rHS86oU6eTmKnCqcLzqizl7PEeb1z6xDCEJ8h0iGVQ6670Fw4LgUu1S73hzKHRg0tGlo39MUwm2Gpw5YNOzXsi6una67rVtfbw/WHjxxeNLxh+Cs3JzeBW4XbFXe6e5j7LPd695cezh4ijw0eNzwZnqM853s2eX728vaSe9V4dXjbeKd7r/O+zjZgx7IXsU/7EHyCfWb5HPL54Ovlm++7z/dvPxe/HL+dfk9H2I8Qjdg64qG/lT/ff7N/WwArID1gU0BboGUgP7Ay8EGQdZAwaFvQE44jJ5uzi/Mi2DVYHnwg+B3XlzuD2xiChYSHlIS0hOqHJoauDb0XZhWWFVYd1hXuGT4tvDGCEBEZsSziOs+MJ+BV8bpGeo+cMbI5khYZH7k28kGUU5Q8qmEUOmrkqBWj7kTbRkuj62JADC9mRczdWPvYSbG/jyaOjh1dMfpx3PC46XGn4hnxE+J3xr9NCE5YknA70SFRmdiUpJOUllSV9C45JHl5ctuYYWNmjDmXYpIiSalPJaUmpW5L7R4bOnbV2PY0z7TitGvj7MdNGXdmvMn43PGHJ+hM4E/Yn05IT07fmf6JH8Ov5Hdn8DLWZXQJuILVgufCIOFKYYfIX7Rc9CTTP3N55tMs/6wVWR3iQHGZuFPClayVvMyOyN6Y/S4nJmd7Tm9ucu6ePHJeet5Bqb40R9o80XzilImtMmdZsaxtku+kVZO65JHybQpEMU5Rn28AD+/nlQ7Kn5T3CwIKKgreT06avH+K3hTplPNTnaYunPqkMKzwl2n4NMG0pumW0+dMvz+DM2PzTGRmxsymWdaz5s1qnx0+e8cc6pycOX8UuRYtL3ozN3luwzyzebPnPfwp/KfqYu1iefH1+X7zNy7AF0gWtCx0X7hm4ZcSYcnZUtfSstJPiwSLzv48/Ofyn3sXZy5uWeK1ZMNS4lLp0mvLApftWK63vHD5wxWjVtSuZK0sWflm1YRVZ8o8yjaupq5Wrm4rjyqvX2OzZumaT2vFa69WBFfsWWe6buG6d+uF6y9tCNpQs9FsY+nGj5skm25sDt9cW2lXWbaFuKVgy+OtSVtP/cL+pWqbybbSbZ+3S7e37Yjb0VzlXVW103Tnkmq0WlndsStt18XdIbvra1xqNu9h7indC/Yq9z77Nf3Xa/si9zXtZ++v+c32t3UHGAdKapHaqbVddeK6tvqU+taDIw82Nfg1HPh96O/bD1keqjhseHjJEeqReUd6jxYe7W6UNXYeyzr2sGlC0+3jY45faR7d3HIi8sTpk2Enj5/inDp62v/0oTO+Zw6eZZ+tO+d1rva85/kDf3j+caDFq6X2gveF+os+FxtaR7QeuRR46djlkMsnr/CunLsafbX1WuK1G9fTrrfdEN54ejP35stbBbd6bs++Q7hTclf3btk903uVfzr+uafNq+3w/ZD75x/EP7j9UPDw+SPFo0/t8x7TH5c9sXhS9dTt6aGOsI6Lz8Y+a38ue97TWfyX3l/rXji8+O3voL/Pd43pan8pf9n7atFr49fb33i8aeqO7b73Nu9tz7uS98bvd3xgfzj1Mfnjk57Jn0ifyj87fm74EvnlTm9eb6+ML+f3HQUw2NDMTABebQeAngIAA54hqGPVd74+QdT31D4E/hNW3wv7xAuAGtipjuvcRgD2wmY3G3LDXnVUTwgCqLv7QNOIItPdTc1Fgzcewvve3tdmAJAaAPgs7+3tWd/b+xneUbGbADROUt81VUKEd4NNASp01ShuNvhO1PfQb3L8vgeqCDzA9/2/AOk0ijp5+c9oAAAAlmVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAJAAAAABAAAAkAAAAAEAA5KGAAcAAAASAAAAhKACAAQAAAABAAAAIqADAAQAAAABAAAAIgAAAABBU0NJSQAAAFNjcmVlbnNob3Rfk37EAAAACXBIWXMAABYlAAAWJQFJUiTwAAACcWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NzY8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NTY8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KgLUIpAAAAM1JREFUWAntlcEOhCAMRJfNJvz/53LSzJ7I2IhtB+KB3qp0eJ2aWj7JaK0dSYl/+VchotDYIOxiic641lpYbJTf3bVsNHcQaGAJyAhiCYgFYY31x3O1DvGZp/lTiKmOeCCmgXghpoBEIOQgUQgpSAZCBpKFkIAoINIgKogUiBICIJfNioejUEDwBnf/9BQQVqNuR9BJD8OdWZfgWV+DnOvcjvQiLIZ30QiB4DIlBPTCIChWxgZhN7cj2xF2gPPLZuUNyAWz8v2xsrOvceQEe49UYaf3tJcAAAAASUVORK5CYII=",type:"image",actionScale:1,width:8.5},github:{source:"M7.99297466,0 C3.57967577,0 0,3.57967577 0,7.99297466 C0,11.5236138 2.30472275,14.5148497 5.44306863,15.5936561 C5.83536187,15.6426927 5.98247183,15.3975095 5.98247183,15.2013628 C5.98247183,15.0052162 5.98247183,14.5148497 5.98247183,13.8283365 C3.77582238,14.3187031 3.28545584,12.7495301 3.28545584,12.7495301 C2.94219926,11.8178337 2.40279606,11.5726504 2.40279606,11.5726504 C1.66724625,11.0822839 2.45183272,11.0822839 2.45183272,11.0822839 C3.23641919,11.1313205 3.67774908,11.915907 3.67774908,11.915907 C4.41329889,13.1418234 5.54114194,12.7985668 5.98247183,12.6024202 C6.03150848,12.063017 6.27669176,11.7197604 6.47283837,11.5236138 C4.70751882,11.3274672 2.84412595,10.640954 2.84412595,7.55164477 C2.84412595,6.66898499 3.13834588,5.98247183 3.67774908,5.39403198 C3.62871242,5.24692201 3.3344925,4.41329889 3.77582238,3.3344925 C3.77582238,3.3344925 4.46233555,3.13834588 5.98247183,4.16811562 C6.61994834,3.971969 7.3064615,3.92293235 7.99297466,3.92293235 C8.67948782,3.92293235 9.36600098,4.02100566 10.0034775,4.16811562 C11.5236138,3.13834588 12.2101269,3.3344925 12.2101269,3.3344925 C12.6514568,4.41329889 12.3572369,5.24692201 12.3082002,5.44306863 C12.7985668,5.98247183 13.1418234,6.71802164 13.1418234,7.60068142 C13.1418234,10.6899906 11.2784305,11.3274672 9.51311094,11.5236138 C9.80733087,11.768797 10.0525141,12.2591636 10.0525141,12.9947134 C10.0525141,14.0735198 10.0525141,14.9071429 10.0525141,15.2013628 C10.0525141,15.3975095 10.1996241,15.6426927 10.5919173,15.5936561 C13.7792999,14.5148497 16.034986,11.5236138 16.034986,7.99297466 C15.9859493,3.57967577 12.4062735,0 7.99297466,0 Z",type:"path",actionScale:.75,width:13},jira:{source:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAS2SURBVHgB7VpLjhRHEH2F59NtyzJL72i89MYgr7zyeOGlZXMAy9zAPsLgE8AJPJwAW/Ke4gIwSGxYMRwAMQgJhuFTxFNF0FFBdlXPTFYXmqknhbKyPlkZryIjX2Y3MGLEiBEjRowYsWJUVTWr+sUjsa2ufhQYCNK581I8Rb/YK4riYtsN5zAQpGP7UuxhYAxGgOI/DIyhCbiOgTEoATIM9qS4gQExdAQQ2xgwFwxOgCbDnzAQCZ9CBNhQIAk3cdZB8SJ2u8qDR13vG0wIdUGF0iWxWeLyr2K/oRudQmgNGSGdZqe+c6dI8Fux12Jv1F67ejyO5YHYAzat7dGhJ/KeGZYjoBNZCRD8KPYnascrVx6KvQz2IlE/cOetPFBjO9+L8/8jI3IT8BhN56HlRrivWvB8EcpzaJL4TuxrZERuAkotY25hfTNc82WBdD4qwvEBMuetrATI+NyVEC3lcGvBLYyERQ5YVLQ5aETtIxNyRwDBuXzL1f1wIPxw8F8+RkEqKlhfR0bRlJ0AiYIdiYI/MCch9UU3wrUqcZ/PE54MElAiE/qIAOKK2D2xC5gnMaDp5Hp4Jt63KC+sUT53DLWl0YsUDvrevq530MBImIp9rvaF1qfhvD9nxF1DBvS2FqC+F/tGDv9Gk4gPt2hJh7qc9ufWtf0SGZbSfQ2BD5CObku47qAOV0rYmRqlrpHCfkyXbNIPnW3U4usSjoneCSB0tbejloSQRJFDElKZ39uaa5e5gEPtFo6ZDzoJ4JLKVdnJV6gFiZepqWOTuFRwLxL3sa3nYnfFkYfavv+6i/RAI3lavpFu/oVahs9wBCwTAXuuUa/orF6hmdxiokslP4IkfCn2gy5bfU5I6QGz9URbJIL7i9elrauYD7Xz6MAyBOyiySoTp5FgzvsOV+EaQt2fIwkbaJJaoT0ntPaZOgQtQ+1IjSlK1EtPv7ozEryzyf6446gFjIxDrTOUv0Kzb5YT2vTDibAMATdRZ1sLJ79Sm7j7YqhH59uGCbGP+cxg+Cy8g8hKQKcO0CSTEh0WCRM1m7OtvulsEq5NwnMk607q9ZhHgmmBrDPXUkJIE0wZT7s2zGHv6DTYZEG5qW2Vod1UJHglmAVHUYLU97t6HBOd5QT/xdss3kOn/8V8mevzjYEkDEeA0/c38PGmBmFfKeVkDP9pOC60/e0Fr6/cO1Y/BAzspBgFx2XUXyxOgT5UY06IzvtrhbZPckukd42A9LL5RDgWm9z5keKK27rmTrCfJbgT/K3Yz4nH44wQpzkOtduY6/u4v5gVJwonDdsSiQ0KIed3KX5B0+HU9Nf4qtrmZXmeidfvMAM9ENDnT2N+OCwaBmYf9UOH2kXUOsRHSYWM6Hs1SBK8YiSW/oq6iryqCx0baveREatYDvMdUc3FdUErKW1D7aTok4Cn4T1GQsrxwX6l7pMAhqpPcCldD/QwtR0FvRHA8Stj9xnqFV7h3mc5IbU/uHL0HXqcymwas5JSNi6WTi0BnMKYwLyQ8SSYWjydBOg0dk2rcffISJhgQAJWAskF/7T8jeVQ7AJOOyhtufUdnLf6DGcB3LGt6n9xR8xwlqBE3BK7dyYJGDFixIgRI0Z8EngPs0RKfkKA7ZoAAAAASUVORK5CYII=",type:"image",actionScale:1,width:13},edit:{source:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAxMDAgOTkuOTk5IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgOTkuOTk5Ij4JPGc+CQk8cGF0aCBmaWxsPSIjMzkzOTM5IiBkPSJNMzUuODc3LDUyLjgxNEw2My42OTUsMjVMNzUsMzYuMzEyTDQ3LjE5Myw2NC4xMjVMMzUuODc3LDUyLjgxNHoiPgkJPC9wYXRoPgk8L2c+CTxwb2x5Z29uIGZpbGw9IiMzOTM5MzkiIHBvaW50cz0iMzMuMTAyLDU1LjU5IDI5LjEyNyw3MC44NzcgNDQuNDEyLDY2LjkwNCAiPgk8L3BvbHlnb24+PC9zdmc+",type:"image",actionScale:1.75,width:14}}},7077:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(5597),a=i(8183),n=i(220),r=i(6684),s=i(5888);e.default=function renderDrawing({id:t,x:e,y:i,width:l,height:c,rotation:d,stackingOrder:h,properties:u},v,g){const f=u.border?{height:c-3,width:l-3}:{height:c,width:l},y=Math.max(f.width/u.originalWidth,f.height/u.originalHeight),x={newSize:f,originalSize:{width:u.originalWidth,height:u.originalHeight},clipBorder:0},m=u.border?1.5:0,R=(0,s.drawRectangle)(m,m,l-2*m,c-2*m,u.color,u.border?o.black:o.transparent,u.border?3:0,o.SOLID_STROKE_PATTERN,void 0,g.cornerRadius),b=(0,o.isColorTranslucent)(u.color);return(0,s.drawWidget)(t,u.parentId,e,i,l,c,d,h,[v?(0,a.drawHighlight)(`${t}-highlight`,R):s.noop,(0,n.drawShadow)(`${t}-shadow`,R,v,g.shadow),R,b?(0,r.translucentRectangleBorder)(`${t}-translucent-border`,R,g):s.noop,(0,s.drawGroup)(`${t}-content-path`,0,0,f.width,f.height,0,[u.filledPath?(0,s.drawPath)(u.filledPath,u.strokeColor,0,u.strokeColor,x,void 0,"round","round"):s.noop,(0,s.drawPath)(u.path,u.strokeColor,u.strokeWidth*y,u.filled?u.strokeColor:o.transparent,x,void 0,"round","round")],void 0,void 0,"path")])}},5836:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowLabelOverlapHolesEffect=void 0;const o=i(5597),a=i(8708),n=i(9893),r=i(31);e.ArrowLabelOverlapHolesEffect=class ArrowLabelOverlapHolesEffect{constructor(){this._overlapDetection=new a.ArrowLabelOverlapDetection,this._hierarchyCache=new n.HierarchyCache(o.isArrow)}apply(t){let e=t;if(e.toRemove){const t=this.onDelete(e.toRemove);e=(0,r.addReparseToOperations)(e,t)}if(e.toAddOrUpdate){const t=this.onUpdate(e.toAddOrUpdate);e=(0,r.addReparseToOperations)(e,t)}return e}onUpdate(t){const e=this._hierarchyCache.updateHierarchyReturnElementsInsideUpdatedParents(t),i=[],a=[];t.forEach((t=>{(0,o.isArrow)(t)?i.push(t):a.push(t)}));const n=i.concat(e).map((t=>{const{x:e,y:i}=this._hierarchyCache.absolutePosition(t.id);return{arrow:t,arrowAbsX:e,arrowAbsY:i}}));return[...this._overlapDetection.setArrowsAndGetModified(n)].map((t=>t.id))}onDelete(t){this._hierarchyCache.delete(t);return[...this._overlapDetection.deleteAndGetModified(t)].map((t=>t.id))}getHoles(t){const e=this._overlapDetection.getNotOwnedOverlappingLabelProxies(t);if(void 0===e||0===e.size)return;const{x:i,y:o}=this._hierarchyCache.absolutePosition(t),a=[];for(const n of e){if(!n.alive||n.group.id===t)continue;const e={x:n.x-i,y:n.y-o,width:n.x1-n.x,height:n.y1-n.y};a.push(e)}return a}}},1246:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetsEffectComposite=void 0;e.WidgetsEffectComposite=class WidgetsEffectComposite{constructor(t){this.effects=t}apply(t){let e=t;for(const t of this.effects)e=t.apply(e);return e}}},6909:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixGridEffect=void 0;const o=i(5597),a=i(3488),n=i(7417),r=i(7785),s=i(7042),l=i(31);e.FixGridEffect=class FixGridEffect{constructor(t){this.knownWidgets=new Map,this.knownGrids=new Set,this.childrenIdsByParentId=new Map,this.containerIdByWidgetId=new Map,this.widgetsStyle=t}apply(t){let e=t;if(e.toAddOrUpdate){const t=this.onAddOrUpdate(e.toAddOrUpdate);e=(0,l.addAddOrUpdateToOperations)(e,t,"prioritize-added")}if(e.toRemove){const t=this.onDelete(e.toRemove);e=(0,l.addAddOrUpdateToOperations)(e,t,"prioritize-added")}return e}onAddOrUpdate(t){const e=new Set,i=[];for(const e of t)this.knownWidgets.set(e.id,e);for(const n of t){const t=(0,o.hasChildren)(n),r=this.knownGrids.has(n.id);if(t){if(this.addContainer(n.id),(0,o.isGrid)(n))r||this.knownGrids.add(n.id);else if(r){this.knownGrids.delete(n.id);const t=this.childrenIdsByParentId.get(n.id);t&&i.push(...t.map((t=>this.knownWidgets.get(t))).filter(a.isNotNil))}this.knownGrids.has(n.id)&&e.add(n.id)}const s=this.containerIdByWidgetId.get(n.id)||null,l=n.properties.parentId;s!==l?(s&&(this.deleteWidgetFromContainer(n.id),this.knownGrids.has(s)&&e.add(s)),l&&(this.addWidgetToContainer(l,n),this.knownGrids.has(l)&&e.add(l))):s&&(this.knownWidgets.set(n.id,n),this.knownGrids.has(s)&&e.add(s))}if(0===e.size&&0===i.length)return[];const n=this.buildUpdatedWidgets(e);return[...i,...n]}buildUpdatedWidgets(t){const e=[];return t.forEach((t=>{const i=this.buildUpdatedGrid(t);e.push(...i)})),e}buildUpdatedGrid(t){const e=this.knownWidgets.get(t);if(!e||!(0,o.isGrid)(e))return[];const i=(this.childrenIdsByParentId.get(t)||[]).map((t=>this.knownWidgets.get(t))).filter(a.isNotNil),l=(0,s.computeGrid)(e.width,i),c=(0,n.getAreaChildrenOffsetX)(e,this.widgetsStyle.area),d=(0,n.getAreaChildrenOffsetY)(e,this.widgetsStyle.area),h=(0,r.computeWidgetsBoundingBox)(l,this.widgetsStyle),u=(0,n.getAreaHeight)(e,d,l.length>0,h?h.maxY-h.minY:0,this.widgetsStyle.area);return[Object.assign(Object.assign({},e),{height:u}),...l.map((t=>Object.assign(Object.assign({},t),{x:t.x+c,y:t.y+d})))]}addContainer(t){this.childrenIdsByParentId.has(t)||this.childrenIdsByParentId.set(t,[])}deleteContainer(t){const e=this.childrenIdsByParentId.get(t);e&&(this.childrenIdsByParentId.delete(t),e.forEach((t=>this.containerIdByWidgetId.delete(t))),this.knownGrids.delete(t))}addWidgetToContainer(t,e){const i=this.childrenIdsByParentId.get(t),o=i||[];i||this.childrenIdsByParentId.set(t,o),this.containerIdByWidgetId.set(e.id,t),o.push(e.id),this.knownWidgets.set(e.id,e)}deleteWidgetFromContainer(t){const e=this.containerIdByWidgetId.get(t);if(e){this.containerIdByWidgetId.delete(t);const i=this.childrenIdsByParentId.get(e);if(i){const e=i.indexOf(t);e>=0&&i.splice(e,1)}}return e}onDelete(t){const e=new Set;t.forEach((t=>{this.knownWidgets.delete(t),this.deleteContainer(t);const i=this.deleteWidgetFromContainer(t);i&&this.knownGrids.has(i)&&e.add(i)}));return this.buildUpdatedWidgets(e)}}},31:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addAddOrUpdateToOperations=e.addReparseToOperations=void 0;e.addReparseToOperations=(t,e)=>0===e.length?t:Object.assign(Object.assign({},t),{toReparse:(t.toReparse||[]).filter((t=>!e.includes(t))).concat(e)});e.addAddOrUpdateToOperations=(t,e,i)=>{if(0===e.length)return t;const o=t.toAddOrUpdate||[];return Object.assign(Object.assign({},t),{toAddOrUpdate:"prioritize-added"===i?o.filter((t=>e.every((e=>e.id!==t.id)))).concat(e):o.concat(e.filter((t=>o.every((e=>e.id!==t.id)))))})}},4988:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrackTableCellsEffect=void 0;const o=i(5597),a=i(31);function tableCellUpdateRequiresTableUpdate(t,e){return t.properties.backgroundColor!==e.properties.backgroundColor||t.x!==e.x||t.y!==e.y||t.width!==e.width||t.height!==e.height||t.properties.rowSpan!==e.properties.rowSpan||t.properties.colSpan!==e.properties.colSpan}const clampValue=(t,e,i)=>Math.min(Math.max(t,e),i);function updateCellInCache(t,e){const i=e.rowById.get(t.properties.rowId),o=e.columnById.get(t.properties.columnId);if(void 0===i||void 0===o)return;const a=clampValue(t.properties.colSpan||1,1,e.columnById.size-o),n=clampValue(t.properties.rowSpan||1,1,e.rowById.size-i);for(let r=1;r<=n;r++)for(let n=1;n<=a;n++)e.cellsGrid[i+r-1][o+n-1]=t}e.TrackTableCellsEffect=class TrackTableCellsEffect{constructor(){this.tables=new Map,this.cells=new Map,this.tablesCellsIds=new Map,this.cachedTableInfo=new Map}getTableCellsGrid(t){const e=this.tables.get(t);if(!e)return[];const i=this.cachedTableInfo.get(t);if(i)return i.cellsGrid;const o=e.properties.rows,a=e.properties.columns,n=new Map,r=new Map;for(let t=0;t<e.properties.rows.length;t++)n.set(e.properties.rows[t].rowId,t);for(let t=0;t<e.properties.columns.length;t++)r.set(e.properties.columns[t].columnId,t);const s=[],l=[];for(let t=0;t<a.length;t++)l.push(null);for(let t=0;t<o.length;t++)s.push(l.slice());const c={cellsGrid:s,rowById:n,columnById:r};this.cachedTableInfo.set(t,c);const d=this.tablesCellsIds.get(t);if(!d)return s;for(const t of d){const e=this.cells.get(t);e&&updateCellInCache(e,c)}return s}replaceCellInCachedGrid(t){const e=this.cachedTableInfo.get(t.properties.parentId||"");if(!e)return;this.tables.get(t.properties.parentId||"")&&updateCellInCache(t,e)}apply(t){let e=t;if(e.toAddOrUpdate){const t=this.onAddOrUpdate(e.toAddOrUpdate);e=(0,a.addReparseToOperations)(e,t)}if(e.toRemove){const t=this.onDelete(e.toRemove);e=(0,a.addReparseToOperations)(e,t)}return e}getTablesIds(t){return 0===t.size?[]:new Array(...t).filter((t=>this.tables.has(t)))}onAddOrUpdate(t){var e;const i=new Set;for(const a of t)if((0,o.isTable)(a))this.tables.set(a.id,a),i.add(a.id),this.cachedTableInfo.delete(a.id);else if((0,o.isTableCell)(a)){if(!a.properties.parentId||!a.properties.columnId||!a.properties.rowId){console.warn(`Table cell ${a.id} is missing parentId / columnId / rowId properties`);continue}let t=this.tablesCellsIds.get(a.properties.parentId);t||(t=new Set,this.tablesCellsIds.set(a.properties.parentId,t));const o=this.cells.get(a.id);this.cells.set(a.id,a),o?(o.properties.parentId!==a.properties.parentId?(null===(e=this.tablesCellsIds.get(o.properties.parentId||""))||void 0===e||e.delete(o.id),t.add(a.id),this.cachedTableInfo.delete(a.properties.parentId)):o.properties.columnId===a.properties.columnId&&o.properties.rowId===a.properties.rowId&&o.properties.colSpan===a.properties.colSpan&&o.properties.rowSpan===a.properties.rowSpan||this.cachedTableInfo.delete(a.properties.parentId),this.replaceCellInCachedGrid(a),tableCellUpdateRequiresTableUpdate(o,a)&&i.add(a.properties.parentId)):(t.add(a.id),this.cachedTableInfo.delete(a.properties.parentId),i.add(a.properties.parentId))}return this.getTablesIds(i)}onDelete(t){const e=new Set;return t.forEach((t=>{var i;const o=this.cells.get(t),a=this.tables.get(t);o&&(this.cells.delete(o.id),null===(i=this.tablesCellsIds.get(o.properties.parentId||""))||void 0===i||i.delete(o.id),e.add(o.properties.parentId||"")),a&&(this.tables.delete(a.id),this.tablesCellsIds.delete(a.id),this.cachedTableInfo.delete(a.id))})),e.forEach((t=>this.cachedTableInfo.delete(t))),this.getTablesIds(e)}}},6411:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(6470),a=i(5597),n=i(6507),r=i(8032),s=i(6861),l=i(220),c=i(6951),d=i(5888),h="#EEEEEE",drawTitle=({widgetId:t,x:e,y:i,width:o,height:a,title:n,color:r,bold:s,verticalAlign:l})=>(0,d.drawGroup)(`${t}-title`,e,i,o,a,0,[(0,d.drawTextBox)({x:0,y:0,width:o,height:a},16,"left",l,0,(0,c.formatHighlightableText)({fontFamily:s?"proxima-nova":"proxima-nova-semibold",bold:s,color:r?"#393939":void 0},n),void 0,!0)],void 0,void 0,"title"),drawFileTypeIcon=(t,{type:e,box:i,theme:o,mode:n})=>{if("hana"===o)return[(0,d.drawImage)(i,{url:e.iconImagePath,widgetContext:{ownerId:t,renderInternalModule:"file-icon"}},void 0)];const r="generic"===n?1:0;return[(0,d.drawRectangle)(i.x+r,i.y+r,i.width-r,i.height-r,e.color,a.transparent,0),(0,d.drawTextBox)(i,12,"center","middle",1,(0,c.formatText)({fontFamily:"proxima-nova",color:"#FFFFFF"},e.shortName),void 0,!0)]},drawPreview=({info:t,imageLayout:e,height:i,width:o,theme:n,id:r})=>{const s=o,l=i-e.paddingBottom,c=s-2*e.paddingSides;if(!t)return(0,d.drawRectangle)(0,4,o-e.paddingSides,l,"#cccccc",a.transparent,0);if(e.cornerRadius&&"hana"===n){const i=c*(l/s);return(0,d.drawGroup)(`${r}-preview`,0,0,o-2*e.paddingSides,i,void 0,[(0,d.drawImage)({x:e.paddingSides,y:e.paddingTop,width:o-2*e.paddingSides,height:i},t,{centerX:!0,centerY:!1}),(0,d.drawRectangle)(e.paddingSides/2,e.paddingTop/2,c+e.paddingSides,i+e.paddingTop,a.transparent,a.white,e.cornerRadius,a.SOLID_STROKE_PATTERN,void 0,e.cornerRadius)],void 0,void 0)}return(0,d.drawImage)({x:e.paddingSides,y:e.paddingTop,width:c,height:l},t,{centerX:!0,centerY:!1})},drawFile=({id:t,properties:e,width:i,height:o,type:r,includeStates:u,fileStyle:v,buttonStyle:g,contentViewerEnabled:f})=>{const{title:y,previewUrl:x,dlpDownloadRestricted:m,link:R,previewState:b}=e,{cornerRadius:w,preview:S,generic:A,shadow:C,theme:I,buttonWidth:M}=v,T=x?S.layout:A.layout,_=(0,n.hasPreviewImage)(T),L=x?{url:x,opts:{bound:{width:i,height:o}},widgetContext:{ownerId:t,renderInternalModule:"file-preview"}}:void 0,O=i-T.title.paddingLeft-T.title.paddingRight,P=(({id:t,height:e,width:i,cornerRadius:o,hasPreview:n})=>{if(n)return(0,d.drawRectangle)(0,0,i,e,a.white,a.transparent,0,a.SOLID_STROKE_PATTERN,void 0,o);const r=o;return(0,d.drawGroup)(`${t}-background`,0,0,i,e,void 0,[(0,d.drawRectangle)(0,0,i,e-48,h,a.transparent,0,a.SOLID_STROKE_PATTERN,void 0,o),(0,d.drawRectangle)(0,e-48,i,48,a.white,a.transparent,0,a.SOLID_STROKE_PATTERN,void 0,o),(0,d.drawRectangle)(0,e-48-r,i,r,h,a.transparent,0,a.SOLID_STROKE_PATTERN,void 0),(0,d.drawRectangle)(0,e-48,i,r,a.white,a.transparent,0,a.SOLID_STROKE_PATTERN,void 0)])})({id:t,width:i,height:o,cornerRadius:w,hasPreview:_}),E={x:T.fileIcon.paddingLeft,y:_?o-T.image.paddingBottom+T.fileIcon.paddingTop:T.fileIcon.paddingTop,width:T.fileIcon.width,height:T.fileIcon.height},N=(0,d.drawRectangle)(0,0,i,o,a.white,a.white,0,a.SOLID_STROKE_PATTERN,void 0,w),z="generating"!==b&&u&&R&&i>100&&!m;return[(0,l.drawShadow)(`${t}-shadow`,N,u,C),P,L&&!m?drawPreview({info:L,id:t,height:o,width:i,theme:I,imageLayout:S.layout.image}):d.noop,m&&_?(0,d.drawTextBox)({x:T.image.paddingSides,y:o/2-30,width:i-2*T.image.paddingSides,height:60},16,"center","middle",1,(0,c.formatText)({fontFamily:"proxima-nova",color:"#737373"},"Guests are restricted from viewing or\n  downloading this file type")):d.noop,...drawFileTypeIcon(t,{type:r,box:E,theme:I,mode:"preview"}),drawTitle({widgetId:t,x:T.title.paddingLeft,y:_?o-T.image.paddingBottom+T.title.paddingTop:T.title.paddingTop,width:O,height:T.title.height,title:y,color:!1,bold:!0,verticalAlign:T.title.verticalAlign}),z?(0,s.drawActionButton)(f?`${t}-view`:`${t}-open`,i,o,f?"View":"Open",M,f?"view":"open",Object.assign(Object.assign({},g),{marginHorizontal:T.button.horizontalMargin,marginVertical:T.button.verticalMargin}),{onlyDrawOnHover:!1},"right",u):d.noop]};e.default=function renderFile({id:t,x:e,y:i,width:a,height:n,rotation:s,stackingOrder:l,properties:c},h,u,v,g,f){const y=c.link?(0,o.extname)(c.link).slice(1).toLowerCase():"",x=r.fileTypes[y]||r.DEFAULT_FILETYPE,m=f&&c.previewUrl?g:v,R=drawFile({id:t,properties:c,width:a,height:n,type:x,includeStates:h,fileStyle:u,buttonStyle:m,contentViewerEnabled:f});return(0,d.drawWidget)(t,c.parentId,e,i,a,n,s,l,R)}},8582:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(1792),n=o(i(9729)),r=i(5597),s=i(3488),l=i(2584),c=i(220),d=i(6951),h=i(5888),u=16,v=n.default["proxima-nova-semibold"].lineHeight;e.default=function renderFramework(t,e,{strokeOverrides:i,cornerRadius:o}){const{id:n,x:g,y:f,width:y,rotation:x,stackingOrder:m,properties:R}=t,{aspectRatio:b,background:w,showTitle:S,stickerURL:A,strokeColor:C,strokeStyle:I,strokeWidth:M,title:T,titleFontSize:_}=R,L=Math.ceil(S?Math.max(v*_,43):0),O=t.width/(b||1),P=(S?O+32+(8+L+-1):O+32)+5,E=A?{url:A,opts:{bound:{width:y,height:P}},widgetContext:{ownerId:n,renderInternalModule:"framework"}}:void 0,N=S?u+(L+2+4+1):u,z=y-40,k=(0,s.getStrokePattern)(I,M,i),D=(0,h.drawRectangle)(M/2,M/2,y-M,P-M,w,r.transparent,M,k,void 0,o);return(0,h.drawWidget)(n,R.parentId,g,f,y,P,x,m,[e?(0,c.drawClassicDragShadow)(`${n}-shadow`,D):h.noop,D,E?(0,h.drawGroup)(`${n}-img`,20,N,z,O,0,[(0,h.drawImage)({height:O,width:z,x:0,y:0},E,{centerX:!0,centerY:!0})]):h.noop,(0,h.drawHint)(n,"border",Object.assign(Object.assign({},D),{width:y-M,height:P-M,backgroundColor:r.transparent,strokeColor:C||"#eaeaea",hitTest:1,cornerRadius:o})),e?(0,l.drawDragOver)(`${n}-drag-over`,y,P,M):h.noop,(0,h.drawWidgetsContainer)(n,0,0,y,P),S?(0,h.drawHint)(n,"title",(0,h.drawTextBox)({x:30,y:20,width:z-20,height:P-O-32},_,"left","top",1,(0,d.formatHighlightableText)({fontFamily:(0,a.makeSemiBold)("proxima-nova"),color:T?"#393939":"#B7B7B7"},T||"Unnamed"),void 0,!0)):h.noop])}},7042:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeGrid=void 0;const o=i(3488);e.computeGrid=(t,e)=>{const i=(t=>t.sort(((t,e)=>t.stackingOrder-e.stackingOrder)))(e),a=((t,e)=>{let i=0;return e.reduce(((e,o)=>{const{width:a}=o;return!e.length||i+a>t?(i=a+20,e.push([o]),e):(i+=a+20,e[e.length-1].push(o),e)}),[])})(t,i),n=(t=>{let e=0;return t.map((t=>{let i=0,o=0;const a=t.map((t=>{t.height>o&&(o=t.height);const a=Object.assign(Object.assign({},t),{x:i,y:e});return i+=t.width+20,a}));return e+=o+20,a}))})(a);return(0,o.flatten)(n)}},2448:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(5888);e.default=function renderGroup({id:t,x:e,y:i,height:a,width:n,rotation:r,stackingOrder:s,properties:l}){return(0,o.drawWidget)(t,l.parentId,e,i,n,a,r,s,[(0,o.drawWidgetsContainer)(t,0,0,n,a)])}},3355:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFaviconUrl=e.FAVICON_FETCH_URL=e.getLinkProvider=void 0;const i={mural:"MURAL","mur.al":"MURAL","mural.al":"MURAL","onedrive.live.com":"OneDrive"},getLinkDomain=t=>{try{return t&&new URL(t).hostname}catch(t){return""}};e.getLinkProvider=t=>{const e=getLinkDomain(t);if(!e)return"";const o=(t=>i[t])(e);if(o)return o;const a=e.toLowerCase().split(".").reverse().filter((t=>"www"!==t)),n=a.find((t=>t.length>=4))||a[a.length-1];return n?`${n[0].toUpperCase()}${n.substring(1)}`:""},e.FAVICON_FETCH_URL="https://www.google.com/s2/favicons?domain=";e.getFaviconUrl=t=>{const i=getLinkDomain(t);return i&&`${e.FAVICON_FETCH_URL}${i}`}},8032:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fileTypes=e.DEFAULT_FILETYPE=void 0;const i="/static/images/filetype/";e.DEFAULT_FILETYPE={shortName:"",longName:"File",color:"#4c85e1",iconImagePath:i+"file-generic.svg"},e.fileTypes={txt:{shortName:"TXT",longName:"TXT Document",color:"#4c85e1",iconImagePath:i+"file-txt.svg"},xls:{shortName:"X",longName:"Excel File",color:"#207247",iconImagePath:i+"file-xls.svg"},xlsx:{shortName:"X",longName:"Excel File",color:"#207247",iconImagePath:i+"file-xls.svg"},doc:{shortName:"W",longName:"Word Document",color:"#004a7f",iconImagePath:i+"file-doc.svg"},docx:{shortName:"W",longName:"Word Document",color:"#004a7f",iconImagePath:i+"file-doc.svg"},pdf:{shortName:"PDF",longName:"PDF Document",color:"#BA2700",iconImagePath:i+"file-pdf.svg"},ppt:{shortName:"P",longName:"PowerPoint Presentation",color:"#E24E2D",iconImagePath:i+"file-ppt.svg"},pptx:{shortName:"P",longName:"PowerPoint Presentation",color:"#E24E2D",iconImagePath:i+"file-ppt.svg"},zip:{shortName:"ZIP",longName:"ZIP File",color:"#BDBDBD",iconImagePath:i+"file-zip.svg"}}},3414:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(729),a=i(5597),n=i(9785),r=i(6951),s=i(5888),l=(0,r.formatText)({fontFamily:"proxima-nova",color:"#4C4C4C"},["This content will be hidden until it's revealed by a facilitator.","No peeking!"].join("\n")),c={url:"",dataUrl:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCA1MCA0MCI+PGcgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTI1LDMxLjEyNSBDMTguMTA2MjUsMzEuMTI1IDEyLjUsMjUuNTE4NzUgMTIuNSwxOC42MjUgQzEyLjUsMTEuNzMxMjUgMTguMTA2MjUsNi4xMjUgMjUsNi4xMjUgQzMxLjg5Mzc1LDYuMTI1IDM3LjUsMTEuNzMxMjUgMzcuNSwxOC42MjUgQzM3LjUsMjUuNTE4NzUgMzEuODkzNzUsMzEuMTI1IDI1LDMxLjEyNSBNMjUsMyBDOS4zNzUsMyAwLDE4LjYyNSAwLDE4LjYyNSBDMCwxOC42MjUgOS4zNzUsMzQuMjUgMjUsMzQuMjUgQzQwLjYyNSwzNC4yNSA1MCwxOC42MjUgNTAsMTguNjI1IEM1MCwxOC42MjUgNDAuNjI1LDMgMjUsMyIgZmlsbD0iI0Q4RDhEOCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTMxLjI1LDE4LjYyNSBDMzEuMjUsMjIuMDc1IDI4LjQ1LDI0Ljg3NSAyNSwyNC44NzUgQzIxLjU0Njg3NSwyNC44NzUgMTguNzUsMjIuMDc1IDE4Ljc1LDE4LjYyNSBDMTguNzUsMTUuMTcxODc1IDIxLjU0Njg3NSwxMi4zNzUgMjUsMTIuMzc1IEMyOC40NSwxMi4zNzUgMzEuMjUsMTUuMTcxODc1IDMxLjI1LDE4LjYyNSIgZmlsbD0iI0Q4RDhEOCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTQyLjE4NzUsNC41NjI1IEwxMC45Mzc1LDM1LjgxMjUiIHN0cm9rZT0iI0Q4RDhEOCIgc3Ryb2tlLXdpZHRoPSI2IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+PC9nPjwvc3ZnPgo=",widgetContext:void 0},clipLine=(t,e,i)=>{if(t.x2>e){const i=t.x2-e;t.x2-=i,t.y2-=i}if(t.y2>i){const e=t.y2-i;t.x2-=e,t.y2-=e}},drawLines=(t,e,i)=>{const o=Math.max(t,e),a=[],n=Math.max(t-2,0),r=Math.max(e-2,0);if(0==n||0==r)return a;const l={x1:0,y1:0,x2:0,y2:0},c=i?"#000000":"#ececec";for(let e=0;e<t-2;e+=25)l.x1=e,l.y1=0,l.x2=e+o,l.y2=o,clipLine(l,n,r),a.push((0,s.drawLine)(l.x1+.8,l.y1+.8,l.x2+1.2,l.y2+1.2,c,2));for(let t=25;t<e-2;t+=25)l.x1=0,l.y1=t,l.x2=o,l.y2=t+o,clipLine(l,n,r),a.push((0,s.drawLine)(l.x1+.8,l.y1+.8,l.x2+1.2,l.y2+1.2,c,2));return a},drawBackgroundShape=(t,e,i,o)=>{const n=i?s.drawEllipse:s.drawRectangle;return[n(0,0,t,e,"#f9f9f9",a.transparent,0),...drawLines(t,e,o),n(.5,.5,t-1,e-1,a.transparent,o?"#000000":"#d8d8d8",1)]},drawTitle=(t,e,i)=>i.map(((i,o)=>(0,s.drawTextBox)({width:t,y:e+33*o,x:10,height:32},32,"center","middle",1,i)));e.default=function renderHidden(t,e,i){const{id:d,x:h,y:u,width:v,height:g,stackingOrder:f,properties:y,rotation:x}=e,{iconHeight:m,isBiggest:R}=((t,e)=>{const i=Math.min(t,e);return i<=60?{iconHeight:16,isBiggest:!1}:i<=210?{iconHeight:50,isBiggest:!1}:{iconHeight:80,isBiggest:!0}})(v,g),b=R?y.title:"",w=R,S=!!y.round,A=1.25*m,C=b?(0,n.collectTextItemsFromHtml)((0,n.parseHtmlFromText)("proxima-nova",32,"black",b)):void 0,I=w?((t,e,i)=>{const{lineHeight:a,lines:n}=(0,r.wrapText)(t,e-60,i,18,"center","top",1,0,(0,r.processText)(t,l),o.CLASSIC_LINE_HEIGHT_MULTIPLIER);return a*n.length+20})(t,v,g):0,{titleHeight:M,titleLines:T}=C?((t,e,i,a)=>{const{lines:n}=(0,r.wrapText)(t,e-20,i,32,"center","top",1,0,(0,r.processText)(t,a),o.CLASSIC_LINE_HEIGHT_MULTIPLIER);return{titleHeight:33*n.length+20-10,titleLines:n}})(t,v,g,C):{titleHeight:0,titleLines:[]},_=g/2-(m+M+I)/2,L=(0,a.hasChildren)(e);return(0,s.drawWidget)(d,y.parentId,h,u,v,g,x,f,[(0,s.drawGroup)(`${d}-content`,0,0,v,g,0,[L?(0,s.drawWidgetsContainer)(d,0,0,v,g):s.noop,...drawBackgroundShape(v,g,S,i),(0,s.drawImage)({x:(v-A)/2,y:_,width:A,height:m},c,{centerX:!0,centerY:!0}),...C?drawTitle(v-20,_+m+20+-3,T):[],w?(0,s.drawTextBox)({x:30,y:_+m+M+10+.2,width:v-60,height:I},18,"center","middle",1,l):s.noop],S?"ellipse":"rectangle",void 0,"hidden")])}},6671:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHtml=void 0;const o=i(1709),a=i(4580),n=i(2937),parseHtmlListItem=(t,i,r,s)=>{const l=t.nextTokenWithTag(n.TAG_OPEN_LIST_ITEM);if(!l)return;const c=(0,a.buildChildHtmlTextContext)(i,l),d={prefix:"ordered"===r?{type:"text",text:(0,o.buildTextItemCollection)().add(Object.assign({},c.textItemFormat),`${s+1}.`)}:{type:"bullet",color:c.textItemFormat.color||c.defaultColor,fontSize:c.defaultFontSize},content:(0,e.parseHtml)(t,c)};return t.skipTokenWithTag(n.TAG_CLOSE_LIST_ITEM),d},parseHtmlList=(t,e)=>{const i=t.nextTokenWithTag(n.TAG_OPEN_LIST_ORDERED,n.TAG_OPEN_LIST_UNORDERED);if(!i)return;const o=(0,a.buildChildHtmlTextContext)(e,i),r={type:"list",items:[]},s=i.tag===n.TAG_OPEN_LIST_ORDERED?"ordered":"unordered";for(;t.hasNextToken();){const e=parseHtmlListItem(t,o,s,r.items.length);if(e)r.items.push(e);else{if(t.nextTokenWithTag(n.TAG_CLOSE_LIST_ORDERED,n.TAG_CLOSE_LIST_UNORDERED))break;t.skipNextToken()}}return r};e.parseHtml=(t,e)=>{const i=[],o=(0,a.buildChildHtmlTextContext)(e);for(;t.hasNextToken();){const e=t.currentToken(),n=parseHtmlList(t,o);if(n){i.push(n);continue}const r=(0,a.parseHtmlText)(t,o);if(r.size()>0)i.push({type:"text",text:r});else if(t.currentToken()===e)break}return 0===i.length?{type:"empty"}:1===i.length?i[0]:{type:"collection-vertical",elements:i}}},186:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawHtmlTextboxFromHtmlCode=e.drawHtmlTextbox=e.isHtmlDrawingPrimitive=void 0;const o=i(5597),a=i(6951),n=i(1481),r=i(5888),s=i(9785);e.isHtmlDrawingPrimitive=t=>"Group"===t.type||"WrappedTextBox"===t.type;e.drawHtmlTextbox=(t,e,i,o,s,l,c,d)=>{const h=(0,a.processText)(c,e),u=void 0!==s?s:Math.ceil((0,n.getTextWidth)(c,i,h)),{height:v,horizontalOverflow:g,wrappedText:f}=(0,a.getTextHeight)(c,u,i,0,1,h,d),y=l&&void 0!==s?s:Math.min(u,Math.ceil((()=>f.lines.reduce(((t,e)=>Math.max(t,e.getTotalWidth())),0))())),x="left"===o&&y===u?f:(0,a.wrapText)(c,y,0,i,o,"top",0,1,h,d),m=(0,r.drawTextBox)({x:0,y:0,width:y,height:v},i,o,"top",0,h,g?{id:`${t}-clip`,clipHeight:v,clipWidth:u,clipX:0,clipY:0,shape:"rectangle"}:void 0);return Object.assign(Object.assign({},m),{type:"WrappedTextBox",wrappedText:x,lineHeight:x.lineHeight})};const drawHtml=(t,i,o)=>{switch(i.type){case"text":return((t,i,o)=>(0,e.drawHtmlTextbox)(t,i.text,o.fontSize,o.align,o.fixedWidth,o.boxShouldMatchFixedWidth,o.textFunctions,o.lineHeightMultiplier))(t,i,o);case"list":return((t,e,i)=>{const o=Object.assign(Object.assign({},i),{fixedWidth:void 0,boxShouldMatchFixedWidth:!1}),a=e.items.reduce(((t,e)=>Math.max(t,Math.ceil(drawHtml("tmp",e.prefix,o).width))),(t=>1.4*t)(i.fontSize)),n=void 0!==i.fixedWidth?Math.min(a,i.fixedWidth):a,s=((t,e,i)=>i.measureText(e,t," "))(i.fontSize,i.fontFamily,i.textFunctions),l=Object.assign(Object.assign({},i),{fixedWidth:n,boxShouldMatchFixedWidth:!1}),c=Object.assign(Object.assign({},i),{fixedWidth:void 0!==i.fixedWidth?Math.max(i.fixedWidth-(n+s),0):void 0,boxShouldMatchFixedWidth:!1}),d=e.items.map(((e,i)=>({prefix:drawHtml(`${t}-p-${i}`,e.prefix,l),content:drawHtml(`${t}-i-${i}`,e.content,c)}))),h=d.reduce(((t,e)=>t+Math.max(e.prefix.height,e.content.height)),0),u=d.reduce(((t,e)=>Math.max(t,n+s+e.content.width)),0),v=i.boxShouldMatchFixedWidth&&void 0!==i.fixedWidth?i.fixedWidth:u,g=n+s;let f=0;d.forEach((t=>{t.prefix.y=f,t.content.y=f,f+=Math.max(t.prefix.height,t.content.height),t.content.x="left"===i.align?g:"right"===i.align?v-t.content.width:(v-t.content.width)/2+g/2,"WrappedTextBox"===t.content.type&&void 0!==t.content.clipArgs&&(t.content.clipArgs.clipX=t.content.x,t.content.clipArgs.clipY=t.content.y);const e=((t,e)=>{if("left"===t)return 0;if("WrappedTextBox"===e.type&&e.wrappedText.lines.length>0){const i=e.wrappedText.lines[0].getTotalWidth();switch(t){case"right":return e.width-i;case"center":return(e.width-i)/2}}return 0})(i.align,t.content);t.prefix.x=t.content.x-s-t.prefix.width+e}));const y=[];return d.forEach((t=>{y.push(t.prefix),y.push(t.content)})),(0,r.drawGroup)(t,0,0,v,h,0,y)})(t,i,o);case"bullet":return((t,e)=>{const i=e.fontSize,o=.11*i,a=.17*i,n=.14*i;return(0,r.drawGroup)(t,0,0,i,i,0,[(0,r.drawEllipse)(i/2-o+n,i/2-o+a,2*o,2*o,e.color,"",0)])})(t,i);case"collection-vertical":return drawHtmlCollectionVertical(t,i.elements,o);case"empty":return((t,e)=>{const i=e.boxShouldMatchFixedWidth&&void 0!==e.fixedWidth?e.fixedWidth:0;return(0,r.drawGroup)(t,0,0,i,0,0,[])})(t,o)}},drawHtmlCollectionVertical=(t,e,i)=>{const o=Object.assign(Object.assign({},i),{boxShouldMatchFixedWidth:!1}),a=e.map(((e,i)=>drawHtml(`${t}-${i}`,e,o))),n=a.reduce(((t,e)=>t+e.height),0),s=a.reduce(((t,e)=>Math.max(t,e.x+e.width)),0),l=i.boxShouldMatchFixedWidth&&void 0!==i.fixedWidth?i.fixedWidth:s;let c=0;return a.forEach((t=>{t.y=c,c+=t.height,t.x="left"===i.align?0:"right"===i.align?l-t.width:(l-t.width)/2,"WrappedTextBox"===t.type&&void 0!==t.clipArgs&&(t.clipArgs.clipX=t.x,t.clipArgs.clipY=t.y)})),(0,r.drawGroup)(t,0,0,l,n,0,a)};e.drawHtmlTextboxFromHtmlCode=(t,e,i,a,n,l,c,d,h)=>{const u=(0,s.parseHtmlFromText)(a,i,n,e),v=((t,e)=>{if("left"!==e.align&&void 0===e.fixedWidth){const i=Object.assign(Object.assign({},e),{align:"left",boxShouldMatchFixedWidth:!1}),o=drawHtml("id",t,i);return Object.assign(Object.assign({},e),{fixedWidth:o.width})}return e})(u,{fontSize:i,fontFamily:a,lineHeightMultiplier:h,textFunctions:d,align:l,fixedWidth:c,boxShouldMatchFixedWidth:!0}),g=drawHtml(t,u,v);return"Group"===g.type&&g.children.push((0,r.drawRectangle)(0,0,g.width,g.height,"transparent","transparent",0,o.SOLID_STROKE_PATTERN,void 0,void 0,0)),g}},4580:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHtmlText=e.buildChildHtmlTextContext=e.buildHtmlTextContext=void 0;const o=i(1709),a=i(3101),n=i(2937),fixHorizontalWhitespace=t=>t&&t.replace(/\t/g,"    ").replace(/&nbsp;/g," ");e.buildHtmlTextContext=(t,e,i)=>({defaultFontFamily:t,defaultFontSize:e,defaultColor:i,textItemFormat:{fontFamily:t,color:i},colorStack:[],boldCounter:0,strikeCounter:0,underlineCounter:0,italicCounter:0,markHighlightStack:[]});e.buildChildHtmlTextContext=(t,e)=>{const i=Object.assign(Object.assign({},t),{textItemFormat:Object.assign({},t.textItemFormat),colorStack:[]});return e&&e.style&&e.style.color&&(i.textItemFormat.color=e.style.color),i};e.parseHtmlText=(t,e)=>{const i={fontFamily:e.defaultFontFamily};let r=!1;const s=(0,o.buildTextItemCollection)(),{textItemFormat:l}=e;let c;for(let o=t.nextToken();void 0!==o;c=o,o=t.nextToken()){if((0,n.isText)(o)){const t=fixHorizontalWhitespace(o.text);if(t){r&&(s.add(i,"\n"),r=!1);const e=s.size()>0?s.getFormat(s.size()-1):null;null!==e&&(0,a.sameFormat)(e,l)?s.add(e,t):s.add(Object.assign({},l),t)}continue}if(!(0,n.isTextItemTag)(o)){t.returnToken();break}if((0,n.isBlockEndTag)(o)&&(!c||!(0,n.isTag)(c)||"br"!==c.tag&&!(0,n.isBlockEndTag)(c))){r&&s.add(i,"\n"),r=!0;continue}if("br"===o.tag){!c||(0,n.isBlockStartTag)(c)||"br"===c.tag?s.add(i,"\n"):r=!0;continue}const{tag:d,style:h,href:u}=o;switch(d){case"a":u?l.href=u:delete l.href;break;case"/a":delete l.href;break;case"b":e.boldCounter++,l.bold=!0;break;case"/b":e.boldCounter--,e.boldCounter<=0&&(e.boldCounter=0,delete l.bold);break;case"i":e.italicCounter++,l.italic=!0;break;case"/i":e.italicCounter--,e.italicCounter<=0&&(e.italicCounter=0,delete l.italic);break;case"mark":e.markHighlightStack.push({highlightColor:l.markHighlightColor,textColor:l.markTextColor}),l.markHighlightColor=(null==h?void 0:h.backgroundColor)||"black",l.markTextColor=(null==h?void 0:h.color)||"white";break;case"/mark":const t=e.markHighlightStack.pop();t&&(t.highlightColor?l.markHighlightColor=t.highlightColor:delete l.markHighlightColor,t.textColor?l.markTextColor=t.textColor:delete l.markTextColor);break;case"u":e.underlineCounter++,l.underline=!0;break;case"/u":e.underlineCounter--,e.underlineCounter<=0&&(e.underlineCounter=0,delete l.underline);break;case"s":e.strikeCounter++,l.strike=!0;break;case"/s":e.strikeCounter--,e.strikeCounter<=0&&(e.strikeCounter=0,delete l.strike)}if(h&&h.color)e.colorStack.push({color:l.color,tag:`/${d}`}),l.color=h.color;else if(e.colorStack.length>0){const t=e.colorStack[e.colorStack.length-1];t.tag===d&&(e.colorStack.pop(),t.color?l.color=t.color:delete l.color)}}return s.filter(((t,e)=>!!e))}},2937:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildTokenIterator=e.TokenIterator=e.isBlockStartTag=e.isBlockEndTag=e.isTextItemTag=e.TAG_CLOSE_HYPERLINK_ITEM=e.TAG_HYPERLINK_ITEM=e.TAG_CLOSE_LIST_ITEM=e.TAG_OPEN_LIST_ITEM=e.TAG_CLOSE_LIST_UNORDERED=e.TAG_OPEN_LIST_UNORDERED=e.TAG_CLOSE_LIST_ORDERED=e.TAG_OPEN_LIST_ORDERED=e.isText=e.isTag=void 0;e.isTag=t=>!!t.tag;e.isText=t=>!(0,e.isTag)(t),e.TAG_OPEN_LIST_ORDERED="ol",e.TAG_CLOSE_LIST_ORDERED="/ol",e.TAG_OPEN_LIST_UNORDERED="ul",e.TAG_CLOSE_LIST_UNORDERED="/ul",e.TAG_OPEN_LIST_ITEM="li",e.TAG_CLOSE_LIST_ITEM="/li",e.TAG_HYPERLINK_ITEM="a",e.TAG_CLOSE_HYPERLINK_ITEM="/a";const i=new Set([e.TAG_OPEN_LIST_ORDERED,e.TAG_CLOSE_LIST_ORDERED,e.TAG_OPEN_LIST_UNORDERED,e.TAG_CLOSE_LIST_UNORDERED,e.TAG_OPEN_LIST_ITEM,e.TAG_CLOSE_LIST_ITEM]);e.isTextItemTag=t=>!i.has(t.tag);e.isBlockEndTag=t=>"/div"===t.tag;e.isBlockStartTag=t=>"div"===t.tag;const getStyleAttributeValue=(t,e)=>{const i=RegExp(`.*[ "';]${e}:([^;"]+)[;"].*`),o=t.replace(i,"$1");return o!==t?o.trim():void 0},getHrefAttributeValue=t=>t.match(/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1/);const splitIntoTokens=t=>Array.from(function*tokenize(t){var i;const o=/<\s*(\/?[0-9a-zA-Z]+).*?(?:\/>|>)/g,a=t.length;let n=0;for(;;){const r=o.exec(t);if(!r){n<a&&(yield{text:t.substring(n)});break}r.index>n&&(yield{text:t.substring(n,r.index)}),n=o.lastIndex;const s=r[1].toLowerCase(),l=s===e.TAG_HYPERLINK_ITEM?null===(i=getHrefAttributeValue(r[0]))||void 0===i?void 0:i[2]:void 0,c=getStyleAttributeValue(r[0],"color"),d={backgroundColor:getStyleAttributeValue(r[0],"background-color"),color:c};yield{tag:s,style:d,href:l}}}((t=>t.replace(/<\/div><\/span>/g,"</span>"))((t=>t.replace(/<br>(<\/span><\/div>)/g,"$1").replace(/<span><\/span>/g,"").replace(/<div>\s*?<\/div>/g,""))((t=>t.replace(/\n/g," "))(t)))));class TokenIterator{constructor(t){this.index=0,this.tokens=t}nextToken(){if(this.index===this.tokens.length)return;const t=this.tokens[this.index];return this.index++,t}currentToken(){if(this.index!==this.tokens.length)return this.tokens[this.index]}returnToken(){this.index>0&&this.index--}hasNextToken(){return this.index<this.tokens.length}skipNextToken(){this.index<this.tokens.length&&this.index++}skipTokenWithTag(t){if(!this.hasNextToken())return;const i=this.tokens[this.index];(0,e.isTag)(i)&&i.tag===t&&this.index++}nextTokenWithTag(...t){if(!this.hasNextToken())return;const i=this.tokens[this.index];return(0,e.isTag)(i)&&t.includes(i.tag)?(this.index++,i):void 0}}e.TokenIterator=TokenIterator;e.buildTokenIterator=t=>new TokenIterator(splitIntoTokens(t))},9785:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.collectTextItemsFromHtml=e.collectTextItemsInternal=e.parseHtmlFromText=void 0;const o=i(1709),a=i(6671),n=i(4580),r=i(2937);e.parseHtmlFromText=(t,e,i,o)=>{const s=(0,r.buildTokenIterator)(o);return(0,a.parseHtml)(s,(0,n.buildHtmlTextContext)(t,e,i))};e.collectTextItemsInternal=(t,i)=>{switch(t.type){case"text":for(let e=0;e<t.text.size();e++)i.add(t.text.getFormat(e),t.text.getText(e));break;case"list":t.items.forEach((t=>{(0,e.collectTextItemsInternal)(t.prefix,i),(0,e.collectTextItemsInternal)(t.content,i)}));break;case"collection-vertical":t.elements.forEach((t=>(0,e.collectTextItemsInternal)(t,i)))}};e.collectTextItemsFromHtml=t=>{if("text"===t.type)return t.text;const i=(0,o.buildTextItemCollection)();return(0,e.collectTextItemsInternal)(t,i),i}},4658:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(5597),a=i(5888);e.default=function renderDrawing({id:t,x:e,y:i,width:n,height:r,rotation:s,stackingOrder:l,properties:c}){const d=Object.keys(c.paths).map((t=>c.paths[t])).map((t=>{if(!(0,o.isSvgStroke)(t))return a.noop;const{path:e,strokeColor:i,strokeWidth:n,filled:r,info:s}=t;return(0,a.drawPath)(e,i,n,r?i:o.transparent,void 0,void 0,"round","round",void 0,void 0,void 0,s?{bounds:{minX:s.bounds.x,minY:s.bounds.y,maxX:s.bounds.x+s.bounds.width,maxY:s.bounds.y+s.bounds.height},pointsCount:s.pointsCount}:void 0)}));return(0,a.drawWidget)(t,c.parentId,e,i,n,r,s,l,d)}},9500:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawLabelsInWidget=e.LABEL_LINK_SPACING=void 0;const o=i(5878);e.LABEL_LINK_SPACING=2;e.drawLabelsInWidget=(t,i,a,n,r,s,l,c,d,h,u,v)=>{if(!r||0===r.length||!v)return;const g=s+5.5,f=n-s-d-h.height-Math.abs(h.height-c)/2,y=a-(u?u.width+e.LABEL_LINK_SPACING:0)-2*(s+5.5);return(0,o.drawLabels)(`${i}-labels`,t,r,v,g,f,y,l,h)}},5878:function(t,e,i){"use strict";var o=this&&this.__rest||function(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(t);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(i[o[a]]=t[o[a]])}return i};Object.defineProperty(e,"__esModule",{value:!0}),e.drawLabels=e.getVisibleLabels=e.measureLabel=e.fitIcon=void 0;const a=i(5597),n=i(3836),r=i(6951),s=i(1481),l=i(5888),collapseLabel=(t,e,i)=>{if(!t.collapse)return null;const{text:a,icon:n}=t,r=o(t,["text","icon"]);switch(t.collapse){case"text":if(a){const t=Object.assign(Object.assign({},r),{text:a}),i=e(t);return Object.assign(Object.assign({},t),{width:i})}break;case"icon":if(n){const t=Object.assign(Object.assign({},r),{icon:n}),i=e(t);return Object.assign(Object.assign({},t),{width:i})}break;case"ellipsis":return((t,e,i)=>{if(!t.text)return null;if(t.text.length<5)return null;const o=t.text;let a=o.substring(0,o.length-3),n=e(Object.assign(Object.assign({},t),{text:a+"..."}));for(;n>i&&a.length>=2;)a=a.substring(0,a.length-1),n=e(Object.assign(Object.assign({},t),{text:a+"..."}));return a.length<2?null:Object.assign(Object.assign({},t),{text:a+"...",width:n})})(t,e,i)}return null},cropLabels=(t,e,i,o)=>{const a=[];let n=i;for(const i of t){const t=e(i),r=i.maxWidth,s=null==r||t<=r,l=(null!=r?Math.min(t,r):t)<=n;if(s&&l)a.push(Object.assign(Object.assign({},i),{width:t})),n-=t+o;else{const t=null!=r?Math.min(n,r):n,s=collapseLabel(i,e,t);if(s&&s.width<=n&&(a.push(s),n-=s.width+o),!l)break}if(n<0)break}return a};e.fitIcon=(t,e)=>{if(e)return e.height<=t?e:{url:e.url,height:t,width:e.width/e.height*t,isIcon:e.isIcon}};e.measureLabel=(t,{fontSize:i,fontFamily:o,bold:a,maxIconHeight:n,iconSpacing:l,leftSpacing:c,rightSpacing:d})=>h=>{let u=0;if(h.text){const e=(0,s.buildMeasureTextFormat)(t,i);u=(0,r.formatText)({fontFamily:o,bold:a},h.text).reduce(((t,i,o)=>e(i,o)+t),0)}const v=(0,e.fitIcon)(n,h.icon),g=v?v.width:0,f=h.text&&v?l:0;return c+g+f+u+d};e.getVisibleLabels=(t,e,i,o,a,n)=>{const r=e.filter((t=>!!i[t.type])).map((t=>Object.assign(Object.assign({},t),i[t.type]))),s=cropLabels(r,t,o,a);return s.length<r.length?cropLabels(s,t,o-a-n,a):s};const drawBurger=(t,e,i,{cornerRadius:o,borderThickness:n,burger:{width:r,height:s,dotDistance:c,dotSize:d}})=>{const h=(s-n-d)/2,u=(r-d)/2;return[(0,l.drawRectangle)(0,0,r,s-n,t,e,n,a.SOLID_STROKE_PATTERN,void 0,o,0),(0,l.drawEllipse)(u-c,h,d,d,i,"transparent",0),(0,l.drawEllipse)(u,h,d,d,i,"transparent",0),(0,l.drawEllipse)(u+c,h,d,d,i,"transparent",0)]};e.drawLabels=(t,i,o,s,c,d,h,u,v)=>{if(0===o.length)return l.noop;const g=((t,{fontSize:i,fontFamily:o,iconPaddingRight:a,paddingHorizontal:n,maxIconHeight:r,bold:s})=>(0,e.measureLabel)(t,{leftSpacing:n,rightSpacing:n,fontSize:i,iconSpacing:a,fontFamily:o,maxIconHeight:r,bold:s}))(i,v),f=(0,e.getVisibleLabels)(g,o,s,h,v.spacingBetweenLabels,v.burger.width);let y=0;const x=f.map(((i,o)=>{const n=((t,i,o,n,{height:s,fontSize:c,fontFamily:d,bold:h,paddingHorizontal:u,iconOffsetY:v,textOffsetY:g,iconPaddingRight:f,maxIconHeight:y,cornerRadius:x,borderThickness:m,fallbacks:R},b=u)=>{var w,S;const A=(0,e.fitIcon)(y,n.icon),C=b+(A?A.width+f:0),I=n.text,M=n.width-C-b;return(0,l.drawGroup)(t,i,o,n.width,s,0,[(0,l.drawRectangle)(0,0,n.width,s-m,n.backgroundColor||R.backgroundColor,n.borderColor||n.backgroundColor||R.borderColor,m,a.SOLID_STROKE_PATTERN,void 0,x,0),I?(0,l.drawTextBox)({x:C,y:g,height:s-g,width:M},c,"left","top",1,(0,r.formatText)({fontFamily:d,color:n.color||R.textColor,bold:h},I)):l.noop,A?(0,l.drawImage)({x:b,y:v,height:A.height,width:A.width},{url:A.url,hint:"image",opts:{color:A.isIcon?null!==(w=n.color)&&void 0!==w?w:void 0:"",isIcon:null!==(S=A.isIcon)&&void 0!==S?S:void 0},widgetContext:{ownerId:t,renderInternalModule:"label"}},{centerX:!0,centerY:!0},void 0,void 0,void 0,"high"):l.noop],void 0,void 0,`label-${n.id}`)})(`${t}-label-${o}`,y,v.borderThickness,i,v);return y+=i.width+v.spacingBetweenLabels,n}));return f.length<o.length&&y+v.burger.width<=h&&(x.push(((t,e,i,o,a)=>(0,l.drawGroup)(`${t}-label-ellipsis`,e,i,a.burger.width,a.burger.height,0,[...drawBurger(a.burger.idle.backgroundColor,a.burger.idle.borderColor,a.burger.idle.dotColor,a),o?(0,n.drawHover)(`${t}-label-ellipsis-hover`,0,0,a.burger.width,a.burger.height,drawBurger(a.burger.hover.backgroundColor,a.burger.hover.borderColor,a.burger.hover.dotColor,a)):l.noop],void 0,void 0,"label-ellipsis"))(t,y,v.borderThickness,u,v)),y+=v.burger.width),(0,l.drawGroup)(t,c,d-v.borderThickness,y,v.height+v.borderThickness,0,x)}},2118:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.visit=e.forEach=e.mapChildrenFirst=e.map=e.traverseMap=void 0;const o=i(3488),isDrawingPrimitive=t=>"WidgetPrimitive"!==t.type,NoOpFn=t=>t,a={type:"NoOp"};function traverseMap(t,e){const i=void 0!==e?e:NoOpFn,traverse=e=>{const n=void 0!==t?t(e):e;if("Image"===n.type&&n.errorFallback){const t=traverse(n.errorFallback);return i(t!==n.errorFallback?Object.assign(Object.assign({},n),{errorFallback:isDrawingPrimitive(t)?t:void 0}):n)}if("Group"===n.type||"WidgetPrimitive"===n.type){const t=n.children,e=(0,o.mapOnlyIfChanges)(n.children,traverse);return i(e!==t?Object.assign(Object.assign({},n),{children:e.map((t=>isDrawingPrimitive(t)?t:a))}):n)}return i(n)};return traverse}e.traverseMap=traverseMap,e.map=function map(t){return traverseMap(t)},e.mapChildrenFirst=function mapChildrenFirst(t){return traverseMap(void 0,t)},e.forEach=function forEach(t){return e=>{t(e),"Image"===e.type&&e.errorFallback&&forEach(t)(e.errorFallback),"Group"!==e.type&&"WidgetPrimitive"!==e.type||e.children.forEach(forEach(t))}},e.visit=function visit(t,e,i){const o=t[i.type];return o&&o(i,e),"Image"===i.type&&i.errorFallback&&visit(t,e,i.errorFallback),"Group"!==i.type&&"WidgetPrimitive"!==i.type||i.children.forEach((i=>visit(t,e,i))),e}},8708:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowLabelOverlapDetection=void 0;const a=i(5597),n=i(1741),r=o(i(5186)),s=i(8324),l=i(2865),c=i(4886),cmpMarker=(t,e)=>t.value-e.value,sweep=(t,e,i)=>{const o=i.release(),a=t.length;for(let i=0;i<a;i++){const n=t[i],r=n.proxy;if(r.alive&&!n.isEnd)if(0===r.type){if(!e.overlaps(r))continue;for(let n=i+1;n<a;n++){const i=t[n],a=i.proxy;if(i.isEnd&&a===r)break;a.alive&&1===a.type&&e.overlaps(a)&&o.add(r,a)}}else{if(!e.overlaps(r))continue;for(let n=i+1;n<a;n++){const i=t[n],a=i.proxy;if(i.isEnd&&a===r)break;a.alive&&0===a.type&&e.overlaps(a)&&o.add(a,r)}}}return o},filterMarkersInPlace=t=>{const e=t.length;let i=0;for(let o=0;o<e;o++){const e=t[o];e.proxy.alive&&(t[i++]=e)}t.length=i};e.ArrowLabelOverlapDetection=class ArrowLabelOverlapDetection{constructor(){this._arrowGroups=new Map,this._axisX=[],this._axisY=[],this._reuse={xCandidates:new s.PairSet,yCandidates:new s.PairSet,previouslyOverlapping:new s.PairSet,currentlyOverlapping:new s.PairSet},this._invalidationHull=new n.Hull,this._markersSortDirty=!1,this._changedArrows=0,this.clearInvalidation()}setArrowsAndGetModified(t){for(const e of t)this.setArrow(e.arrow,e.arrowAbsX,e.arrowAbsY);return this.applyPendingOverlapsAndGetModifiedArrows()}deleteAndGetModified(t){for(const e of t)this.delete(e);return this.applyPendingOverlapsAndGetModifiedArrows()}getNotOwnedOverlappingLabelProxies(t){var e;return null===(e=this._arrowGroups.get(t))||void 0===e?void 0:e.notOwnOverlappingLabels}setArrow(t,e,i){const o=t.id;let a=this._arrowGroups.get(o);a||(a={id:o,arrowProxy:new l.ProxyArrow(t),ownLabels:[],notOwnOverlappingLabels:new Set,removedLabels:new Set},this.addProxyToAxes(a.arrowProxy),this._arrowGroups.set(o,a));const n=a.arrowProxy;this.growInvalidationHull(n);const r=n.x!==e||n.y!==i;n.update(a,e,i,t.width,t.height),n.widget=t,this.growInvalidationHull(n),this.updateLabels(t,a,e,i,r),n.justChanged=!0,this._changedArrows++,this._markersSortDirty=!0}updateLabels(t,e,i,o,n){var r;const s=e.ownLabels,c=null===(r=t.properties.label)||void 0===r?void 0:r.labels,d=s.length,h=(null==c?void 0:c.length)||0;let u=!1;if(c){for(let t=d;t<h;t++){const t=new l.ProxyLabel;this.addProxyToAxes(t),s.push(t)}for(let t=0;t<h;t++){const r=s[t],l=c[t],d=void 0===r.realCopy||!(0,a.areArrowLabelsEqual)(r.realCopy,l);r.justChanged=n||d,r.justChanged&&(u=!0,this.growInvalidationHull(r),r.update(e,l.x+i,l.y+o,l.width,l.height),d&&(r.realCopy=Object.assign({},l)),this.growInvalidationHull(r))}}for(let t=h;t<d;t++)u=!0,s[t].alive=!1,s[t].realCopy=void 0;return s.length=h,u}delete(t){const e=this._arrowGroups.get(t);e&&(this._changedArrows++,this.growInvalidationHull(e.arrowProxy),e.arrowProxy.alive=!1,e.arrowProxy.justChanged=!0,e.ownLabels.forEach((t=>{this.growInvalidationHull(t),t.alive=!1,t.justChanged=!0})))}clearInvalidation(){this._changedArrows=0,this._invalidationHull.clear()}growInvalidationHull(t){this._invalidationHull.grow(t)}addProxyToAxes(t){this._axisX.push(t.xStart),this._axisX.push(t.xEnd),this._axisY.push(t.yStart),this._axisY.push(t.yEnd)}applyPendingOverlapsAndGetModifiedArrows(){const t=new Set;if(!this._changedArrows)return t;const e=this.resetReuseResources();this._markersSortDirty&&(this._markersSortDirty=!1,this.sortAxesMarkersInPlace());const i=sweep(this._axisX,this._invalidationHull,e.xCandidates),o=sweep(this._axisY,this._invalidationHull,e.yCandidates),a=((t,e)=>{const i=[];for(const o of t){const t=o.arrowProxy;e.overlaps(t)&&i.push(t)}return i})(this._arrowGroups.values(),this._invalidationHull),n=c.Unique.make(((t,e,i)=>{const o=i.release();for(const i of t){const t=i.group;for(const a of t.notOwnOverlappingLabels)e.overlaps(a)&&o.add(i,a)}return o})(a,this._invalidationHull,e.previouslyOverlapping)),r=e.currentlyOverlapping.release();(0,s.setIntersectionForEach)(i,o,((t,e)=>{((t,e)=>t.group===e.group)(t,e)||r.add(t,e)}));((t,e,i,o,a)=>{const n=e.release();t.forEach(((t,e)=>{n.has(t,e)?(n.delete(t,e),(e.justChanged||t.justChanged)&&a(t,e)):i(t,e)})),n.forEach(o)})(r,n.give(),((e,i)=>{e.group.notOwnOverlappingLabels.add(i),t.add(e.widget)}),((e,i)=>{e.group.notOwnOverlappingLabels.delete(i),t.add(e.widget)}),(e=>{t.add(e.widget)}));for(const e of a)e.justChanged&&t.add(e.widget);return this.clearChangedFlags(a),this.unpersistDeadProxies(),this.clearInvalidation(),t}sortAxesMarkersInPlace(){(0,r.default)(this._axisX,cmpMarker),(0,r.default)(this._axisY,cmpMarker)}clearChangedFlags(t){t.forEach((t=>{const e=t.group;e.arrowProxy.justChanged=!1,e.ownLabels.forEach((t=>t.justChanged=!1))}))}unpersistDeadProxies(){filterMarkersInPlace(this._axisX),filterMarkersInPlace(this._axisY);for(const t of this._arrowGroups.keys()){const e=this._arrowGroups.get(t);e&&e.arrowProxy.alive||this._arrowGroups.delete(t)}}resetReuseResources(){const{xCandidates:t,yCandidates:e,previouslyOverlapping:i,currentlyOverlapping:o}=this._reuse;return t.clear(),e.clear(),i.clear(),o.clear(),{xCandidates:c.Unique.make(t),yCandidates:c.Unique.make(e),previouslyOverlapping:c.Unique.make(i),currentlyOverlapping:c.Unique.make(o)}}}},9893:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HierarchyCache=void 0;const o=i(5597);class Node{constructor(){this.parentNodeId=null,this.x=0,this.y=0,this.element=null,this.children=new Set,this.recursiveElementCount=0}}e.HierarchyCache=class HierarchyCache{constructor(t){this._nodeMap=new Map,this._isElement=t,this._nodeMap.set(null,new Node)}getOrCreateNode(t){let e=this._nodeMap.get(t);return e||(e=new Node,this._nodeMap.set(t,e)),e}setNode(t,e){const i=t.properties.parentId,o=this.getOrCreateNode(t.id);if(null!==e&&(o.recursiveElementCount=1,o.element=e),o.x=t.x,o.y=t.y,o.parentNodeId!==i){this.getOrCreateNode(o.parentNodeId).children.delete(t.id);let e=o;for(;e.parentNodeId;)e=this.getOrCreateNode(e.parentNodeId),e.recursiveElementCount-=o.recursiveElementCount;o.parentNodeId=i;this.getOrCreateNode(i).children.add(t.id);let a=o;for(;a.parentNodeId;)a=this.getOrCreateNode(a.parentNodeId),a.recursiveElementCount+=o.recursiveElementCount}return o}updateHierarchyReturnElementsInsideUpdatedParents(t){const e=new Set;for(const i of t)this._isElement(i)?this.setNode(i,i):(0,o.hasChildren)(i)&&(this.setNode(i,null),e.add(i.id));return this.getNodeElementsTraversal(e)}getNodeElementsTraversal(t){const e=new Set,i=[];for(const o of t){const t=[o];for(;t.length>0;){const o=t.pop();if(!o||e.has(o))continue;e.add(o);const a=this.getOrCreateNode(o);0!==a.recursiveElementCount&&(a.element&&i.push(a.element),t.push(...a.children))}}return i}delete(t){const e=new Set;for(const i of t){null===this.getOrCreateNode(i).element&&e.add(i)}const i=this.getNodeElementsTraversal(e);for(const e of t){const t=this.getOrCreateNode(e);this.getOrCreateNode(t.parentNodeId).children.delete(e);let i=t;for(;i.parentNodeId;)i=this.getOrCreateNode(i.parentNodeId),i.recursiveElementCount-=t.recursiveElementCount;this._nodeMap.delete(e)}return i}absolutePosition(t){let e=0,i=0,o=t,a=100;for(;o;){const n=this.getOrCreateNode(o);if(e+=n.x,i+=n.y,o=n.parentNodeId,a--<=0)return console.error(`HierarchyCache possibly cyclic hierarchy chain for widget id ${t}`),{x:0,y:0}}return{x:e,y:i}}}},1741:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hull=void 0;e.Hull=class Hull{constructor(){this.x=Number.MAX_SAFE_INTEGER,this.y=Number.MAX_SAFE_INTEGER,this.x1=Number.MIN_SAFE_INTEGER,this.y1=Number.MIN_SAFE_INTEGER,this.clear()}clear(){this.x=Number.MAX_SAFE_INTEGER,this.y=Number.MAX_SAFE_INTEGER,this.x1=Number.MIN_SAFE_INTEGER,this.y1=Number.MIN_SAFE_INTEGER}set(t){this.clear(),this.grow(t)}grow({x:t,y:e,x1:i,y1:o}){t-=1,e-=1,i+=1,o+=1,this.x>t&&(this.x=t),this.y>e&&(this.y=e),this.x1<i&&(this.x1=i),this.y1<o&&(this.y1=o)}overlaps({x:t,y:e,x1:i,y1:o}){return t<=this.x1&&i>=this.x&&e<=this.y1&&o>=this.y}toString(){const{x:t,y:e,x1:i,y1:o}=this;return JSON.stringify({x:t,y:e,x1:i,y1:o})}}},5186:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function insertionSort(t,e){let i,o=null,a=null,n=0,r=0,s=0;for(;n<t.length;){if(a=o,i=o=t[n],null!==a){for(s=r=n-1;r>=0&&e(i,t[r])<0;)t[r+1]=t[r],s=r--;r!==s&&(t[s]=i)}++n}}},8324:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setIntersectionForEach=e.PairSet=void 0;e.PairSet=class PairSet{constructor(){this._elements=new Map,this._setPool=[],this._last1=void 0,this._last2Set=void 0,this._allSets=[]}add(t,e){let i=this._last1===t?this._last2Set:this._elements.get(t);i||(i=this._setPool.pop(),i||(i=new Set,this._allSets.push(i)),this._elements.set(t,i)),this._last1=t,this._last2Set=i,i.add(e)}delete(t,e){const i=this._last1===t?this._last2Set:this._elements.get(t);i&&(i.delete(e),0===i.size&&(this._elements.delete(t),this._setPool.push(i),this._last1===t&&(this._last1=void 0,this._last2Set=void 0)))}has(t,e){const i=this._last1===t?this._last2Set:this._elements.get(t);return this._last1=t,this._last2Set=i,!!i&&i.has(e)}forEach(t){for(const[e,i]of this._elements.entries())for(const o of i)t(e,o)}clear(){this._last1=void 0,this._last2Set=void 0,this._elements.clear(),this._allSets.forEach((t=>t.clear())),this._setPool=[...this._allSets]}slowCount(){let t=0;for(const e of this._elements.values())t+=e.size;return t}};e.setIntersectionForEach=(t,e,i)=>{t.forEach(((t,o)=>{e.has(t,o)&&i(t,o)}))}},2865:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyLabel=e.ProxyArrow=void 0;class ProxyBase{constructor(){this.x=Number.NaN,this.y=Number.NaN,this.x1=Number.NaN,this.y1=Number.NaN,this.alive=!1,this.justChanged=!1}createMarkers(t){this.xEnd={isEnd:!0,proxy:t,value:0},this.xStart={isEnd:!1,proxy:t,value:0},this.yEnd={isEnd:!0,proxy:t,value:0},this.yStart={isEnd:!1,proxy:t,value:0}}update(t,e,i,o,a){this.alive=!0,this.x=e,this.y=i,this.group=t,this.x1=this.x+o,this.y1=this.y+a,this.xStart.value=this.x,this.xEnd.value=this.x1,this.yStart.value=this.y,this.yEnd.value=this.y1}initMarkers(t){this.xStart=t.xStart,this.xEnd=t.xEnd,this.yStart=t.yStart,this.yEnd=t.yEnd}}e.ProxyArrow=class ProxyArrow extends ProxyBase{constructor(t){super(),this.type=0,this.widget=t,this.createMarkers(this)}toString(){var t;return`[Arrow ${null===(t=this.widget)||void 0===t?void 0:t.id}  ${this.alive?"^v^":"X_X"}]`}};e.ProxyLabel=class ProxyLabel extends ProxyBase{constructor(){super(),this.type=1,this.realCopy=void 0,this.createMarkers(this)}toString(){return`[Label from ${this.group.id} ${this.alive?"^v^":"X_X"}]`}}},4886:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Unique=void 0;class Unique{static make(t){return new Unique(t)}give(){return this._check(),this._valid=!1,new Unique(this._ref)}release(){return this._check(),this._valid=!1,this._ref}constructor(t){this._ref=t,this._valid=!0}_check(){this._valid||console.error("Trying to use a released Unique<> reference")}}e.Unique=Unique},9595:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(729),n=i(5597),r=i(3355),s=o(i(3042)),l=i(6951),c=i(5888),d=i(6902),generateTitle=(t,e,i,o,n)=>{const r=i-2,d=((t,e,i)=>{const{lines:o}=(0,l.wrapText)(t,e,0,16,"left","top",0,0,(0,l.formatHighlightableText)({fontFamily:"proxima-nova",bold:!0},i),a.CLASSIC_LINE_HEIGHT_MULTIPLIER);return 20*o.length})(t,r,o);return{node:(0,c.drawGroup)(`${e}-title`,1,3,r,d,0,[(0,c.drawHint)(`${e}-title-text`,"title",(0,c.drawTextBox)({height:d,x:0,y:0,width:r},16,"left","top",0,(0,l.formatHighlightableText)({fontFamily:"proxima-nova",bold:!0},o))),n?(0,s.default)(`${e}-title-edit`,r-22,2,"title.edit"):c.noop]),height:d+6}},generateFooter=(t,e,i,o,n,r)=>{const d=o-2,h=((t,e,i)=>{const{lines:o}=(0,l.wrapText)(t,e,0,14,"left","top",0,0,(0,l.formatHighlightableText)({fontFamily:"proxima-nova"},i),a.CLASSIC_LINE_HEIGHT_MULTIPLIER);return 18*o.length})(t,d,n);return{node:(0,c.drawGroup)(`${e}-footer`,1,i+3,d,h,0,[(0,c.drawHint)(`${e}-footer-text`,"caption",(0,c.drawTextBox)({x:0,y:0,width:d,height:h},14,"left","top",0,(0,l.formatHighlightableText)({fontFamily:"proxima-nova",color:"#888"},n),void 0,!1,18)),r?(0,s.default)(`${e}-footer-edit`,d-22,0,"caption.edit"):c.noop]),height:h+6}},h=2.5,u={node:c.noop,height:0};e.default=(t,e,i,o,a,s,v,g)=>{const f=o-28,{node:y,height:x}=a?generateTitle(t,e,f,a,g):u,{node:m,height:R}=s?generateFooter(t,e,x,f,s,g):u,{node:b,height:w}=v?((t,e,i,o)=>({node:(0,c.drawGroup)(`${t}-link`,11.5,e+9+12-h+1,i+h,21,0,[(0,c.drawImage)({x:h,y:h,width:16,height:16},{hint:"mural",url:(0,r.getFaviconUrl)(o)||"",widgetContext:{ownerId:t,renderInternalModule:"link"}},{centerX:!0,centerY:!0},d.DEFAULT_LOADING_COLOR),(0,c.drawEllipse)(0,0,21,21,n.transparent,"#ffffff",5),(0,c.drawTextBox)({x:25.5,y:3.5,width:i-23,height:15},13,"left","middle",1,(0,l.formatText)({fontFamily:"proxima-nova"},(0,r.getLinkProvider)(o)))],void 0,void 0,"link"),height:28}))(e,x+R+(a&&!s?-2:0),f,v):u,S=x+R+w+(!v||a&&!s?0:2);return{node:(0,c.drawGroup)(`${e}-info`,0,i,o,S+18,0,[(0,c.drawGroup)(`${e}-caption`,14,9,f,x+R,0,[y,m]),b]),height:S+18}}},8749:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.errorFallback=void 0;const o=i(5597),a=i(6951),n=i(5888),r={dataUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA+CAAAAABWqveYAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAAFiUAABYlAUlSJPAAAAAHdElNRQfkBA4TCjsB2j5AAAABrUlEQVRIx+3Wy26CQBQG4F9L7cVL2tSViSZNF01c9v2folWriPfWK4riBRWRLqgV5GBmmE3T9KzOMPMlPzowRCo6wldK0lUBjqgIBiQAsWQoOt86PJkPxUtj4fD//M/zPXVRYqOd6dK6SWTjofiisgJgGGouG+Hnm7ed09gt5Pjvvbr7adtLbj7Xjr3d4eaLwAET9+Q19rz80j24iPLyeOCAiafca+64eezx2N9muTkyD4dOeo7yc+SfnGX3L4mTGbZHJpPWl2Y84T8P2Dhi6TR5/Te9bbozEb5uypYAl611IzzvzoDeNCxfN50EIbkDN/Vw/PCr9zV6pX2WO9EBz5vRVb2CfY4f75mM31Om1TPcvWEGE0IDg3YgP0Yn4/cUAGgNg7j379rWKA3IM5qf7vXhmNKwSwbFvdEBQDEJDewKJsH9O80V36WBdcl/TGjEYzpSKQ3oso+T3w3f8U80MGqccrJMhdTAR5+FQx2RGlA0Fo6aSWrY70sWbr4q9IRV3DJwrIImNkWLgQfXoizEMakJcXQ/ATCfcf6qXwtxlK8EwgN7Q4gD4lxKiejUF6ILsFCtt3bBAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA0LTE0VDE5OjEwOjU5KzAzOjAworo80wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNC0xNFQxOToxMDo1OSswMzowMNPnhG8AAAAodEVYdGljYzpjb3B5cmlnaHQAQ29weXJpZ2h0IEFwcGxlIEluYy4sIDIwMjAKut6wAAAAF3RFWHRpY2M6ZGVzY3JpcHRpb24ARGlzcGxheRcblbgAAAAYdEVYdGljYzptYW51ZmFjdHVyZXIARGlzcGxheZka6dkAAAARdEVYdGljYzptb2RlbABEaXNwbGF5+JycIAAAAABJRU5ErkJggg==",url:""};e.errorFallback=(t,e,i,s,l,c,d="Picture not available")=>{if(s<=112)return((t,e,i,a,s,l)=>(0,n.drawGroup)(`${t}-small-fallback`,e,i,a,s,0,[(0,n.drawRectangle)(0,0,a,s,l,o.transparent,1),(0,n.drawImage)({width:20,height:20,x:a/2-10,y:s/2-10},Object.assign(Object.assign({},r),{widgetContext:{ownerId:t,renderInternalModule:"photo-fallback"}}),{centerX:!0,centerY:!0})]))(t,e,i,s,l,c);const h=l/2-46.5+3,u=s/2-15.5,v=h+31+7;return(0,n.drawGroup)(`${t}-fallback`,e,i,s,l,0,[(0,n.drawRectangle)(0,0,s,l,c,o.transparent,1),(0,n.drawImage)({width:31,height:31,x:u,y:h},Object.assign(Object.assign({},r),{widgetContext:{ownerId:t,renderInternalModule:"photo-fallback"}}),{centerX:!0,centerY:!0}),(0,n.drawTextBox)({x:0,y:v,width:s,height:30},16,"center","middle",0,(0,a.formatText)({fontFamily:"proxima-nova",color:"#B7B7B7"},d))])}},3016:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getPhotoWidgetBorder=void 0;const a=i(5597),n=o(i(3381)),r=i(8183),s=i(220),l=o(i(9276)),c=i(5888),d=o(i(9595)),h=i(8749),u=i(6902),generateImage=(t,e,i,o,r,s,d,v,g,f,y,x,m,R,b,w,S,A)=>{let C;C=f?S?(0,h.errorFallback)(i,o,o,r,s,u.DEFAULT_LOADING_COLOR):((t,e,i,o,a,n,r,s,l)=>{if(!l||!s||!r)return(0,c.drawImage)({width:o,height:a,x:e,y:i},n,void 0,u.DEFAULT_LOADING_COLOR,(0,h.errorFallback)(t,e,i,o,a,u.DEFAULT_LOADING_COLOR),void 0,void 0,!0,t);const d=o/l.width,v=a/l.height,g=r*d,f=s*v,y=-l.left*d,x=-l.top*v;return(0,c.drawGroup)(`${t}-mask`,e,i,o,a,0,[(0,c.drawImage)({width:g,height:f,x:y,y:x},n,void 0,u.DEFAULT_LOADING_COLOR,(0,h.errorFallback)(t,e,i,o,a,u.DEFAULT_LOADING_COLOR),void 0,void 0,void 0,t)],"rectangle")})(i,o,o,r,s,f,d,v,R):g?Object.assign(Object.assign({},l.default),{id:`${i}-photo-private`}):(0,c.drawRectangle)(o,o,r,s,"#EDEDED",a.transparent,0);const I=y||(f?f.url:null);let M;x&&I&&r>=100&&(M=S?void 0:(0,n.default)(t,`${i}-${w?"view":"open"}${b?"-always":""}`,r+o,s+o,e,I,w?"View":"Open",void 0,!0,!b,"right",w?"view":"open",x,m,A));const T=M?r+2*o:C.width,_=M?s+2*o:C.height,L=M?0:C.x,O=M?0:C.y;return C.x-=L,C.y-=O,(0,c.drawGroup)(`${i}-content`,L,O,T,_,0,[C,M||c.noop],void 0,void 0,"_loading_progress",void 0,void 0,y)},v={node:c.noop,height:0};e.getPhotoWidgetBorder=(t,e)=>t.properties.border?e.borderThickness:0,e.default=(t,e,i,o,n,h,u,g)=>{var f;const{id:y,x,y:m,rotation:R,stackingOrder:b}=i,{cornerRadius:w,borderColor:S,borderThickness:A,shadow:C,borderPadding:I}=h,{aspectRatio:M,border:T,contentPrivate:_,embedPreview:L,footer:O,link:P,mask:E,naturalHeight:N,naturalWidth:z,privateImage:k,showCaption:D,title:F,parentId:B,dlpDownloadRestricted:j}=i.properties,H=null!==(f=i.properties.objectFit)&&void 0!==f?f:h.objectFit,W=!!k||!!_,U=((t,e,i)=>!t||0===t.left&&0===t.top&&t.width===e&&t.height===i?void 0:t)(E,z,N),G=((t,e)=>{const i=t.properties.photoURL||t.properties.thumbURL;if(!i)return;return{url:i,opts:e?{bound:{width:t.width,height:t.height}}:void 0,widgetContext:{ownerId:t.id,renderInternalModule:"photo"}}})(i,!!o),V=T?I:0,Y=i.width-2*V,Z=((t,e,i,o,a,n,r,s,c)=>{const d=i/(c?c.width/c.height:s||(n||o)/(r||a));return t?d:e?l.default.height:Math.max(d,120)})(!!G,W,"fit"===H?i.width:Y,i.width,i.height,z,N,M,U)-("fit"===H?2*V:0),X=i.width>=138&&D&&(!!F||!!O||!!P),{node:Q,height:q}=X?(0,d.default)(t,y,Z+V+("fit"===H?V:0),i.width,F,O,P,n):v,J=V+Z+q+V-("enlarge"===H&&q?V:0),K=((t,e,i,o,n,{borderColor:r,borderThickness:s,cornerRadius:l})=>o?(0,c.drawRectangle)(0,0,t,e,a.white,r,s,a.SOLID_STROKE_PATTERN,void 0,l):n?(0,c.drawRectangle)(0,i,t,e-i,a.white,a.transparent,0,a.SOLID_STROKE_PATTERN,void 0,l):void 0)(i.width,J,Z,T,X,h),$=null!=K?K:(0,c.drawRectangle)(0,0,i.width,J,a.transparent,a.transparent,0,a.SOLID_STROKE_PATTERN,void 0,w),tt=X&&w,et=T?A:0;return(0,c.drawWidget)(y,B,x,m,i.width,J,R,b,[n?(0,r.drawHighlight)(`${y}-highlight`,$):c.noop,(0,s.drawShadow)(`${y}-shadow`,$,n,C),null!=K?K:c.noop,tt?(0,c.drawRectangle)(et,Z,i.width-et,w,a.white,a.transparent,0):c.noop,tt&&T?(0,c.drawLine)(0,Z,0,Z+w,S,et):c.noop,tt&&T?(0,c.drawLine)(i.width,Z,i.width,Z+w,S,et):c.noop,generateImage(t,e,y,V,Y,Z,z,N,W,G,P,n,u,U,X,g,j,!!L&&!_),Q],void 0,void 0,void 0,T?1:0)}},6902:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_LOADING_COLOR=void 0,e.DEFAULT_LOADING_COLOR="#f4f4f4"},5802:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawReactionsInWidget=void 0;const o=i(6306),a=i(9314),n=i(5888);e.drawReactionsInWidget=(t,e,i,r)=>{var s;const l=t.id,c=t.width,d=t.height,h=null!==(s=t.rotation)&&void 0!==s?s:0,u=t.properties.reactions,v=!!t.properties.locked;if(!u&&!i.addButtonVisibleWhenNoReactions||!r.reactions.getEnabled()||r.reactions.getHidden(l))return;const g=((t,e)=>{var i;const o=Object.keys(t);if(0===o.length)return[];const a=new Map;for(const n of o){const o=t[n],r=Object.keys(o);for(const t of r){const r=o[t],s=null!==(i=r.variant)&&void 0!==i?i:t,l=a.get(t),c=null!=l?l:{emoji:t,timestamp:Number.MAX_VALUE,usernamesCount:0,reactedByUser:!1,variants:[]};c.timestamp=Math.min(c.timestamp,r.timestamp),c.usernamesCount++,n===e&&(c.reactedByUser=!0);const d=c.variants.find((t=>t.emoji===s)),h=null!=d?d:{emoji:s,timestamp:Number.MAX_VALUE};h.timestamp=Math.min(h.timestamp,r.timestamp),d||c.variants.push(h),l||a.set(t,c)}}const n=[...a.values()];return n.sort(((t,e)=>t.timestamp!==e.timestamp?t.timestamp-e.timestamp:t.emoji.localeCompare(e.emoji))),n.forEach((t=>{t.variants.sort(((t,e)=>t.timestamp!==e.timestamp?t.timestamp-e.timestamp:t.emoji.localeCompare(e.emoji)))})),n})(null!=u?u:{reactions:{}},r.getUserId());if(0===g.length&&!i.addButtonVisibleWhenNoReactions)return;let f=d,y=0,x=c;if(0!==h){const t=h*Math.PI/180,e=[a.Point.rotate({x:0,y:0},t),a.Point.rotate({x:c,y:0},t),a.Point.rotate({x:0,y:d},t),a.Point.rotate({x:c,y:d},t)],i=e.map((t=>t.x)),o=e.map((t=>t.y));f=Math.max(...o),y=Math.min(...i),x=Math.max(...i)}const m=x-y,R=y+i.bottomOffsetX,b=f+i.bottomOffsetY,w=(0,o.drawReactions)(`${l}-reactions`,g,R,b,m-2*i.bottomOffsetX,e,v,i,r.reactions.getExpanded(l),r.reactions.getMode());if(w){if(i.hideAtZoomLevel&&(0,n.applyHideAtZoomLevel)(w,i.hideAtZoomLevel),w.forEach((t=>t.skipBoundsValidation=!0)),0!==h){const t=h*Math.PI/180;return w.map((e=>{const i=a.Point.rotate({x:e.x,y:e.y},-t);return Object.assign(Object.assign({},e),{x:i.x,y:i.y,rotation:-h})}))}return w}}},6306:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawReactions=e.REACTIONS_HINTS=e.REACTIONS_CONTAINER_HINT=e.REACTION_ADD_BUTTON_BACKGROUND_HINT=e.REACTION_ADD_BUTTON_HINT=void 0;const o=i(5597),a=i(3836),n=i(6951),r=i(5888);e.REACTION_ADD_BUTTON_HINT="reaction-add",e.REACTION_ADD_BUTTON_BACKGROUND_HINT="_reaction-add-background",e.REACTIONS_CONTAINER_HINT="_reactions-container",e.REACTIONS_HINTS=[e.REACTION_ADD_BUTTON_HINT,e.REACTION_ADD_BUTTON_BACKGROUND_HINT,e.REACTIONS_CONTAINER_HINT];const drawReaction=(t,{height:e,borderThickness:i,cornerRadius:a,iconX:s,iconY:l,iconFontFamily:c,iconFontSize:d,iconWidth:h,iconHeight:u,iconSpacingBetweenVariants:v,iconColor:g,counterX:f,counterY:y,counterWidth:x,counterHeight:m,counterFontFamily:R,counterFontFamilyBold:b,counterFontSize:w,counterExtraWidthPerDigit:S},{backgroundColor:A,borderColor:C,contentColor:I,bold:M},T)=>{const _=t.usernamesCount.toString();return[(0,r.drawRectangle)(0,0,T-i,e-i,A,C,i,o.SOLID_STROKE_PATTERN,void 0,a,0),...t.variants.map(((t,e)=>(0,r.drawTextBox)({x:s+e*v,y:l,height:u,width:h},d,"center","middle",1,(0,n.formatText)({fontFamily:c,color:g},t.emoji)))).reverse(),(0,r.drawTextBox)({x:f+(t.variants.length-1)*v,y,height:m,width:x+(_.length-1)*S},w,"center","middle",1,(0,n.formatText)({fontFamily:M?b:R,color:I},_))]},drawReactionButton=(t,e,i,o,n,s,l,c)=>{const d=n.width+(o.usernamesCount.toString().length-1)*n.counterExtraWidthPerDigit+(o.variants.length-1)*n.iconSpacingBetweenVariants;return(0,r.drawGroup)(t,e,i,d,n.height,0,[...drawReaction(o,n,s?n.reacted.default:n.notReacted.default,d),l&&"normal"===c?(0,a.drawHover)(`${t}-hover`,0,0,d,n.height,drawReaction(o,n,s?n.reacted.hover:n.notReacted.hover,d),void 0,1!==n.scalingOnHover?{"scale-in":{delay:0,duration:.1,target:n.scalingOnHover},"scale-out":{delay:0,duration:.1}}:void 0):r.noop],void 0,void 0,`reaction-${o.emoji}`)},drawBurger=(t,{height:e,borderThickness:i,cornerRadius:a,counterFontFamily:s,counterFontFamilyBold:l,counterFontSize:c,counterY:d,counterHeight:h,burgerIcon:u},{backgroundColor:v,borderColor:g,contentColor:f,bold:y})=>[(0,r.drawRectangle)(0,0,u.width-i,e-i,v,g,i,o.SOLID_STROKE_PATTERN,void 0,a,0),(0,r.drawTextBox)({x:0,y:d,height:h,width:u.width},c,"center","middle",1,(0,n.formatText)({fontFamily:y?l:s,color:f},"+"+t.toString()))],drawAdd=(t,{height:e,borderThickness:i,cornerRadius:a,addIcon:n},{backgroundColor:s,borderColor:l,imageBase64:c})=>[(0,r.drawRectangle)(0,0,n.width-i,e-i,s,l,i,o.SOLID_STROKE_PATTERN,void 0,a,0),(0,r.drawImage)({x:n.imageX,y:n.imageY,width:n.imageWidth,height:n.imageHeight},{url:"http://add-reaction-svg",dataUrl:c,widgetContext:{ownerId:t,renderInternalModule:"reaction"}},{centerX:!0,centerY:!0},void 0,void 0,void 0,"high")];e.drawReactions=(t,i,n,s,l,c,d,h,u,v)=>{if(0===i.length&&!h.addButtonVisibleWhenNoReactions)return;const g=[],f=u?Number.MAX_SAFE_INTEGER:h.maxVisibleReactions,y=h.maxReactions;let x=null;for(const e of i){const i=e.reactedByUser;if(g.length+1>f&&!i)continue;const o=drawReactionButton(`${t}-reaction-${g.length}`,0,0,e,h,i,c,v);g.push(o),i||(x=o)}const m=c&&!d&&"normal"===v&&i.length<y;g.length<i.length&&(null!==x&&g.splice(g.indexOf(x),1),g.push(((t,e,i,o,n,s)=>(0,r.drawGroup)(t+"-burger",e,i,o.burgerIcon.width,o.height,0,[...drawBurger(s,o,o.burgerIcon.default),n?(0,a.drawHover)(`${t}-burger-hover`,0,0,o.burgerIcon.width,o.height,drawBurger(s,o,o.burgerIcon.hover),void 0,1!==o.scalingOnHover?{"scale-in":{delay:0,duration:.1,target:o.scalingOnHover},"scale-out":{delay:0,duration:.1}}:void 0):r.noop],void 0,void 0,"reaction-burger"))(t,0,0,h,c,i.length-g.length)));let R=null;m&&(R=((t,i,o,n,s)=>(0,r.drawGroup)(t+"-add",i,o,n.addIcon.width,n.height,0,[...drawAdd(t,n,n.addIcon.default),s?(0,a.drawHover)(`${t}-add-hover`,0,0,n.addIcon.width,n.height,drawAdd(t,n,n.addIcon.hover),void 0,1!==n.scalingOnHover?{"scale-in":{delay:0,duration:.1,target:n.scalingOnHover},"scale-out":{delay:0,duration:.1}}:void 0):r.noop],void 0,void 0,e.REACTION_ADD_BUTTON_HINT,"hover",{"alpha-in":{delay:0,duration:.1},"alpha-out":{delay:0,duration:.1}}))(t,0,0,h,c));let b=0,w=0;for(const t of g)b>0&&b+t.width>l&&(w+=h.height+h.spacingBetweenReactions,b=0),t.x=b,t.y=w,b+=t.width+h.spacingBetweenReactions;null!==R&&(b>0&&b+R.width>l&&(w+=h.height+h.spacingBetweenReactions,b=0),R.x=b+n,R.y=w+s);const S=[];if(null!==R){const i=h.spacingBetweenReactions,a=(0,r.drawGroup)(t+"-add-background",R.x-i,R.y-i,R.width+2*i,R.height+2*i,0,[(0,r.drawRectangle)(0,0,R.width+2*i,R.height+2*i,o.transparent,o.transparent,0,void 0,void 0,void 0,0)],void 0,void 0,e.REACTION_ADD_BUTTON_BACKGROUND_HINT);S.push(a,R)}let A=0,C=0;return g.forEach((t=>{A=Math.max(A,t.x+t.width),C=Math.max(C,t.y+t.height)})),null!==R&&(A=Math.max(A,R.x+R.width-n),C=Math.max(C,R.y+R.height-s)),[(0,r.drawGroup)(t,n,s,A,C,0,g,void 0,void 0,e.REACTIONS_CONTAINER_HINT),...S]}},5884:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateTextboxContainerBounds=void 0;const o=i(6951);e.calculateTextboxContainerBounds=(t,e,i,a,n,r,s,l,c)=>{const d="horizontal"===t?e.width:e.height,h=("horizontal"===t?e.height:e.width)||(0,o.getSingleTextLineHeight)(i,a,{fontFamily:n},r),u="horizontal"===t?l:"vertical-left"===t?"top"===s?"left":"bottom"===s?"right":"center":"vertical-right"===t?"top"===s?"right":"bottom"===s?"left":"center":"center",v=((t,e,i)=>{switch(t){case"middle":return Math.max((e-i)/2,0);case"bottom":return Math.max(e-i,0);default:return 0}})("horizontal"===t?s:"vertical-left"===t?"left"===l?"bottom":"right"===l?"top":"middle":"vertical-right"===t?"left"===l?"top":"right"===l?"bottom":"middle":"middle",c.height,h),g=((t,e,i)=>{switch(t){case"center":return Math.max((e-i)/2,0);case"right":return Math.max(e-i,0);default:return 0}})(u,c.width,d),f=c.x+g,y=c.y+v,x="vertical-left"===t?-90:"vertical-right"===t?90:0;return{bounds:{x:f+("vertical-right"===t?Math.min(e.height,c.width):0),y:y+("vertical-left"===t?e.width:0),width:d,height:h},rotation:x}}},3385:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clipRichTextBox=e.drawRichTextBox=e.getLinkHints=void 0;const o=i(186),a=i(5888),n=i(5884),r=i(4927);e.getLinkHints=(t,i,o,a,n,s,l=0,c=0)=>"WrappedTextBox"===i.type?(0,r.getLinkHintsFromWrappedText)(t,i.wrappedText,o,a,n,s,l+i.x,c+i.y):"Group"===i.type?i.children.flatMap(((t,o)=>(0,e.getLinkHints)(`${i.id}-child-${o}`,t,i.width,a,n,s,l+i.x,c+i.y))):[];e.drawRichTextBox=(t,i,r,s,l,c,d,h,u,v,g,f,y="horizontal")=>{const x=(t=>t?t.replace(/ *$/,""):t)(d),m="horizontal"===y?i.width:i.height,R=(0,o.drawHtmlTextboxFromHtmlCode)(`${t}-tb`,x,r,c,u,s,m,v,h),b=(0,e.getLinkHints)(t,R,m,g,r,f),{bounds:w,rotation:S}=(0,n.calculateTextboxContainerBounds)(y,R,v,r,c,h,l,s,i);return w.width===R.width&&w.height===R.height&&0===w.x&&0===w.y&&0===S&&0===b.length?R:(0,a.drawGroup)(`${t}-padding`,w.x,w.y,R.width,R.height,S,[R,...b])};e.clipRichTextBox=(t,e,i)=>{const o="Group"===t.type?t.rotation:0,n=0===o?t.width:t.height,r=0===o?t.height:t.width;if("rectangle"===e.shape&&n<=e.clipWidth&&r<=e.clipHeight)return t;switch(t.type){case"Group":return(0,a.drawGroup)(t.id+"-clipper",i,i,e.clipWidth,e.clipHeight,void 0,[Object.assign(Object.assign({},t),{x:t.x-i,y:t.y-i})],e.shape);case"WrappedTextBox":return Object.assign(Object.assign({},t),{clipArgs:e})}}},4927:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinkHintsFromWrappedText=void 0;const o=i(1481),a=i(5888),getLeftXFromAnchor=(t,e,i)=>"start"===t?e:"middle"===t?e-i/2:e-i,drawHyperlink=(t,e,i,o,n,r)=>{const s=(0,a.drawTextBox)({x:0,y:0,width:e.width,height:e.height},o,"left","top",1,i,void 0,!1),l=Object.assign(Object.assign({},s),{type:"WrappedTextBox",wrappedText:{anchor:"start",ascent:r.ascent,descent:r.descent,lineHeight:r.lineHeight,horizontalOverflow:!0,lines:[i],textX:0,textY:r.ascent,brokenWords:!1}});return(0,a.drawGroup)(t,e.x,e.y,e.width,e.height,0,[(0,a.drawRectangle)(0,0,e.width,e.height,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeWidth,[0,0],void 0,n.backgroundCornerRadius,0),l],void 0,void 0,void 0,void 0,void 0,void 0,!1)};e.getLinkHintsFromWrappedText=(t,e,i,n,r,s,l,c)=>{const d=(t=>{const e=new Map;for(let i=0;i<t.length;i++){const o=t[i],a=o.size();for(let t=0;t<a;t++)if(o.getFormat(t).href){e.set(i,o.cloneAsMeasuredTextItemCollection());break}}return e})(e.lines);if(0===d.size)return[];const h=[],u=new Map;let v=-1,g=0,f={hovers:[],idlers:[],href:""};for(const[i,a]of d){let l=getLeftXFromAnchor(e.anchor,e.textX,a.getTotalWidth());const c=i*e.lineHeight;for(let d=0;d<a.size();d++){const h=a.getFormat(d),y=h.href;if(y){y!==f.href&&(v++,g=0,f={hovers:[],idlers:[],href:y},u.set(v,f));const x=e.lineHeight+o.LINE_HEIGHT_CORRECTION[h.fontFamily],getLinkText=(t,e)=>{const i=t.cloneAsMeasuredTextItemCollection(),o=t.getFormat(0);return i.updateFormat(0,Object.assign(Object.assign({},h),{italic:e.italic||o.italic,underline:e.underline||o.underline,markTextColor:"inherit"===e.color?h.markTextColor:e.color})),i},m=getLinkText(a.subMeasuredTextItemCollection(d,d+1),n.idle),R=getLinkText(a.subMeasuredTextItemCollection(d,d+1),n.hover);a.updateFormat(d,Object.assign(Object.assign({},a.getFormat(d)),{markTextColor:"transparent"}));const b=i*o.LINE_HEIGHT_CORRECTION[h.fontFamily];f.idlers.push(drawHyperlink(`${t}-link-${v}-idle-${g}`,{x:l,y:c+b,width:m.getTotalWidth(),height:x},m,r,n.idle,e)),s&&f.hovers.push(drawHyperlink(`${t}-link-${v}-hover-${g}`,{x:l,y:c+b,width:R.getTotalWidth(),height:x},R,r,n.hover,e)),g++}l+=a.getWidth(d)}e.lines[i]=a}const y=i-l,x=e.lineHeight*e.lines.length;for(const[e,{hovers:i,href:o,idlers:n}]of u)h.push((0,a.drawGroup)(`${t}-link-${e}`,l,c,y,x,0,[(0,a.drawGroup)(`${t}-link-${e}-idle`,0,0,y,x,0,n,void 0,void 0,`link=${o}`,"idle",void 0,o,!0),(0,a.drawGroup)(`${t}-link-${e}-hover`,0,0,y,x,0,i,void 0,void 0,`link=${o}`,"hover",void 0,o,!0)]));return h}},181:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShapeWidgetBorder=void 0;const o=i(9787),a=i(6873),n=i(3488),r=i(18),s=i(3385),l=i(8183),c=i(9559),d=i(3836),h=i(6951),u=i(5888),v=new Set(["connector","summing_junction","or"]),g=new Set(["note_left","note_right","brace_right","brace_left"]),getHoverTextBox=(t,e,i,o,a)=>(0,u.drawTextBox)({width:t,height:e,x:0,y:0},23,"center",o,1,(0,h.formatText)({fontFamily:"proxima-nova",italic:!0,color:i},t>110?"Add text":"+"),void 0,void 0,void 0,void 0,a),drawText=(t,e,i,o,a,n,r,l,c)=>{var v,g,f,y;const x=(0,u.calculatePadding)(o.padding,i,a.fontSize),m=null!==(v=a.verticalAlign)&&void 0!==v?v:o.verticalAlign,R=null!==(g=null==c?void 0:c.x)&&void 0!==g?g:0,b=null!==(f=null==c?void 0:c.y)&&void 0!==f?f:0,w={x:R+x,y:b+x,width:e-2*x,height:i-2*x},S={id:t,clipWidth:e-2*x,clipHeight:i-2*x,shape:"Ellipse"===n.type?"ellipse":"rectangle"};return a.text||a.htmlText||r?(0,u.drawHint)(t,"text",a.htmlText?(0,s.clipRichTextBox)((0,s.drawRichTextBox)(t,w,a.fontSize,null!==(y=a.textAlign)&&void 0!==y?y:"center",m,a.fontFamily,a.htmlText,o.lineHeightMultiplier,a.color||"#000000",l,o.hyperlink,r),S,x):a.text?(0,u.drawTextBox)(w,a.fontSize,a.textAlign||"center",m,0,(({bold:t,color:e,italic:i,strike:o,underline:a,fontFamily:n,text:r})=>(0,h.formatHighlightableText)({bold:null!=t?t:void 0,color:null!=e?e:void 0,fontFamily:n,italic:null!=i?i:void 0,strike:null!=o?o:void 0,underline:null!=a?a:void 0},null!=r?r:""))(a),S,void 0,void 0,void 0,o.lineHeightMultiplier):((t,e,i,o,a,n,r,s)=>{const l=a/2-23+10;if(l<0)return;const c=o-12,h=`${t}-selected`;return(0,u.drawGroup)(h,e,i,o,a,0,[Object.assign(Object.assign({},n),{backgroundColor:"transparent",hitTest:0,strokeColor:"transparent"}),(0,d.drawHover)(`${h}-text`,6,l,c,23,[getHoverTextBox(c,23,"#B7B7B7",r,s),(0,d.drawHover)(`${h}-text-hover`,0,0,c,23,[getHoverTextBox(c,23,"#000000",r,s)])],"edit")],void 0,void 0,void 0,"selected")})(t,R,b,e,i,n,m,o.lineHeightMultiplier)||(0,u.drawRectangle)(0,0,0,0,"transparent","transparent",0)):u.noop};e.getShapeWidgetBorder=t=>t.properties.strokeSize/2;const firstLowerCase=(t="")=>`${t[0].toLowerCase()}${t.substring(1)}`,isSmart=t=>t in r.smartShapeTemplates;e.default=function renderShape(t,e,i,s){const d=t.properties.shapeType;return"Square"!==d&&"rectangle"!==d&&(t=>!!t&&("Square"===t||"Circle"===t||"rectangle"===t||"ellipse"===t||t in r.smartShapeTemplates||firstLowerCase(t)in o.svgShapes))(d)?"Circle"===d||"ellipse"===d?(({id:t,x:e,y:i,width:o,height:a,rotation:r,stackingOrder:s,properties:d},h,v,g)=>{const f=(0,u.drawEllipse)(0,0,o,a,d.background,d.strokeColor,d.strokeSize,(0,n.getStrokePattern)(d.strokeStyle,d.strokeSize,v.strokeOverrides));return(0,u.drawWidget)(t,d.parentId,e,i,o,a,r,s,[h?(0,l.drawHighlight)(`${t}-highlight`,f):u.noop,f,h?(0,l.drawHighlightContent)(`${t}-highlight-content`,f,o,a,v.contentHighlight.strokeColor,v.contentHighlight.backgroundColor):u.noop,h?(0,c.drawShapeOutline)(`${t}-outline`,f):u.noop,drawText(t,o,a,v,d,f,h,g)],void 0,void 0,void 0,d.strokeSize/2)})(t,e,i,s):d?(({id:t,x:e,y:i,width:s,height:d,rotation:h,stackingOrder:f,properties:y},x,m,R)=>{const{shapeType:b,strokeColor:w,strokeSize:S,strokeStyle:A,background:C}=y;let I,M,T,_,L;if(isSmart(b)){const t=new a.SmartShape(r.smartShapeTemplates[b],s,d);I=t.asStringPaths().join("");const e=t.getTextRect();T=e.width,_=e.height,L={x:e.x,y:e.y},M=void 0}else{const t=o.svgShapes[firstLowerCase(b)];I=t.svg,T=s,_=d,L=void 0,M={newSize:{width:s,height:d},originalSize:{width:t.width,height:t.height},clipBorder:S/2+1}}const O=S/2,P=(0,u.drawPath)(I,w,S,C,M,(0,n.getStrokePattern)(A,S,m.strokeOverrides),"butt",void 0,void 0,void 0,void 0,{bounds:{minX:-O,minY:-O,maxX:s+O,maxY:d+O},pointsCount:1});return(0,u.drawWidget)(t,y.parentId,e,i,s,d,h,f,[x?(0,l.drawPathHighlight)(`${t}-highlight`,P,s,d):u.noop,P,x?(0,l.drawPathHighlightContent)(`${t}-highlight-content`,P,s,d,m.contentHighlight.strokeColor,m.contentHighlight.backgroundColor):u.noop,x?(0,c.drawShapeOutlineWithBounds)(`${t}-outline`,s,d,[P],!1):u.noop,isSmart(b)&&v.has(b)?u.noop:drawText(t,T,_,m,y,isSmart(b)&&g.has(b)?(0,u.drawRectangle)(0,0,s,d,"transparent","transparent",0):P,x,R,L)],void 0,void 0,void 0,S/2)})(t,e,i,s):void 0:(({id:t,x:e,y:i,width:o,height:a,rotation:r,stackingOrder:s,properties:d},h,v,g)=>{const f=(0,u.drawRectangle)(0,0,o,a,d.background,d.strokeColor,d.strokeSize,(0,n.getStrokePattern)(d.strokeStyle,d.strokeSize,v.strokeOverrides));return(0,u.drawWidget)(t,d.parentId,e,i,o,a,r,s,[h?(0,l.drawHighlight)(`${t}-highlight`,f):u.noop,f,h?(0,l.drawHighlightContent)(`${t}-highlight-content`,f,o,a,v.contentHighlight.strokeColor,v.contentHighlight.backgroundColor):u.noop,h?(0,c.drawShapeOutline)(`${t}-outline`,f):u.noop,drawText(t,o,a,v,d,f,h,g)],void 0,void 0,void 0,d.strokeSize/2)})(t,e,i,s)}},3042:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(42),a=i(5888),n=i(3836),r=i(5577);e.default=(t,e,i,s)=>(0,n.drawHover)(t,e,i,o.ICON_PATHS.edit.width,o.ICON_PATHS.edit.width,[r.EDIT_ICON,(0,n.drawHover)(`${t}-hover`,0,0,o.ICON_PATHS.editHover.width,o.ICON_PATHS.editHover.width,[(0,a.drawImage)({x:0,y:0,height:o.ICON_PATHS.editHover.width,width:o.ICON_PATHS.editHover.width},{url:o.ICON_PATHS.editHover.source,dataUrl:o.ICON_PATHS.editHover.source,hint:"image",widgetContext:{ownerId:t,renderInternalModule:"edit-button"}},{centerX:!0,centerY:!0})])],s)},5577:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDIT_ICON=e.drawSourceIcon=e.drawExternalIcon=void 0;const o=i(42),a=i(5888);e.drawExternalIcon=(t,e,i,o)=>(0,a.drawGroup)(t,e,i,o.width,o.width,void 0,[(0,a.drawImage)({x:0,y:0,width:o.width,height:o.width},{url:"",dataUrl:o.source,widgetContext:void 0},void 0,"transparent",void 0,void 0,"high")]);e.drawSourceIcon=(t,e,i,o,n,r)=>(0,a.drawGroup)(t,e,i,o.width,n,void 0,["path"===o.type?(0,a.drawPath)(o.source,r,0,r):(0,a.drawImage)({x:0,y:0,height:o.width,width:o.width},{url:o.source,dataUrl:o.source,hint:"image",widgetContext:void 0},{centerX:!0,centerY:!0},void 0,void 0,void 0,"high")],void 0,o.actionScale),e.EDIT_ICON=(0,a.drawImage)({x:0,y:0,height:o.ICON_PATHS.edit.width,width:o.ICON_PATHS.edit.width},{url:o.ICON_PATHS.edit.source,dataUrl:o.ICON_PATHS.edit.source,hint:"image",widgetContext:void 0},{centerX:!0,centerY:!0},void 0,void 0,void 0,"high")},6861:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawActionButton=void 0;const o=i(5597),a=i(42),n=i(6951),r=i(5888),s=i(3836),l=i(5577);function translateActionButtonAnimationStyleToAnimation(t){return{"alpha-in":t.in,"alpha-out":t.out}}const drawButton=(t,e,i,s,{paddingHorizontal:c,paddingVertical:d,height:h,small:u,fontSize:v,bold:g,externalIconOffsetVertical:f,textOffsetVertical:y,sourceIconOffsetVertical:x,borderThickness:m,cornerRadius:R},{backgroundColor:b,borderColor:w,textColor:S,externalIcon:A},C,I,M)=>{const T=s>0,_=M?T?(0,l.drawExternalIcon)(`${t}-external-icon`,e-2*c-a.ICON_PATHS.export.width,d+f,A):(0,l.drawExternalIcon)(`${t}-external-icon`,u.paddingHorizontal,u.paddingVertical,A):r.noop;return[(0,r.drawRectangle)(0,0,T?e:u.width,T?h:u.height,b,w,m,o.SOLID_STROKE_PATTERN,void 0,R,0),T?(0,r.drawTextBox)({x:i,y:d+y,height:h-2*d,width:s},v,"left","top",1,(0,n.formatText)({fontFamily:"proxima-nova",color:S,bold:g},C)):r.noop,I?(0,l.drawSourceIcon)(t,c+2,d+x,I,h-2*d,S):r.noop,_]};e.drawActionButton=(t,e,i,o,n,l,c,{buttonWidthIncludesIcons:d=!0,onlyDrawOnHover:h=!0,showIconRight:u=!0,source:v}={},g="right",f)=>{const y=v?a.ICON_PATHS[v]:null,x=y?y.width+4:0,m=u?a.ICON_PATHS.export.width+4+2*c.paddingHorizontal:c.paddingHorizontal,R=x+2*c.textMarginHorizontal+m,b=d?n-R:n,w="right"===g?b>0?-(c.marginHorizontal+c.paddingHorizontal+c.textMarginHorizontal-1.5):-c.marginHorizontal:0,S=n+(d?0:R),A=S-w<e?S:c.small.width,C=A>=S?b:0,I=A>=S?o:"",M=Math.max("right"===g?e-A+w:(e-A)/2,0),T=i-c.height-c.marginVertical,_=c.paddingHorizontal+x+c.textMarginHorizontal,L=f?((t,e,i,o,n,r,l,c)=>{const d=r?a.ICON_PATHS_HOVER[r]:null;return(0,s.drawHover)(t,0,0,e,c.height,drawButton(`${t}-button-hover`,e,i,o,c,c.hover,n,d,l),void 0,translateActionButtonAnimationStyleToAnimation(c.animation.hover))})(`${t}-hover`,A+c.paddingHorizontal,_,C,I,v,u,c):r.noop;return(0,r.drawGroup)(t,M,T,A+c.paddingHorizontal,c.height,0,[...drawButton(`${t}-button`,A+c.paddingHorizontal,_,C,c,c.idle,I,y,u),L],void 0,void 0,l,h?"hover":void 0,translateActionButtonAnimationStyleToAnimation(c.animation.enter))}},3381:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidLocalOrRemoteURL=void 0;const o=i(6861),a="Go to >";e.isValidLocalOrRemoteURL=t=>{if(t.startsWith("/"))return!0;try{return new URL(t),!0}catch(t){return!1}};e.default=(t,i,n,r,s,l,c,d,h,u,v,g,f,y,x=!1)=>{const m=(t=>t?(0,e.isValidLocalOrRemoteURL)(t)?t:"":t)(l),{isInternal:R,title:b,source:w,isSmall:S}=((t,e,i,o,n,r,s,l)=>{if(!i||i.startsWith("/"))return{isInternal:!!i,source:n,title:s?"View":"Open"};const{pathname:c,hostname:d,search:h}=new URL(i),u=!!t&&c.includes(t.replace(".","/"))&&!!h,v=d.endsWith("mural.co")||"localhost"===d;return{isInternal:u,source:v?u?"mural-content":"mural":n,title:u?e>=60?a:">":v?"Open mural":r&&!l?"Open":o||"Open link",isSmall:u&&e<60}})(s,n,m,c,d,h,"view"===g,x),A=t.measureText(y.bold?"proxima-nova-bold":"proxima-nova",y.fontSize,b),C=!R||m.startsWith("/"),I=R&&!C?t.measureText(y.bold?"proxima-nova-bold":"proxima-nova",y.fontSize,S?">":a):A<=n?A:0;return(0,o.drawActionButton)(i,n,r,b,I,g,y,{source:w,onlyDrawOnHover:u,showIconRight:C,buttonWidthIncludesIcons:!1},v,f)}},2584:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawDragOver=void 0;const o=i(5597),a=i(3488),n=i(5888);e.drawDragOver=(t,e,i,r)=>{const s=r/2;return(0,n.drawGroup)(t,0,0,e,i,0,[(0,n.drawRectangle)(0,0,e,i,"rgba(28, 126, 249, 0.2)",o.transparent,0),(0,n.drawRectangle)(s,s,e-2*s,i-2*s,o.transparent,"#1c7ef9",r,(0,a.getStrokePatternClassic)("-",r))],void 0,void 0,void 0,"drag-over")}},8183:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawPathHighlightContent=e.drawHighlightContent=e.drawPathHighlight=e.drawHighlight=void 0;const o=i(5888),a=i(220);e.drawHighlight=(t,e)=>(0,a.drawClassicDragShadow)(t,e,"highlight");e.drawPathHighlight=(t,e,i,o)=>(0,a.drawPathShadow)(t,e,i,o,"highlight");e.drawHighlightContent=(t,e,i,a,n,r)=>(0,o.drawGroup)(t,0,0,i,a,0,[Object.assign(Object.assign({},e),{strokeWidth:e.strokeWidth||1,strokeColor:n,backgroundColor:r})],void 0,void 0,void 0,"highlight-content");e.drawPathHighlightContent=(t,e,i,a,n,r)=>(0,o.drawGroup)(t,0,0,i,a,0,[Object.assign(Object.assign({},e),{strokeWidth:e.strokeWidth||1,strokeColor:n,backgroundColor:r})],void 0,void 0,void 0,"highlight-content")},9559:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawShapeOutline=e.drawShapeOutlineWithBounds=void 0;const o=i(5597),a=i(5888),n=i(3836),r="#1C7EF9",outline=(t,e,i)=>{switch(i.type){case"Ellipse":case"Rectangle":return Object.assign(Object.assign({},i),{strokeColor:r,backgroundColor:o.transparent});case"Line":return Object.assign(Object.assign({},i),{strokeColor:r});case"Path":return Object.assign(Object.assign({},i),{backgroundColor:e&&void 0!==i.backgroundColor&&!(0,o.isTransparent)(i.backgroundColor)?r:void 0,strokeColor:r});case"Group":return Object.assign(Object.assign({},i),{id:`${t}-${i.id}`,children:i.children.map((i=>outline(t,e,i)))});default:return i}};e.drawShapeOutlineWithBounds=(t,e,i,o,n=!1)=>(0,a.drawGroup)(t,0,0,e,i,void 0,o.map((e=>outline(t,n,e))),void 0,void 0,void 0,"dragging-visual-feedback");e.drawShapeOutline=(t,e)=>(0,n.drawState)(t,"dragging-visual-feedback",outline(t,!1,e))},220:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawPathShadow=e.drawShadow=e.drawClassicDragShadow=void 0;const o=i(5597),a=i(5888),n=i(3836);e.drawClassicDragShadow=(t,e,i="dragging-visual-feedback")=>(0,n.drawState)(t,i,Object.assign(Object.assign({},e),{shadow:1}));e.drawShadow=(t,i,n,r)=>{if(r.alwaysVisible){if(!(0,o.isColorTranslucent)(i.backgroundColor))return((t,e,i)=>{const o=i.cornerRadius&&"Rectangle"===e.type?Object.assign(Object.assign({},e),{cornerRadius:i.cornerRadius}):e,{easeInDelay:n,easeOutDelay:r,easeInSeconds:s,easeOutSeconds:l}=i.whileDragging.animate,c={"drag-begin":{delay:n,duration:s},"drag-end":{delay:r,duration:l}},d=Object.assign(Object.assign({},o),{shadow:2,x:0,y:0,strokeWidth:0,shadowStyle:i}),h=(0,a.drawGroup)(t+"-offset",0,0,e.width,e.height,0,[d],void 0,void 0,void 0,void 0,c);return(0,a.drawGroup)(t,e.x,e.y,e.width,e.height,0,[h])})(t,i,r)}else if(n)return(0,e.drawClassicDragShadow)(t,i);return a.noop};e.drawPathShadow=(t,e,i,n,r="dragging-visual-feedback")=>(0,a.drawGroup)(t,0,0,i,n,0,[Object.assign(Object.assign({},e),{backgroundColor:o.transparent,shadow:1})],void 0,void 0,void 0,r)},3836:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawState=e.drawHover=void 0;const o=i(5888);e.drawHover=(t,e,i,a,n,r,s,l)=>(0,o.drawGroup)(t,e,i,a,n,0,r,void 0,void 0,s,"hover",l);e.drawState=(t,e,i)=>(0,o.drawGroup)(t,i.x,i.y,i.width,i.height,0,[Object.assign(Object.assign({},i),{x:0,y:0})],void 0,void 0,void 0,e)},9276:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(5597),a=i(5888);e.default=(0,a.drawGroup)("photo-private",0,0,230,210,0,[(0,a.drawRectangle)(0,0,230,210,"#ffffff","transparent",0),(0,a.drawPath)("M146.5,54.5c0-1.4-1.1-2.5-2.5-2.5c-1.4,0-2.5,1.1-2.5,2.5v1.9h5.1V54.5z",o.transparent,0,"#B7B7B7"),(0,a.drawPath)("M156,58c0-6.6-5.4-12-12-12c-4.4,0-8.3,2.4-10.4,6H85.8c-3.2,0-5.8,2.6-5.8,5.8v46.7c0,3.2,2.6,5.8,5.8,5.8h58.3c3.2,0,5.8-2.6,5.8-5.8V68.4C153.6,66.3,156,62.4,156,58z M138.3,57.3c0-0.5,0.4-1,1-1h0.3v-1.9c0-2.4,2-4.5,4.5-4.5c2.4,0,4.5,2,4.5,4.5v1.9h0.3c0.5,0,1,0.4,1,1V63c0,0.5-0.4,1-1,1h-9.5c-0.5,0-1-0.4-1-1V57.3z M147.1,104.5c0,1.5-1.2,2.8-2.7,2.9l-23.7-22.9l-12.5,11.6L94.5,81.2L82.9,96.1V57.8c0-1.6,1.3-2.9,2.9-2.9h46.6c-0.3,1-0.4,2-0.4,3.1c0,6.6,5.4,12,12,12c1.1,0,2.1-0.2,3.1-0.4V104.5z",o.transparent,0,"#B7B7B7"),(0,a.drawPath)("M48.3,138.3v-4l-3.7-5.4H46l2.9,4.3l2.9-4.3h1.4l-3.7,5.4v4H48.3z",o.transparent,0,"#888888"),(0,a.drawPath)("M52.2,134.9c0-2,1.3-3.5,3.3-3.5s3.3,1.6,3.3,3.5s-1.3,3.6-3.3,3.6S52.2,136.9,52.2,134.9zM57.8,134.9c0-1.4-0.8-2.6-2.2-2.6c-1.4,0-2.3,1.2-2.3,2.6c0,1.4,0.8,2.6,2.3,2.6C57,137.6,57.8,136.3,57.8,134.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M65.1,138.3v-1c-0.5,0.6-1.4,1.1-2.4,1.1c-1.4,0-2.2-0.7-2.2-2.2v-4.8h1.1v4.5c0,1.2,0.6,1.5,1.5,1.5c0.8,0,1.6-0.5,2-1v-5h1.1v6.8H65.1z",o.transparent,0,"#888888"),(0,a.drawPath)("M71.5,134.9c0-2,1.4-3.5,3.4-3.5c1.2,0,2,0.5,2.5,1.2l-0.7,0.6c-0.4-0.6-1-0.9-1.7-0.9c-1.4,0-2.3,1.1-2.3,2.6c0,1.5,0.9,2.6,2.3,2.6c0.7,0,1.3-0.3,1.7-0.9l0.7,0.6c-0.5,0.7-1.2,1.2-2.5,1.2C72.9,138.5,71.5,137,71.5,134.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M83.1,138.3v-0.8c-0.6,0.6-1.3,0.9-2.2,0.9c-1.1,0-2.4-0.8-2.4-2.2c0-1.5,1.2-2.2,2.4-2.2c0.9,0,1.7,0.3,2.2,0.9v-1.2c0-0.9-0.7-1.4-1.7-1.4c-0.8,0-1.5,0.3-2.1,0.9l-0.5-0.7c0.7-0.8,1.6-1.1,2.7-1.1c1.4,0,2.6,0.6,2.6,2.3v4.7H83.1z M83.1,136.9v-1.3c-0.4-0.6-1.1-0.8-1.9-0.8c-1,0-1.7,0.6-1.7,1.5c0,0.9,0.7,1.5,1.7,1.5C81.9,137.7,82.7,137.5,83.1,136.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M90.8,138.3v-4.4c0-1.2-0.6-1.6-1.5-1.6c-0.8,0-1.6,0.5-2,1.1v4.9h-1.1v-6.8h1.1v1c0.5-0.6,1.4-1.1,2.4-1.1c1.4,0,2.2,0.7,2.2,2.2v4.7H90.8z",o.transparent,0,"#888888"),(0,a.drawPath)("M93.9,132.6c0,0-0.4-2.9-0.4-3.1c0-0.3,0.3-0.6,0.6-0.6c0.4,0,0.6,0.3,0.6,0.6c0,0.2-0.4,3.1-0.4,3.1H93.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M96.8,136.9v-4.4h-1.1v-0.9h1.1v-1.8h1.1v1.8h1.4v0.9h-1.4v4.2c0,0.5,0.2,0.9,0.7,0.9c0.3,0,0.6-0.1,0.7-0.3l0.3,0.8c-0.3,0.3-0.6,0.4-1.3,0.4C97.3,138.5,96.8,137.9,96.8,136.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M103.8,137.4l0.5-0.8c0.4,0.5,1.3,1,2.2,1c1,0,1.6-0.5,1.6-1.2c0-1.6-4.2-0.6-4.2-3.1c0-1,0.9-1.9,2.5-1.9c1.1,0,2,0.4,2.5,1l-0.5,0.7c-0.4-0.5-1.1-0.9-2-0.9c-0.9,0-1.5,0.5-1.5,1.1c0,1.5,4.2,0.5,4.2,3.1c0,1.1-0.9,2-2.7,2C105.4,138.5,104.5,138.2,103.8,137.4z",o.transparent,0,"#888888"),(0,a.drawPath)("M110.5,134.9c0-2,1.4-3.5,3.3-3.5c2,0,3.2,1.6,3.2,3.6v0.3h-5.5c0.1,1.3,1,2.3,2.4,2.3c0.8,0,1.6-0.3,2.1-0.9l0.5,0.7c-0.7,0.7-1.6,1-2.7,1C111.9,138.5,110.5,137.1,110.5,134.9z M113.8,132.3c-1.4,0-2.2,1.2-2.2,2.3h4.4C116,133.5,115.3,132.3,113.8,132.3z",o.transparent,0,"#888888"),(0,a.drawPath)("M118.4,134.9c0-2,1.4-3.5,3.3-3.5c2,0,3.2,1.6,3.2,3.6v0.3h-5.5c0.1,1.3,1,2.3,2.4,2.3c0.8,0,1.6-0.3,2.1-0.9l0.5,0.7c-0.7,0.7-1.6,1-2.7,1C119.8,138.5,118.4,137.1,118.4,134.9z M121.7,132.3c-1.4,0-2.2,1.2-2.2,2.3h4.4C123.9,133.5,123.2,132.3,121.7,132.3z",o.transparent,0,"#888888"),(0,a.drawPath)("M130.5,136.9v-4.4h-1.1v-0.9h1.1v-1.8h1v1.8h1.4v0.9h-1.4v4.2c0,0.5,0.2,0.9,0.7,0.9c0.3,0,0.6-0.1,0.7-0.3l0.3,0.8c-0.3,0.3-0.6,0.4-1.3,0.4C131,138.5,130.5,137.9,130.5,136.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M138.9,138.3v-4.5c0-1.2-0.6-1.5-1.5-1.5c-0.8,0-1.6,0.5-2,1.1v4.9h-1V129h1v3.6c0.5-0.6,1.4-1.1,2.4-1.1c1.4,0,2.2,0.7,2.2,2.2v4.8H138.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M141.9,129.9c0-0.4,0.3-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7C142.2,130.6,141.9,130.3,141.9,129.9z M142.1,138.3v-6.8h1.1v6.8H142.1z",o.transparent,0,"#888888"),(0,a.drawPath)("M144.6,137.4l0.5-0.8c0.4,0.5,1.3,1,2.2,1c1,0,1.6-0.5,1.6-1.2c0-1.6-4.2-0.6-4.2-3.1c0-1,0.9-1.9,2.5-1.9c1.1,0,2,0.4,2.5,1l-0.5,0.7c-0.4-0.5-1.1-0.9-2-0.9c-0.9,0-1.5,0.5-1.5,1.1c0,1.5,4.2,0.5,4.2,3.1c0,1.1-0.9,2-2.7,2C146.3,138.5,145.3,138.2,144.6,137.4z",o.transparent,0,"#888888"),(0,a.drawPath)("M155.2,129.9c0-0.4,0.3-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7C155.5,130.6,155.2,130.3,155.2,129.9z M155.4,138.3v-6.8h1.1v6.8H155.4z",o.transparent,0,"#888888"),(0,a.drawPath)("M166.7,138.3v-4.6c0-0.9-0.4-1.4-1.2-1.4c-0.7,0-1.4,0.5-1.8,1v5h-1.1v-4.6c0-0.9-0.4-1.4-1.2-1.4c-0.7,0-1.4,0.5-1.8,1.1v4.9h-1.1v-6.8h1.1v1c0.3-0.4,1.2-1.1,2.2-1.1c1,0,1.6,0.6,1.8,1.3c0.4-0.6,1.3-1.3,2.3-1.3c1.2,0,1.9,0.7,1.9,2v4.9H166.7z",o.transparent,0,"#888888"),(0,a.drawPath)("M174,138.3v-0.8c-0.6,0.6-1.3,0.9-2.2,0.9c-1.1,0-2.4-0.8-2.4-2.2c0-1.5,1.2-2.2,2.4-2.2c0.9,0,1.7,0.3,2.2,0.9v-1.2c0-0.9-0.7-1.4-1.7-1.4c-0.8,0-1.5,0.3-2.1,0.9l-0.5-0.7c0.7-0.8,1.6-1.1,2.7-1.1c1.4,0,2.6,0.6,2.6,2.3v4.7H174z M174,136.9v-1.3c-0.4-0.6-1.1-0.8-1.9-0.8c-1,0-1.7,0.6-1.7,1.5c0,0.9,0.7,1.5,1.7,1.5C172.9,137.7,173.6,137.5,174,136.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M177.2,140.1l0.5-0.8c0.6,0.7,1.2,0.9,2.2,0.9c1.1,0,2.2-0.5,2.2-2v-1c-0.5,0.7-1.3,1.2-2.3,1.2c-1.8,0-3-1.3-3-3.5c0-2.2,1.2-3.5,3-3.5c0.9,0,1.7,0.4,2.3,1.2v-1h1.1v6.6c0,2.2-1.6,2.9-3.2,2.9C178.8,141.1,178,140.8,177.2,140.1z M182.1,136.4v-3c-0.4-0.6-1.2-1.1-2-1.1c-1.4,0-2.2,1.1-2.2,2.6c0,1.5,0.8,2.6,2.2,2.6C180.9,137.5,181.7,137,182.1,136.4z",o.transparent,0,"#888888"),(0,a.drawPath)("M184.8,134.9c0-2,1.4-3.5,3.3-3.5c2,0,3.2,1.6,3.2,3.6v0.3h-5.5c0.1,1.3,1,2.3,2.4,2.3c0.8,0,1.6-0.3,2.1-0.9l0.5,0.7c-0.7,0.7-1.6,1-2.7,1C186.3,138.5,184.8,137.1,184.8,134.9z M188.2,132.3c-1.4,0-2.2,1.2-2.2,2.3h4.4C190.4,133.5,189.7,132.3,188.2,132.3z",o.transparent,0,"#888888"),(0,a.drawPath)("M65.6,155.3V146h1.1v3.6c0.5-0.7,1.4-1.2,2.3-1.2c1.8,0,3,1.4,3,3.6c0,2.2-1.2,3.5-3,3.5c-1,0-1.8-0.5-2.3-1.2v1H65.6z M68.7,154.6c1.4,0,2.2-1.1,2.2-2.6c0-1.5-0.8-2.6-2.2-2.6c-0.8,0-1.7,0.5-2,1.1v3.1C67,154.1,67.9,154.6,68.7,154.6z",o.transparent,0,"#888888"),(0,a.drawPath)("M73.3,151.9c0-2,1.4-3.5,3.3-3.5c2,0,3.2,1.6,3.2,3.6v0.3h-5.5c0.1,1.3,1,2.3,2.4,2.3c0.8,0,1.6-0.3,2.1-0.9l0.5,0.7c-0.7,0.7-1.6,1-2.7,1C74.7,155.5,73.3,154.1,73.3,151.9z M76.6,149.3c-1.4,0-2.2,1.2-2.2,2.3h4.4C78.8,150.5,78.1,149.3,76.6,149.3z",o.transparent,0,"#888888"),(0,a.drawPath)("M81.2,151.9c0-2,1.4-3.5,3.4-3.5c1.2,0,2,0.5,2.5,1.2l-0.7,0.6c-0.4-0.6-1-0.9-1.7-0.9c-1.4,0-2.3,1.1-2.3,2.6c0,1.5,0.9,2.6,2.3,2.6c0.7,0,1.3-0.3,1.7-0.9l0.7,0.6c-0.5,0.7-1.2,1.2-2.5,1.2C82.5,155.5,81.2,154,81.2,151.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M92.7,155.3v-0.8c-0.6,0.6-1.3,0.9-2.2,0.9c-1.1,0-2.4-0.8-2.4-2.2c0-1.5,1.2-2.2,2.4-2.2c0.9,0,1.7,0.3,2.2,0.9v-1.2c0-0.9-0.7-1.4-1.7-1.4c-0.8,0-1.5,0.3-2.1,0.9l-0.5-0.7c0.7-0.8,1.6-1.1,2.7-1.1c1.4,0,2.6,0.6,2.6,2.3v4.7H92.7z M92.7,153.9v-1.3c-0.4-0.6-1.1-0.8-1.9-0.8c-1,0-1.7,0.6-1.7,1.5c0,0.9,0.7,1.5,1.7,1.5C91.6,154.7,92.3,154.5,92.7,153.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M100.4,155.3v-1c-0.5,0.6-1.4,1.1-2.4,1.1c-1.4,0-2.2-0.7-2.2-2.2v-4.8h1.1v4.5c0,1.2,0.6,1.5,1.5,1.5c0.8,0,1.6-0.5,2-1v-5h1.1v6.8H100.4z",o.transparent,0,"#888888"),(0,a.drawPath)("M103,154.4l0.5-0.8c0.4,0.5,1.3,1,2.2,1c1,0,1.6-0.5,1.6-1.2c0-1.6-4.2-0.6-4.2-3.1c0-1,0.9-1.9,2.5-1.9c1.1,0,2,0.4,2.5,1l-0.5,0.7c-0.4-0.5-1.1-0.9-2-0.9c-0.9,0-1.5,0.5-1.5,1.1c0,1.5,4.2,0.5,4.2,3.1c0,1.1-0.9,2-2.7,2C104.6,155.5,103.7,155.2,103,154.4z",o.transparent,0,"#888888"),(0,a.drawPath)("M109.7,151.9c0-2,1.4-3.5,3.3-3.5c2,0,3.2,1.6,3.2,3.6v0.3h-5.5c0.1,1.3,1,2.3,2.4,2.3c0.8,0,1.6-0.3,2.1-0.9l0.5,0.7c-0.7,0.7-1.6,1-2.7,1C111.1,155.5,109.7,154.1,109.7,151.9z M113,149.3c-1.4,0-2.2,1.2-2.2,2.3h4.4C115.2,150.5,114.5,149.3,113,149.3z",o.transparent,0,"#888888"),(0,a.drawPath)("M121.4,146.9c0-0.4,0.3-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7C121.7,147.6,121.4,147.3,121.4,146.9z M121.6,155.3v-6.8h1v6.8H121.6z",o.transparent,0,"#888888"),(0,a.drawPath)("M124.9,153.9v-4.4h-1.1v-0.9h1.1v-1.8h1v1.8h1.4v0.9H126v4.2c0,0.5,0.2,0.9,0.7,0.9c0.3,0,0.6-0.1,0.7-0.3l0.3,0.8c-0.3,0.3-0.6,0.4-1.3,0.4C125.4,155.5,124.9,154.9,124.9,153.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M132.1,151.9c0-2,1.4-3.5,3.4-3.5c1.2,0,2,0.5,2.5,1.2l-0.7,0.6c-0.4-0.6-1-0.9-1.7-0.9c-1.4,0-2.3,1.1-2.3,2.6c0,1.5,0.9,2.6,2.3,2.6c0.7,0,1.3-0.3,1.7-0.9l0.7,0.6c-0.5,0.7-1.2,1.2-2.5,1.2C133.4,155.5,132.1,154,132.1,151.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M139,151.9c0-2,1.3-3.5,3.3-3.5s3.3,1.6,3.3,3.5s-1.3,3.6-3.3,3.6S139,153.9,139,151.9zM144.6,151.9c0-1.4-0.8-2.6-2.2-2.6s-2.3,1.2-2.3,2.6c0,1.4,0.8,2.6,2.3,2.6S144.6,153.3,144.6,151.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M155.6,155.3v-4.6c0-0.9-0.4-1.4-1.2-1.4c-0.7,0-1.4,0.5-1.8,1v5h-1.1v-4.6c0-0.9-0.4-1.4-1.2-1.4c-0.7,0-1.4,0.5-1.8,1.1v4.9h-1.1v-6.8h1.1v1c0.3-0.4,1.2-1.1,2.2-1.1c1,0,1.6,0.6,1.8,1.3c0.4-0.6,1.3-1.3,2.3-1.3c1.2,0,1.9,0.7,1.9,2v4.9H155.6z",o.transparent,0,"#888888"),(0,a.drawPath)("M158.3,151.9c0-2,1.4-3.5,3.3-3.5c2,0,3.2,1.6,3.2,3.6v0.3h-5.5c0.1,1.3,1,2.3,2.4,2.3c0.8,0,1.6-0.3,2.1-0.9l0.5,0.7c-0.7,0.7-1.6,1-2.7,1C159.7,155.5,158.3,154.1,158.3,151.9z M161.6,149.3c-1.4,0-2.2,1.2-2.2,2.3h4.4C163.8,150.5,163.2,149.3,161.6,149.3z",o.transparent,0,"#888888"),(0,a.drawPath)("M166,154.4l0.5-0.8c0.4,0.5,1.3,1,2.2,1c1,0,1.6-0.5,1.6-1.2c0-1.6-4.2-0.6-4.2-3.1c0-1,0.9-1.9,2.5-1.9c1.1,0,2,0.4,2.5,1l-0.5,0.7c-0.4-0.5-1.1-0.9-2-0.9c-0.9,0-1.5,0.5-1.5,1.1c0,1.5,4.2,0.5,4.2,3.1c0,1.1-0.9,2-2.7,2C167.6,155.5,166.7,155.2,166,154.4z",o.transparent,0,"#888888"),(0,a.drawPath)("M53.2,172.3v-5.8h-1.1v-0.9h1.1V165c0-1.4,0.8-2.2,2-2.2c0.5,0,1,0.1,1.4,0.5l-0.4,0.7c-0.2-0.2-0.5-0.3-0.8-0.3c-0.7,0-1.1,0.5-1.1,1.3v0.5h1.4v0.9h-1.4v5.8H53.2z",o.transparent,0,"#888888"),(0,a.drawPath)("M56.9,172.3v-6.8h1.1v1.1c0.5-0.7,1.3-1.2,2.3-1.2v1.1c-0.1,0-0.3,0-0.4,0c-0.6,0-1.5,0.5-1.8,1.1v4.8H56.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M61.1,168.9c0-2,1.3-3.5,3.3-3.5s3.3,1.6,3.3,3.5s-1.3,3.6-3.3,3.6S61.1,170.9,61.1,168.9z M66.7,168.9c0-1.4-0.8-2.6-2.2-2.6c-1.4,0-2.3,1.2-2.3,2.6c0,1.4,0.8,2.6,2.3,2.6C65.9,171.6,66.7,170.3,66.7,168.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M77.6,172.3v-4.6c0-0.9-0.4-1.4-1.2-1.4c-0.7,0-1.4,0.5-1.8,1v5h-1.1v-4.6c0-0.9-0.4-1.4-1.2-1.4c-0.7,0-1.4,0.5-1.8,1.1v4.9h-1.1v-6.8h1.1v1c0.3-0.4,1.2-1.1,2.2-1.1c1,0,1.6,0.6,1.8,1.3c0.4-0.6,1.3-1.3,2.3-1.3c1.2,0,1.9,0.7,1.9,2v4.9H77.6z",o.transparent,0,"#888888"),(0,a.drawPath)("M88.6,172.3v-0.8c-0.6,0.6-1.3,0.9-2.2,0.9c-1.1,0-2.4-0.8-2.4-2.2c0-1.5,1.2-2.2,2.4-2.2c0.9,0,1.7,0.3,2.2,0.9v-1.2c0-0.9-0.7-1.4-1.7-1.4c-0.8,0-1.5,0.3-2.1,0.9l-0.5-0.7c0.7-0.8,1.6-1.1,2.7-1.1c1.4,0,2.6,0.6,2.6,2.3v4.7H88.6z M88.6,170.9v-1.3c-0.4-0.6-1.1-0.8-1.9-0.8c-1,0-1.7,0.6-1.7,1.5c0,0.9,0.7,1.5,1.7,1.5C87.5,171.7,88.2,171.5,88.6,170.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M96.4,171.3v3.6h-1.1v-9.3h1.1v1c0.5-0.7,1.3-1.2,2.3-1.2c1.8,0,3,1.3,3,3.5c0,2.2-1.2,3.6-3,3.6C97.8,172.5,97,172.1,96.4,171.3z M100.6,168.9c0-1.5-0.8-2.6-2.2-2.6c-0.8,0-1.7,0.5-2,1.1v3.1c0.4,0.6,1.2,1.1,2,1.1C99.8,171.6,100.6,170.4,100.6,168.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M103.4,172.3v-6.8h1.1v1.1c0.5-0.7,1.3-1.2,2.3-1.2v1.1c-0.1,0-0.3,0-0.4,0c-0.6,0-1.5,0.5-1.8,1.1v4.8H103.4z",o.transparent,0,"#888888"),(0,a.drawPath)("M107.8,163.9c0-0.4,0.3-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7C108.2,164.6,107.8,164.3,107.8,163.9z M108,172.3v-6.8h1.1v6.8H108z",o.transparent,0,"#888888"),(0,a.drawPath)("M113,172.3l-2.8-6.8h1.1l2.3,5.5l2.2-5.5h1.1l-2.8,6.8H113z",o.transparent,0,"#888888"),(0,a.drawPath)("M122.3,172.3v-0.8c-0.6,0.6-1.3,0.9-2.2,0.9c-1.1,0-2.4-0.8-2.4-2.2c0-1.5,1.2-2.2,2.4-2.2c0.9,0,1.7,0.3,2.2,0.9v-1.2c0-0.9-0.7-1.4-1.7-1.4c-0.8,0-1.5,0.3-2.1,0.9l-0.5-0.7c0.7-0.8,1.6-1.1,2.7-1.1c1.4,0,2.6,0.6,2.6,2.3v4.7H122.3z M122.3,170.9v-1.3c-0.4-0.6-1.1-0.8-1.9-0.8c-1,0-1.7,0.6-1.7,1.5c0,0.9,0.7,1.5,1.7,1.5C121.1,171.7,121.9,171.5,122.3,170.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M125.6,170.9v-4.4h-1.1v-0.9h1.1v-1.8h1v1.8h1.4v0.9h-1.4v4.2c0,0.5,0.2,0.9,0.7,0.9c0.3,0,0.6-0.1,0.7-0.3l0.3,0.8c-0.3,0.3-0.6,0.4-1.3,0.4C126.1,172.5,125.6,171.9,125.6,170.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M129.1,168.9c0-2,1.4-3.5,3.3-3.5c2,0,3.2,1.6,3.2,3.6v0.3h-5.5c0.1,1.3,1,2.3,2.4,2.3c0.8,0,1.6-0.3,2.1-0.9l0.5,0.7c-0.7,0.7-1.6,1-2.7,1C130.6,172.5,129.1,171.1,129.1,168.9z M132.5,166.3c-1.4,0-2.2,1.2-2.2,2.3h4.4C134.7,167.5,134,166.3,132.5,166.3z",o.transparent,0,"#888888"),(0,a.drawPath)("M140.4,171.4l0.5-0.8c0.4,0.5,1.3,1,2.2,1c1,0,1.6-0.5,1.6-1.2c0-1.6-4.2-0.6-4.2-3.1c0-1,0.9-1.9,2.5-1.9c1.1,0,2,0.4,2.5,1l-0.5,0.7c-0.4-0.5-1.1-0.9-2-0.9c-0.9,0-1.5,0.5-1.5,1.1c0,1.5,4.2,0.5,4.2,3.1c0,1.1-0.9,2-2.7,2C142.1,172.5,141.1,172.2,140.4,171.4z",o.transparent,0,"#888888"),(0,a.drawPath)("M147.1,168.9c0-2,1.3-3.5,3.3-3.5s3.3,1.6,3.3,3.5s-1.3,3.6-3.3,3.6S147.1,170.9,147.1,168.9z M152.7,168.9c0-1.4-0.8-2.6-2.2-2.6s-2.3,1.2-2.3,2.6c0,1.4,0.8,2.6,2.3,2.6S152.7,170.3,152.7,168.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M160.1,172.3v-1c-0.5,0.6-1.4,1.1-2.4,1.1c-1.4,0-2.2-0.7-2.2-2.2v-4.8h1.1v4.5c0,1.2,0.6,1.5,1.5,1.5c0.8,0,1.6-0.5,2-1v-5h1.1v6.8H160.1z",o.transparent,0,"#888888"),(0,a.drawPath)("M163.3,172.3v-6.8h1v1.1c0.5-0.7,1.3-1.2,2.3-1.2v1.1c-0.1,0-0.3,0-0.4,0c-0.6,0-1.5,0.5-1.8,1.1v4.8H163.3z",o.transparent,0,"#888888"),(0,a.drawPath)("M167.5,168.9c0-2,1.4-3.5,3.4-3.5c1.2,0,2,0.5,2.5,1.2l-0.7,0.6c-0.4-0.6-1-0.9-1.7-0.9c-1.4,0-2.3,1.1-2.3,2.6c0,1.5,0.9,2.6,2.3,2.6c0.7,0,1.3-0.3,1.7-0.9l0.7,0.6c-0.5,0.7-1.2,1.2-2.5,1.2C168.8,172.5,167.5,171,167.5,168.9z",o.transparent,0,"#888888"),(0,a.drawPath)("M174.4,168.9c0-2,1.4-3.5,3.3-3.5c2,0,3.2,1.6,3.2,3.6v0.3h-5.5c0.1,1.3,1,2.3,2.4,2.3c0.8,0,1.6-0.3,2.1-0.9l0.5,0.7c-0.7,0.7-1.6,1-2.7,1C175.9,172.5,174.4,171.1,174.4,168.9z M177.7,166.3c-1.4,0-2.2,1.2-2.2,2.3h4.4C179.9,167.5,179.3,166.3,177.7,166.3z",o.transparent,0,"#888888"),(0,a.drawPath)("M182.4,171.7c0-0.4,0.3-0.8,0.8-0.8s0.8,0.4,0.8,0.8c0,0.4-0.3,0.8-0.8,0.8S182.4,172.1,182.4,171.7z",o.transparent,0,"#888888")])},6415:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(6079),a=i(5888);e.default=function renderSticker(t){const{id:e,x:i,y:n,width:r,rotation:s,stackingOrder:l,properties:c}=t,d=(t=>t.properties.name?{url:t.properties.name,opts:{color:t.properties.color,fit:{width:t.width,height:t.height},isIcon:!0},widgetContext:{ownerId:t.id,renderInternalModule:"sticker"}}:void 0)(t);return(0,a.drawWidget)(e,c.parentId,i,n,r,r,s,l,d?[(0,a.drawImage)((0,o.box)(r,r),d,{centerX:!0,centerY:!1})]:[])}},6684:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.translucentRectangleBorder=void 0;const a=i(6916),n=i(5597),r=i(9500),s=i(5802),l=i(3385),c=o(i(3381)),d=i(8183),h=i(220),u=i(3836),v=i(6951),g=i(5888),hasOpacity=t=>!!t.replace(/ /g,"").match(/^rgba\(.*,0\.\d+\)$/),drawText=(t,e,i,o,n,r,s,c)=>(0,g.drawHint)(t,"text",i.htmlText?(0,l.drawRichTextBox)(t,e,i.fontSize,i.textAlign,o,i.fontFamily,i.htmlText,n,hasOpacity(i.backgroundColor)?"#000000":(0,a.stickyTextColor)(i.backgroundColor),r,s,c):(0,g.drawTextBox)(e,i.fontSize,i.textAlign,o,1,(({backgroundColor:t,bold:e,fontFamily:i,italic:o,strike:n,underline:r,text:s})=>(0,v.formatHighlightableText)({bold:e,fontFamily:i,italic:o,strike:n,underline:r,color:hasOpacity(t)?"#000000":(0,a.stickyTextColor)(t)},s))(i),void 0,void 0,void 0,void 0,n));e.translucentRectangleBorder=(t,e,{whenTranslucent:i,cornerRadius:o})=>{if(!i.showStrokeBorder)return g.noop;const{strokeWidth:a}=i,n=0==o?0:o-a/2;return(0,u.drawState)(t,"dragging-visual-feedback",Object.assign(Object.assign({},e),{x:a/2,y:a/2,width:e.width-a,height:e.height-a,cornerRadius:n,backgroundColor:"transparent",strokeColor:i.strokeColor,strokeWidth:i.strokeWidth}))};const translucentEllipseBorder=(t,e,{whenTranslucent:i})=>{if(!i.showStrokeBorder)return g.noop;const{strokeWidth:o}=i;return(0,u.drawState)(t,"dragging-visual-feedback",Object.assign(Object.assign({},e),{x:o/2,y:o/2,width:e.width-o,height:e.height-o,backgroundColor:"transparent",strokeColor:i.strokeColor,strokeWidth:i.strokeWidth}))};e.default=function renderSticky(t,i,o,a,l,u,v,f,y,x){return i.properties.round?((t,e,i,o,a,l,u,v,f,y)=>{var x,m,R;const{id:b,x:w,y:S,width:A,height:C,rotation:I,stackingOrder:M,properties:T}=e,_=T.border?1.5:0,L=(0,g.calculatePadding)(o.circular.padding,C,T.fontSize),O=null!==(x=T.verticalAlign)&&void 0!==x?x:o.circular.verticalAlign,P=(0,g.drawEllipse)(_,_,A-2*_,C-2*_,T.backgroundColor,T.border?n.black:n.transparent,T.border?3:0),E=T.link?(0,c.default)(t,`${b}-open`,A-3,C,v,T.link.url,T.link.title,T.link.source,!1,!1,"center","open",i,a):void 0,N=(0,r.drawLabelsInWidget)(t,b,A,C,null!==(m=T.labels)&&void 0!==m?m:void 0,_,i,a.height,a.marginVertical,l,E,f);if(N&&"Group"===N.type){const t=(A-(N.width+(E?E.width:0)))/2;N.x=t,E&&(E.x=N.x+N.width+r.LABEL_LINK_SPACING)}const z=(0,s.drawReactionsInWidget)(e,i,u,y),k=(0,g.calculatePadding)(o.circular.labelPaddingTop,C,T.fontSize),D=E||N,F=D?C-_-k-a.marginVertical-a.height:C,B=L,j=L,H=D?0:L,W=(0,n.isColorTranslucent)(T.backgroundColor),U=drawText(b,{x:B,y:j,width:A-2*B,height:F-j-H},T,O,o.lineHeightMultiplier,t,o.hyperlink,i);return(0,g.drawWidget)(b,T.parentId,w,S,A,C,I,M,[i?(0,d.drawHighlight)(`${b}-highlight`,P):g.noop,(0,h.drawShadow)(`${b}-shadow`,P,i,o.shadow),P,W?translucentEllipseBorder(`${b}-translucent-border`,P,o):g.noop,U,N||g.noop,E||g.noop,...z||[]],null===(R=T.link)||void 0===R?void 0:R.url,void 0,void 0,void 0,void 0!==z,"above"===u.drawingRelativeToSelection?null==z?void 0:z.map((t=>t.id)):void 0,"below"===u.drawingRelativeToSelection?null==z?void 0:z.map((t=>t.id)):void 0)})(t,i,o,l,u,v,f,a,y,x):((t,i,o,a,l,u,v,f,y,x)=>{var m,R,b;const{id:w,x:S,y:A,width:C,height:I,rotation:M,stackingOrder:T,properties:_}=i,L=_.border?1.5:0,O=(0,g.drawRectangle)(L,L,C-2*L,I-2*L,_.backgroundColor,_.border?n.black:n.transparent,_.border?3:0,n.SOLID_STROKE_PATTERN,void 0,a.cornerRadius),P=(0,g.calculatePadding)(a.rectangular.padding,I,_.fontSize),E=(_.border?3:0)+P,N=null!==(m=_.verticalAlign)&&void 0!==m?m:a.rectangular.verticalAlign,z=_.link?(0,c.default)(t,`${w}-open`,C,I,f,_.link.url,_.link.title,_.link.source,!1,!1,"right","open",o,l):void 0,k=(0,r.drawLabelsInWidget)(t,w,C,I,null!==(R=_.labels)&&void 0!==R?R:void 0,L,o,l.height,l.marginVertical,u,z,y),D=(0,s.drawReactionsInWidget)(i,o,v,x),F=(0,g.calculatePadding)(a.rectangular.labelPaddingTop,I,_.fontSize),B=z||k,j=B?I-L-F-l.marginVertical-l.height:I,H=E,W=E,U=B?0:E,G=(0,n.isColorTranslucent)(_.backgroundColor),V=drawText(w,{x:H,y:W,width:C-2*H,height:j-W-U},_,N,a.lineHeightMultiplier,t,a.hyperlink,o);return(0,g.drawWidget)(w,_.parentId,S,A,C,I,M,T,[o?(0,d.drawHighlight)(`${w}-highlight`,O):g.noop,(0,h.drawShadow)(`${w}-shadow`,O,o,a.shadow),O,G?(0,e.translucentRectangleBorder)(`${w}-translucent-border`,O,a):g.noop,V,k||g.noop,z||g.noop,...D||[]],null===(b=_.link)||void 0===b?void 0:b.url,void 0,void 0,void 0,void 0!==D,"above"===v.drawingRelativeToSelection?null==D?void 0:D.map((t=>t.id)):void 0,"below"===v.drawingRelativeToSelection?null==D?void 0:D.map((t=>t.id)):void 0)})(t,i,o,l,u,v,f,a,y,x)}},8529:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(5597),a=i(3385),n=i(5888);e.default=function renderTableCell(t,e,{lineHeightMultiplier:i,hyperlink:r},s){const{id:l,x:c,y:d,height:h,width:u,rotation:v,stackingOrder:g,properties:f}=t,y=((t,e,i,o,n)=>{var r;const s=t.properties.textContent;if(!s||!s.text)return;const l=s.padding||0,c={x:l,y:l,width:t.width-2*l,height:t.height-2*l},d=(0,a.drawRichTextBox)(t.id,c,s.fontSize,s.textAlign,s.verticalAlign||"top",s.fontFamily,s.text,i,"#000000",e,o,n,null!==(r=s.orientation)&&void 0!==r?r:void 0);return"Group"!==d.type||1!==d.children.length||"Group"!==d.children[0].type||0!==d.children[0].width&&0!==d.children[0].height?d:void 0})(t,e,i,r,s);return(0,n.drawWidget)(l,f.parentId,c,d,u,h,v,g,[(0,n.drawRectangle)(0,0,u,h,o.transparent,o.transparent,0,o.SOLID_STROKE_PATTERN,void 0,void 0,0),y?(0,n.drawHint)(l,"text",y):n.noop,(0,n.drawWidgetsContainer)(l,0,0,u,h)])}},8:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SPACE_BETWEEN_CELLS=void 0;const o=i(5597),a=i(220),n=i(5888);e.SPACE_BETWEEN_CELLS=1;function validateCellBounds(t,e,i){return t.x>=0&&t.x<=e&&t.y>=0&&t.y<=i&&t.width>=0&&t.height>=0&&t.x+t.width<=e&&t.y+t.height<=i}e.default=function renderTable({id:t,x:i,y:r,width:s,height:l,rotation:c,stackingOrder:d,properties:h},u,v,g){const{backgroundColor:f,borderColor:y,borderWidth:x,rows:m,columns:R}=h,b=(0,n.drawRectangle)(0,0,s,l,f||"#FFFFFF",o.transparent,0),w=u.getTableCellsGrid(t),S=[];for(let t=0;t<m.length;t++)for(let e=0;e<R.length;e++){const i=w[t][e];if(i&&i.properties.backgroundColor&&i.properties.rowId===m[t].rowId&&i.properties.columnId===R[e].columnId&&!(0,o.isTransparent)(i.properties.backgroundColor))if(validateCellBounds(i,s,l)){const t=(0,n.drawRectangle)(i.x,i.y,i.width,i.height,i.properties.backgroundColor,o.transparent,0);S.push(t)}else g||console.warn(`Skipped drawing background of cell ${i.id} because it doesn't fit inside the table bounds`)}const A=y||"#000000",C=x||1,I=[],M=e.SPACE_BETWEEN_CELLS/2,drawRowLine=(e,i,a,r,l)=>{a!==r&&I.push((0,n.drawHint)(`${t}-${I.length}`,`row-${e}`,(0,n.drawLine)(a,i,Math.min(r,s+M),i,l?A:o.transparent,C,o.SOLID_STROKE_PATTERN,2),!0))},drawColumnLine=(e,i,a,r,s)=>{a!==r&&I.push((0,n.drawHint)(`${t}-${I.length}`,`col-${e}`,(0,n.drawLine)(i,a,i,Math.min(r,l+M),s?A:o.transparent,C,o.SOLID_STROKE_PATTERN,2),!0))};let T=M;for(let i=0;i<m.length+1;i++){const o=i<m.length?m[i].rowId:"last",a=i<m.length?m[i].height:0,n=0===i||i===m.length;if(T>l){g||console.warn(`Skipped drawing some row lines of table ${t} because it doesn't fit inside the table bounds, validate rows`);break}let r=0,s=0;for(let t=0;t<R.length;t++){const a=R[t].width,l=n?null:w[i-1][t],c=n?null:w[i][t];l!==c||null===l||null===c?s+=a+e.SPACE_BETWEEN_CELLS:(drawRowLine(o,T,r,s,!n),s+=a+e.SPACE_BETWEEN_CELLS,r=s)}drawRowLine(o,T,r,s,!n),T+=a+e.SPACE_BETWEEN_CELLS}let _=M;for(let i=0;i<R.length+1;i++){const o=i<R.length?R[i].columnId:"last",a=i<R.length?R[i].width:0,n=0===i||i===R.length;if(_>s){g||console.warn(`Skipped drawing some column lines of table ${t} because it doesn't fit inside the table bounds, validate columns`);break}let r=0,c=0;for(let t=0;t<m.length;t++){const a=m[t].height,s=n?null:w[t][i-1],l=n?null:w[t][i];s!==l||null===s||null===l?c+=a+e.SPACE_BETWEEN_CELLS:(drawColumnLine(o,_,r,c,!n),c+=a+e.SPACE_BETWEEN_CELLS,r=c)}drawColumnLine(o,_,r,l,!n),_+=a+e.SPACE_BETWEEN_CELLS}return I.push((0,n.drawRectangle)(M,M,s-2*M,l-2*M,o.transparent,A,C,o.SOLID_STROKE_PATTERN,void 0,void 0,4)),(0,n.drawWidget)(t,h.parentId,i,r,s,l,c,d,[v?(0,a.drawClassicDragShadow)(`${t}-shadow`,b):n.noop,b,...S,Object.assign(Object.assign({},(0,n.drawHint)(t,"dragging-border",(0,n.drawRectangle)(0,0,s,l,o.transparent,o.transparent,14,o.SOLID_STROKE_PATTERN,void 0,void 0,3))),{border:24,skipBoundsValidation:!0}),...I,(0,n.drawWidgetsContainer)(t,0,0,s,l)])}},1709:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildMeasuredTextItemCollection=e.buildTextItemCollection=void 0;const o=i(3101);function reduceTextItemsCollection(t,e,i){const o=t.size();let a=i;for(let i=0;i<o;i++)a=e(a,t.getFormat(i),t.getText(i));return a}function someTextItemCollection(t,e){const i=t.size();if(0===i)return!1;for(let o=0;o<i;o++)if(e(t.getFormat(o),t.getText(o)))return!0;return!1}function mapTextItemCollection(t,e){const i=[],o=t.size();for(let a=0;a<o;a++)i.push(e(t.getFormat(a),t.getText(a)));return i}function filterTextItemCollection(t,e){const i=t.size();let o=null;for(let a=0;a<i;a++){const i=t.getFormat(a),n=t.getText(a);e(i,n)?null!==o&&o.add(i,n):null===o&&(o=t.subTextItemCollection(0,a))}return o||t}function cloneTextItemCollection(t,e){const i=t.size();for(let o=0;o<i;o++)e.add(t.getFormat(o),t.getText(o));return e}function subTextItemCollection(t,e,i,o){for(let a=i;a<o;a++)e.add(t.getFormat(a),t.getText(a));return e}class TextItemCollectionImpl{constructor(){this.texts=[],this.formats=[]}size(){return this.texts.length}getText(t){return this.texts[t]}getFormat(t){return this.formats[t]}some(t){return someTextItemCollection(this,t)}reduce(t,e){return reduceTextItemsCollection(this,t,e)}map(t){return mapTextItemCollection(this,t)}filter(t){return filterTextItemCollection(this,t)}subTextItemCollection(t,e){return subTextItemCollection(this,new TextItemCollectionImpl,t,e)}cloneAsTextItemCollection(){return cloneTextItemCollection(this,new TextItemCollectionImpl)}add(t,e){const i=this.formats,a=i.length>0?i[i.length-1]:null;return this.texts.push(e),this.formats.push(null!==a&&(0,o.sameFormat)(a,t)?a:t),this}updateText(t,e){this.texts[t]=e}updateFormat(t,e){this.formats[t]=(0,o.sameFormat)(e,this.formats[t])?this.formats[t]:e}}e.buildTextItemCollection=()=>new TextItemCollectionImpl;class MeasuredTextItemCollectionImpl{constructor(){this.texts=[],this.widths=[],this.formats=[]}size(){return this.texts.length}getText(t){return this.texts[t]}getWidth(t){return this.widths[t]}getFormat(t){return this.formats[t]}getTotalWidth(){let t=0;const e=this.widths;for(let i=0;i<e.length;i++)t+=e[i];return t}reduceMeasured(t,e){return function reduceMeasuredTextItemsCollection(t,e,i){const o=t.size();let a=i;for(let i=0;i<o;i++)a=e(a,t.getFormat(i),t.getText(i),t.getWidth(i));return a}(this,t,e)}some(t){return someTextItemCollection(this,t)}reduce(t,e){return reduceTextItemsCollection(this,t,e)}map(t){return mapTextItemCollection(this,t)}mapMeasured(t){return function mapMeasuredTextItemCollection(t,e){const i=[],o=t.size();for(let a=0;a<o;a++)i.push(e(t.getFormat(a),t.getText(a),t.getWidth(a)));return i}(this,t)}filter(t){return filterTextItemCollection(this,t)}filterMeasured(t){return function filterMeasuredTextItemCollection(t,e){const i=t.size();let o=null;for(let a=0;a<i;a++){const i=t.getFormat(a),n=t.getText(a),r=t.getWidth(a);e(i,n,r)?null!==o&&o.add(i,n,r):null===o&&(o=t.subMeasuredTextItemCollection(0,a))}return o||t}(this,t)}cloneAsMeasuredTextItemCollection(){return function cloneMeasuredTextItemCollection(t,e){const i=t.size();for(let o=0;o<i;o++)e.add(t.getFormat(o),t.getText(o),t.getWidth(o));return e}(this,new MeasuredTextItemCollectionImpl)}cloneAsTextItemCollection(){return cloneTextItemCollection(this,new TextItemCollectionImpl)}subTextItemCollection(t,e){return subTextItemCollection(this,new TextItemCollectionImpl,t,e)}subMeasuredTextItemCollection(t,e){return function subMeasuredTextItemCollection(t,e,i,o){for(let a=i;a<o;a++)e.add(t.getFormat(a),t.getText(a),t.getWidth(a));return e}(this,new MeasuredTextItemCollectionImpl,t,e)}reverseMeasured(){return function reverseMeasuredTextItemCollection(t,e){for(let i=t.size()-1;i>=0;i--)e.add(t.getFormat(i),t.getText(i),t.getWidth(i));return e}(this,new MeasuredTextItemCollectionImpl)}add(t,e,i){const a=this.formats,n=a.length>0?a[a.length-1]:null;return this.texts.push(e),this.widths.push(i),this.formats.push(null!==n&&(0,o.sameFormat)(n,t)?n:t),this}updateText(t,e,i){this.texts[t]=e,this.widths[t]=i}updateFormat(t,e){this.formats[t]=(0,o.sameFormat)(e,this.formats[t])?this.formats[t]:e}}e.buildMeasuredTextItemCollection=()=>new MeasuredTextItemCollectionImpl},3977:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cropSingleLineTextHorizontally=void 0;const o=i(1709),a=i(860),n=i(1481),cropText=(t,e,i,o)=>{let n=(0,a.unicodeCombinedCharactersSequences)(i),r="";for(;n.length;){const i=Math.ceil(n.length/2),a=n.slice(0,i),s=a.join("");if(t(o,`${r}${s}...`)>e){if(n.length===i)break;n=a}else r+=s,n=n.slice(i)}if(!r)return null;return r+"..."};e.cropSingleLineTextHorizontally=(t,e,i,a)=>((t,e,i)=>{if(0===i.size())return i;let a=i.size();for(;a>0;){let o=0;for(let e=0;e<a-1;e++)o+=t(i.getFormat(e),i.getText(e));const r=i.getText(a-1),s=i.getFormat(a-1),l=t(s,r);if(o+l<=e)return a===i.size()?i:i.subTextItemCollection(0,a);const c=(0,n.rtrim)(r);if(o+(c===r?l:t(s,c))<=e){const t=i.subTextItemCollection(0,a-1);return t.add(s,c),t}const d=cropText(t,e-o,c,s);if(d){const t=i.subTextItemCollection(0,a-1);return t.add(s,d),t}a--}return(0,o.buildTextItemCollection)()})((0,n.buildMeasureTextFormat)(t,i),e,(0,n.mergeSameFormatItems)(a))},3101:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sameFormat=void 0;e.sameFormat=(t,e)=>t===e||!!t.bold==!!e.bold&&!!t.italic==!!e.italic&&!!t.strike==!!e.strike&&!!t.underline==!!e.underline&&t.markHighlightColor===e.markHighlightColor&&t.markTextColor===e.markTextColor&&t.color===e.color&&t.fontFamily===e.fontFamily&&t.href===e.href},6951:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processText=e.getSingleTextLineHeight=e.getTextHeight=e.formatHighlightableText=e.formatText=e.getTextWidth=e.cropSingleLineTextHorizontally=e.wrapText=void 0;const o=i(1792),a=i(5597),n=i(9785),r=i(1709),s=i(1481),l=i(8715);var c=i(8715);Object.defineProperty(e,"wrapText",{enumerable:!0,get:function(){return c.wrapText}});var d=i(3977);Object.defineProperty(e,"cropSingleLineTextHorizontally",{enumerable:!0,get:function(){return d.cropSingleLineTextHorizontally}});var h=i(1481);Object.defineProperty(e,"getTextWidth",{enumerable:!0,get:function(){return h.getTextWidth}});e.formatText=(t,e)=>(0,s.toItems)(e||"",(t=>t.color?t:Object.assign(Object.assign({},t),{color:a.black}))(t),!1);e.formatHighlightableText=(t,i)=>{if(i&&i.includes("<mark")){const e=(0,n.collectTextItemsFromHtml)((0,n.parseHtmlFromText)(t.fontFamily,24,t.color||a.black,(t=>{let e=t;return e.startsWith("<div>")||e.endsWith("</div>")||(e=`<div>${t}</div>`),t.replace(/\n/g,"<br>")})(i))),o=(0,r.buildTextItemCollection)();for(let i=0;i<e.size();i++){const n=e.getText(i),r=e.getFormat(i),s={fontFamily:r.fontFamily,bold:r.bold||!!t.bold,italic:r.italic||!!t.italic,markHighlightColor:r.markHighlightColor||t.markHighlightColor,markTextColor:r.markTextColor||t.markTextColor,strike:r.strike||!!t.strike,underline:r.underline||!!t.underline,color:r.color||t.color||a.black};o.add(s,n)}return o}return(0,e.formatText)(t,i)};e.getTextHeight=(t,e,i,o,a,n,r)=>{const s=(0,l.wrapText)(t,e,0,i,"left","top",o,a,n,r);return{height:s.lines.length*s.lineHeight,horizontalOverflow:s.horizontalOverflow,wrappedText:s}};e.getSingleTextLineHeight=(t,i,o,a)=>(0,e.getTextHeight)(t,Number.MAX_SAFE_INTEGER,i,0,1,(0,e.formatText)(o,"A"),a).height;e.processText=(t,e)=>{let i=null,a=null;for(let t=0;t<e.size();t++){const n=e.getFormat(t),r=(0,o.normalizeFont)(n);r!==n.fontFamily&&(null===a&&(a=e.cloneAsTextItemCollection(),i=a),a.updateFormat(t,Object.assign(Object.assign({},n),{fontFamily:r})))}return i=null!==i?i:e,i=(0,s.splitItemsIntoWords)(i),i=(0,s.splitTextItems)(t,i),i}},6553:(t,e)=>{"use strict";function minInArray(t){return 0===t.length?0:t.reduce(((t,e)=>Math.min(t,e)),t[0])}function maxInArray(t){return 0===t.length?0:t.reduce(((t,e)=>Math.max(t,e)),t[0])}Object.defineProperty(e,"__esModule",{value:!0}),e.UNICODE_EMOJIS_UNIFIED_SET_MAX=e.UNICODE_EMOJIS_UNIFIED_SET_MIN=e.UNICODE_EMOJIS_UNIFIED_SET=e.UNICODE_EMOJIS_UNIFIED_ARRAY=e.UNICODE_SYMBOLS_AS_EMOJIS_ARRAY=e.UNICODE_EMOJIS_ARRAY=e.UNICODE_EMOJIS_RANGE=e.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES_MAX=e.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES_MIN=e.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES=e.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_SET=e.UNICODE_ZERO_WIDTH_JOIN=e.UNICODE_ALL_COMBINERS_RANGES_MAX=e.UNICODE_ALL_COMBINERS_RANGES_MIN=e.UNICODE_ALL_COMBINERS_RANGES=e.UNICODE_EMOJI_MODIFIER_FITZPATRICK_RANGES=e.UNICODE_VARIANT_SELECTOR_RANGES=e.UNICODE_COMBINING_CHARACTER_RANGES=void 0,e.UNICODE_COMBINING_CHARACTER_RANGES=[768,879,6832,6911,7616,7664,8400,8432,65056,65071],e.UNICODE_VARIANT_SELECTOR_RANGES=[65024,65039,917760,917999],e.UNICODE_EMOJI_MODIFIER_FITZPATRICK_RANGES=[127995,127999],e.UNICODE_ALL_COMBINERS_RANGES=[...e.UNICODE_COMBINING_CHARACTER_RANGES,...e.UNICODE_VARIANT_SELECTOR_RANGES,...e.UNICODE_EMOJI_MODIFIER_FITZPATRICK_RANGES],e.UNICODE_ALL_COMBINERS_RANGES_MIN=minInArray(e.UNICODE_ALL_COMBINERS_RANGES),e.UNICODE_ALL_COMBINERS_RANGES_MAX=maxInArray(e.UNICODE_ALL_COMBINERS_RANGES),e.UNICODE_ZERO_WIDTH_JOIN=8205,e.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_SET=new Set([711,714,715,729,8224,8225,8240,8251,8258,8263,8264,8273,8413,8414,8448,8451,8453,8457,8458,8467,8470,8481,8491,8507,8528,8529,8530,8575,8585,8967,8978,9166,9251,9632,9633,9634,9649,9650,9651,9655,9660,9661,9665,9670,9671,9673,9675,9676,9711,9733,9734,9750,9751,10003,10010,10047,10048,11034,65040,65041,65042,65049,65309,127232]),e.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES=[11904,12255,12736,12783,13312,19903,19968,40959,63744,64255,131072,196607,8534,8538,8544,8555,8560,8571,9150,9164,9312,9362,9372,9471,9678,9683,9698,9702,9842,9853,10102,10111,12272,12333,12337,12591,12688,12735,12800,13311,19904,19967,63584,63586,65072,65135,65280,65292,65294,65306,65311,65519,94176,94207,94208,100351,100352,101119,110592,110847,110848,110895,110960,111359],e.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES_MIN=minInArray(e.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES),e.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES_MAX=maxInArray(e.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES),e.UNICODE_EMOJIS_RANGE=[8986,8987,9193,9196,9725,9726,9748,9749,9800,9811,9898,9899,9917,9918,9924,9925,9970,9971,9994,9995,10067,10069,10133,10135,11035,11036,127377,127386,127538,127542,127544,127546,127568,127569,127744,127756,127757,127758,127763,127765,127766,127768,127773,127774,127775,127776,127789,127791,127792,127793,127794,127795,127796,127797,127799,127818,128023,128041,128043,128062,128066,128100,128102,128107,128108,128109,128110,128172,128174,128181,128182,128183,128184,128235,128236,128237,128240,128244,128246,128247,128249,128252,128255,128258,128260,128263,127820,127823,127825,127867,127870,127871,127872,127891,127904,127940,127951,127955,127968,127971,127973,127984,127992,128007,128009,128011,128012,128014,128015,128016,128017,128018,128266,128276,128278,128299,128300,128301,128302,128317,128331,128334,128336,128347,128348,128359,128405,128406,128507,128511,128513,128518,128519,128520,128521,128525,128530,128532,128540,128542,128544,128549,128550,128551,128552,128555,128558,128559,128560,128563,128567,128576,128577,128580,128581,128591,128641,128642,128643,128645,128650,128651,128657,128659,128665,128666,128667,128673,128676,128677,128679,128685,128686,128689,128691,128693,128695,128696,128697,128702,128705,128709,128721,128722,128726,128727,128733,128735,128747,128748,128756,128758,128759,128760,128763,128764,128992,129003,129293,129295,129296,129304,129305,129310,129312,129319,129320,129327,129329,129330,129331,129338,129340,129342,129344,129349,129351,129355,129357,129359,129360,129374,129375,129387,129388,129392,129395,129398,129399,129400,129404,129407,129408,129412,129413,129425,129426,129431,129432,129442,129443,129444,129445,129450,129451,129453,129454,129455,129456,129465,129466,129471,129473,129474,129475,129482,129485,129487,129488,129510,129511,129535,129648,129651,129656,129658,129659,129660,129664,129666,129667,129670,129680,129685,129686,129704,129705,129708,129712,129718,129719,129722,129728,129730,129731,129733,129744,129750,129751,129753,129760,129767,129776,129782],e.UNICODE_EMOJIS_ARRAY=[9200,9203,9855,9875,9889,9934,9940,9962,9973,9978,9981,9989,10024,10060,10062,10071,10160,10175,11088,11093,126980,127183,127374,127489,127514,127535,127759,127760,127761,127762,127769,127770,127771,127772,127819,127824,127868,127941,127942,127943,127944,127945,127946,127972,127988,128008,128019,128020,128021,128022,128042,128064,128101,128173,128238,128239,128245,128248,128259,128264,128265,128277,128378,128420,128512,128526,128527,128528,128529,128533,128534,128535,128536,128537,128538,128539,128543,128556,128557,128564,128565,128566,128640,128646,128647,128648,128649,128652,128653,128654,128655,128656,128660,128661,128662,128663,128664,128674,128675,128678,128690,128694,128703,128704,128716,128720,128725,128761,128762,129008,129292,129311,129328,129343,129356,129393,129394,129401,129402,129403,129472,129483,129484,129652],e.UNICODE_SYMBOLS_AS_EMOJIS_ARRAY=[169,174,8252,8265,8482,8505,8596,8597,8598,8599,8600,8601,8617,8618,9e3,9167,9197,9198,9199,9201,9202,9208,9209,9210,9410,9642,9643,9654,9664,9723,9724,9728,9729,9730,9731,9732,9742,9745,9752,9757,9760,9762,9763,9766,9770,9774,9775,9784,9785,9786,9792,9794,9823,9824,9827,9829,9830,9832,9851,9854,9874,9876,9877,9878,9879,9881,9883,9884,9888,9895,9904,9905,9928,9935,9937,9939,9961,9968,9969,9972,9975,9976,9977,9986,9992,9993,9996,9997,9999,10002,10004,10006,10013,10017,10035,10036,10052,10055,10083,10084,10145,10548,10549,11013,11014,11015,12336,12349,12951,12953,127344,127345,127358,127359,127490,127543,127777,127780,127781,127782,127783,127784,127785,127786,127787,127788,127798,127869,127894,127895,127897,127898,127899,127902,127903,127947,127948,127949,127950,127956,127957,127958,127959,127960,127961,127962,127963,127964,127965,127966,127967,127987,127989,127991,128063,128065,128253,128329,128330,128367,128368,128371,128372,128373,128374,128375,128376,128377,128391,128394,128395,128396,128397,128400,128421,128424,128433,128434,128444,128450,128451,128452,128465,128466,128467,128476,128477,128478,128481,128483,128488,128495,128499,128506,128715,128717,128718,128719,128736,128737,128738,128739,128740,128741,128745,128752,128755],e.UNICODE_EMOJIS_UNIFIED_ARRAY=[...e.UNICODE_EMOJIS_ARRAY,...e.UNICODE_SYMBOLS_AS_EMOJIS_ARRAY,...e.UNICODE_EMOJIS_RANGE.reduce(((t,e,i,o)=>{if(i%2==1){const a=e;for(let e=o[i-1];e<=a;e++)t.push(e)}return t}),[])],e.UNICODE_EMOJIS_UNIFIED_SET=new Set(e.UNICODE_EMOJIS_UNIFIED_ARRAY),e.UNICODE_EMOJIS_UNIFIED_SET_MIN=minInArray(e.UNICODE_EMOJIS_UNIFIED_ARRAY),e.UNICODE_EMOJIS_UNIFIED_SET_MAX=maxInArray(e.UNICODE_EMOJIS_UNIFIED_ARRAY)},860:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unicodeSplitByCJK=e.unicodeSplitByEmojis=e.unicodeTextHasEmoji=e.unicodeCombinedCharactersSequences=e.isUnicodeEmoji=e.isUnicodeCJK=e.isUnicodeCombinerCode=void 0;const o=i(6553),a=i(6478);function isUnicodeCombinerCode(t){if(t>=o.UNICODE_ALL_COMBINERS_RANGES_MIN&&t<=o.UNICODE_ALL_COMBINERS_RANGES_MAX){const e=o.UNICODE_ALL_COMBINERS_RANGES;for(let i=0;i<e.length;i+=2)if(t>=e[i]&&t<=e[i+1])return!0}return!1}function isUnicodeCJK(t){if(t>=o.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES_MIN&&t<=o.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES_MAX){if(o.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_SET.has(t))return!0;const e=o.UNICODE_CJK_IDEOGRAPH_OR_SYMBOL_RANGES;for(let i=0;i<e.length;i+=2)if(t>=e[i]&&t<=e[i+1])return!0}return!1}function isUnicodeEmoji(t){return t>=o.UNICODE_EMOJIS_UNIFIED_SET_MIN&&t<=o.UNICODE_EMOJIS_UNIFIED_SET_MAX&&o.UNICODE_EMOJIS_UNIFIED_SET.has(t)}function unicodeCharactersSequenceLen(t,e){var i,a;if(t>=e.length)return 0;if(t+1>=e.length)return 1;const n=null!==(i=e[t+1].codePointAt(0))&&void 0!==i?i:0;let r=1;return isUnicodeCombinerCode(n)?(r++,t+r<e.length&&(null!==(a=e[t+r].codePointAt(0))&&void 0!==a?a:0)===o.UNICODE_ZERO_WIDTH_JOIN&&(r++,r+=unicodeCharactersSequenceLen(t+r,e))):n===o.UNICODE_ZERO_WIDTH_JOIN&&(r++,r+=unicodeCharactersSequenceLen(t+r,e)),r}function unicodeCombinedCharactersSequences(t){const e=(0,a.utf16Characters)(t);let i=null;const o=e.length;let n=0;for(;n<o;){const t=e[n],o=unicodeCharactersSequenceLen(n,e);if(1===o)null!==i&&i.push(t);else{null===i&&(i=e.slice(0,n));let a=t;for(let t=1;t<o;t++)a+=e[n+t];i.push(a)}n+=o}return null!=i?i:e}e.isUnicodeCombinerCode=isUnicodeCombinerCode,e.isUnicodeCJK=isUnicodeCJK,e.isUnicodeEmoji=isUnicodeEmoji,e.unicodeCombinedCharactersSequences=unicodeCombinedCharactersSequences,e.unicodeTextHasEmoji=function unicodeTextHasEmoji(t){for(let e=0;e<t.length;e++){let i=t.charCodeAt(e);if((0,a.isHighSurrogatePair)(i)&&e+1<t.length){const o=t.charCodeAt(e+1);i=(0,a.combineSurrogatePairs)(i,o),e++}if(isUnicodeEmoji(i))return!0}return!1},e.unicodeSplitByEmojis=function unicodeSplitByEmojis(t){var e;const i=unicodeCombinedCharactersSequences(t),o=[];let a="";for(let t=0;t<i.length;t++){const n=i[t];isUnicodeEmoji(null!==(e=n.codePointAt(0))&&void 0!==e?e:0)?(a.length>0&&o.push(a),o.push(n),a=""):a+=n}return a.length>0&&o.push(a),o},e.unicodeSplitByCJK=function unicodeSplitByCJK(t){let e=!1;for(let i=0,o=t.length;i<o&&!e;++i){let o=t.charCodeAt(i);if((0,a.isHighSurrogatePair)(o)&&i+1<t.length){const e=t.charCodeAt(i+1);o=(0,a.combineSurrogatePairs)(o,e),i++}e=isUnicodeCJK(o)}if(!e)return null;const i=[];let o="",n=!1;for(let e=0,r=t.length;e<r;++e){let r=t.charCodeAt(e),s=t[e];if((0,a.isHighSurrogatePair)(r)&&e+1<t.length){const i=t.charCodeAt(e+1);r=(0,a.combineSurrogatePairs)(r,i),s+=t[e+1],e++}const l=isUnicodeCJK(r);o?n||l?(i.push(o),o=s,n=l):o+=s:(o+=s,n=l)}return o&&i.push(o),i}},6478:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.utf16CharactersValues=e.combineSurrogatePairs=e.isHighSurrogatePair=e.utf16Characters=e.utf16Len=void 0,e.utf16Len=function utf16Len(t){const e=t.length;let i=0;for(let o=0;o<e;o++){const a=t.charCodeAt(o);55296<=a&&a<=56319&&o+1<e&&(i++,o++)}return e-i},e.utf16Characters=function utf16Characters(t){return[...t]},e.isHighSurrogatePair=function isHighSurrogatePair(t){return 55296<=t&&t<=56319},e.combineSurrogatePairs=function combineSurrogatePairs(t,e){return 1024*(t-55296)+(e-56320)+65536},e.utf16CharactersValues=function utf16CharactersValues(t){const e=t.length,i=[];let o=0;for(;o<e;){const a=t.charCodeAt(o);if(55296<=a&&a<=56319&&o+1<e){const e=1024*(a-55296)+(t.charCodeAt(o+1)-56320)+65536;i.push(e),o++}else i.push(a);o++}return i}},1481:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LINE_HEIGHT_CORRECTION=e.splitTextItems=e.getTextWidth=e.buildMeasureTextFormat=e.mergeSameFormatItems=e.expandLines=e.splitItemsIntoWords=e.toItems=e.ltrim=e.rtrim=void 0;const o=i(1792),a=i(1709),n=i(3101);e.rtrim=t=>t.replace(/[ \t]*$/,"");e.ltrim=t=>t.replace(/^[ \t]*/,"");const isNonPrintable=t=>void 0!==t&&t<32&&9!==t&&10!==t&&13!==t,removeNonPrintableCharacters=t=>(t=>{const e=t.length;for(let i=0;i<e;i++)if(isNonPrintable(t.charCodeAt(i)))return!0;return!1})(t)?t.replace(/./g,(t=>isNonPrintable(t.codePointAt(0))?"":t)):t;e.toItems=(t,e,i)=>{if(""===t||"\n"===t)return(0,a.buildTextItemCollection)().add(e,t);const o=removeNonPrintableCharacters((t=>t.indexOf("&")<0?t:t.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"'))(t)),n=i?o.split(" "):[o],r=n.length-1,s=(0,a.buildTextItemCollection)();for(let t=0;t<n.length;t++)t!==r?s.add(e,n[t]+" "):s.add(e,n[t]);return s};e.splitItemsIntoWords=t=>{const i=(0,a.buildTextItemCollection)();for(let o=0;o<t.size();o++){const a=t.getText(o),n=t.getFormat(o),r=(0,e.toItems)(a,n,!0);for(let t=0;t<r.size();t++)i.add(r.getFormat(t),r.getText(t))}return i};e.expandLines=t=>t.reduce(((t,e,i)=>"\n"===i?(t.add(e,i),t):(i.split("\n").forEach(((i,o)=>{0===o||t.add(e,"\n"),i&&t.add(e,i)})),t)),(0,a.buildTextItemCollection)()).reduce(((t,e,i)=>("\n"===i?t.push((0,a.buildTextItemCollection)().add({fontFamily:e.fontFamily},"")):t[t.length-1].add(e,i),t)),[(0,a.buildTextItemCollection)()]);e.mergeSameFormatItems=t=>{const e=(0,a.buildTextItemCollection)();for(let i=0;i<t.size();i++){const o=t.getText(i),a=t.getFormat(i);if(0===i)e.add(a,o);else{const t=e.size()-1;(0,n.sameFormat)(a,e.getFormat(t))?e.updateText(t,e.getText(t)+o):e.add(a,o)}}return e};e.buildMeasureTextFormat=(t,e)=>(i,a)=>t.measureText(i.bold?(0,o.makeBold)(i.fontFamily):i.fontFamily,e,a);e.getTextWidth=(t,i,o)=>{const a=(0,e.expandLines)(o);if(0===a.length)return 0;const n=(0,e.buildMeasureTextFormat)(t,i);return a.map((t=>e=>e.reduce(((e,i,o)=>e+t(i,o)),0))(n)).reduce(((t,e)=>Math.max(t,e)),0)};e.splitTextItems=(t,e)=>{let i=null;for(let o=0;o<e.size();o++){const a=e.getText(o),n=e.getFormat(o),r=t.splitTextItem(a,n);if(null!==r){null===i&&(i=e.subTextItemCollection(0,o));for(let t=0;t<r.texts.length;t++){const e=r.texts[t],o=void 0!==r.fontFamilies?r.fontFamilies[t]:void 0;void 0===o||o===n.fontFamily?i.add(n,e):i.add(Object.assign(Object.assign({},n),{fontFamily:o}),e)}}else null!==i&&i.add(n,a)}return null!==i?i:e},e.LINE_HEIGHT_CORRECTION={"proxima-nova":-.2,"proxima-nova-semibold":-.2,"proxima-nova-bold":-.2,"museo-slab":0,"museo-slab-bold":0,adelle:0,"adelle-bold":0,"marker-felt":.45,"shark-water":.18,"blambot-casual":.05,"blambot-pro":.4,"lint-mccree":0,"noto-sans-hebrew":0,"noto-sans-hebrew-bold":0,"noto-sans-devanagari":0,"noto-sans-devanagari-bold":0,"noto-sans-thai":0,"noto-sans-thai-bold":0,"noto-naskh-arabic":0,"noto-naskh-arabic-bold":0,"noto-sans-cjk":0,"noto-sans-cjk-bold":0,"noto-sans":0,"noto-sans-bold":0,stickers:0,"ey-interstate":-.2,"ey-interstate-bold":-.2,"emoji-fallback":0,"big-shoulders-display":0,"big-shoulders-display-bold":0,caveat:0,"caveat-bold":0,"dyna-puff":0,"dyna-puff-bold":0,"ibm-plex-mono":0,"ibm-plex-mono-bold":0,"ibm-plex-sans":0,"ibm-plex-sans-bold":0,"ibm-plex-serif":0,"ibm-plex-serif-bold":0,"inter-tight":0,"inter-tight-bold":0,"play-fair-display":0,"play-fair-display-bold":0,solway:0,"solway-bold":0,"zilla-slab":0,"zilla-slab-bold":0,"abc-social":0,"abc-social-bold":0,"stk-bureau-serif":0,"stk-bureau-serif-bold":0}},8715:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapText=void 0;const o=i(1792),a=i(1709),n=i(3101),r=i(860),s=i(6478),l=i(1481),rtrimLastItem=(t,e,i)=>{if(0===i.size())return i;const a=i.size()-1,n=i.getText(a),r=(0,l.rtrim)(n);if(n===r)return i;const s=i.getFormat(a),c=t.measureText(s.bold?(0,o.makeBold)(s.fontFamily):s.fontFamily,e,r),d=i.cloneAsMeasuredTextItemCollection();return d.updateText(a,r,c),d},splitLongWord=(t,e,i,o,a)=>{const n=[];let s="",l=0;const c=(0,r.unicodeCombinedCharactersSequences)(o);for(let o=0,r=c.length;o<r;++o){const r=s+c[o],d=t(a,r);if(d<=e)s=r,l=d;else if(""!==s){if(n.push({text:s,width:l}),s=c[o],l=t(a,s),l>e&&!i)return[]}else{if(!i)return[];s=r,l=d}}return s&&n.push({text:s,width:l}),n},joinInvalidHyphenationParts=(t,e)=>{if(!e.onlyMidWord)return t;const i=[];for(const o of t)!i.length||o.match(/^\w/)?i.push(o):i[i.length-1]+=`${e.delim}${o}`;return i},hyphenate=(t,e)=>{if(!t.some(((t,i)=>i.includes(e.delim))))return t;const i=(0,a.buildTextItemCollection)();for(let o=0;o<t.size();o++){const a=t.getText(o),n=t.getFormat(o);if(!a.includes(e.delim)){i.add(n,a);continue}const r=a.split(e.delim),s=joinInvalidHyphenationParts(r,e),l=s.length-1;s.forEach(((t,o)=>{e.ownWord?(i.add(n,t),o!==l&&i.add(n,e.delim)):i.add(n,o!==l?t+e.delim:t)}))}return i},c=[{delim:"\n",ownWord:!0},{delim:"-"},{delim:""},{delim:"="},{delim:"/"},{delim:"\t"},{delim:"?",onlyMidWord:!0}],createHyphenationOpportunities=t=>{let e=t;for(let t=0;t<c.length;t++)e=hyphenate(e,c[t]);return e=(t=>{let e=null;for(let i=0;i<t.size();i++){const o=t.getText(i),a=t.getFormat(i);if((0,r.unicodeTextHasEmoji)(o)){null===e&&(e=t.subTextItemCollection(0,i));const n=(0,r.unicodeSplitByEmojis)(o);for(let t=0;t<n.length;t++)e.add(a,n[t])}else null!==e&&e.add(a,o)}return null!=e?e:t})(e),e=(t=>{if(!t.some((t=>(0,o.areAllFontFamilyCharactersHyphenableCandidates)(t.fontFamily))))return t;const e=(0,a.buildTextItemCollection)();for(let i=0;i<t.size();i++){const a=t.getFormat(i),n=t.getText(i);if(!(0,o.areAllFontFamilyCharactersHyphenableCandidates)(a.fontFamily)){e.add(a,n);continue}const r=(0,s.utf16Characters)(n);for(let t=0;t<r.length;t++)e.add(a,r[t])}return e})(e),e},d={center:"middle",left:"start",right:"end"};e.wrapText=(t,e,i,r,s,c,h,u,v,g)=>{const{lines:f,horizontalOverflow:y,brokenWords:x}=((t,e,i,o,r,s)=>{const c=(0,l.buildMeasureTextFormat)(t,i),d=createHyphenationOpportunities(s),h=[];let u=null,v=0,g=!1;const appendToCurrentLine=(t,e,i)=>{if(null===u)return u=(0,a.buildMeasuredTextItemCollection)(),u.add(t,e,i),v=i,void h.push(u);const o=u.size()-1;if(o>=0&&(0,n.sameFormat)(u.getFormat(o),t)){const a=u.getText(o),n=u.getWidth(o),r=a+e,s=a.endsWith(" ")||e.startsWith(" ")?n+i:c(t,r);u.updateText(o,r,s)}else u.add(t,e,i);v+=i},fits=t=>v+t<e+.1,lineAvailableWidth=()=>e+.1-v,f=d.size()>0?c(d.getFormat(0),"8"):i,widthHeuristic=t=>t.length*f,y=d===s?d.cloneAsTextItemCollection():d;for(let s=0;s<y.size();s++){const d=y.getText(s),f=y.getFormat(s);if(!d)continue;if("\n"===d){if(!u){const t=(0,a.buildMeasuredTextItemCollection)();t.add(f,"",0),h.push(t);continue}h[h.length-1]=rtrimLastItem(t,i,u),u=(0,a.buildMeasuredTextItemCollection)(),v=0,h.push(u);continue}const x=lineAvailableWidth();if(widthHeuristic(d)<x&&s+1<y.size()){let t=d,e=0;for(let i=s+1;i<y.size()&&"\n"!==y.getText(i)&&(0,n.sameFormat)(y.getFormat(i),f)&&widthHeuristic(t)+widthHeuristic(y.getText(i))<x;i++)t+=y.getText(i),e++;if(e>0){const i=c(f,t);if(fits(i)){appendToCurrentLine(f,t,i),s+=e;continue}}}const m=c(f,d);if(fits(m)){appendToCurrentLine(f,d,m);continue}const R=(0,l.rtrim)(d);if(!R)continue;if(R!==d){const t=c(f,R);if(fits(t)){appendToCurrentLine(f,R,t);continue}}if(u&&u.size()>0&&(u=rtrimLastItem(t,i,u),h[h.length-1]=u),m<=e){u=(0,a.buildMeasuredTextItemCollection)(),u.add(f,d,m),v=m,h.push(u);continue}const b=(0,l.ltrim)(R);if(b!==R||!o){const t=c(f,b);if(t<=e||!o){u&&!u.size()?u.add(f,b,t):(u=(0,a.buildMeasuredTextItemCollection)(),u.add(f,d,m),h.push(u)),v=m;continue}}const w=splitLongWord(c,e,r,d,f);if(!w.length)return{lines:[],horizontalOverflow:!1,brokenWords:!1};g=!0,w.forEach(((t,e)=>{if(0===e&&u&&0===v)u.add(f,t.text,t.width);else{const e=(0,a.buildMeasuredTextItemCollection)();e.add(f,t.text,t.width),h.push(e)}})),u=h[h.length-1],v=u.getWidth(0)}if(h.length){const e=h.length-1,o=h[e];h[e]=rtrimLastItem(t,i,o)}return{lines:h,horizontalOverflow:!!r&&h.some((t=>t.getTotalWidth()>e)),brokenWords:g}})(t,e,r,0===h,1===u,v),{lineHeight:m,ascent:R,descent:b}=(0,o.getUnifiedLineMetrics)(f,r,g),w=d[s],S=((t,e)=>"middle"===e?t/2:"start"===e?0:t)(e,w),A=((t,e,i,o,a)=>"top"===t||i*o>a?e:"bottom"===t?a-i*o+e:1===o?a/2+e/2*.730378496982995:a/2-i*o/2+e)(c,R,m,f.length,i);return{lines:f,textX:S,textY:A,anchor:w,lineHeight:m,ascent:R,descent:b,horizontalOverflow:y,brokenWords:x}}},7547:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(5597),n=i(186),r=i(3385),s=o(i(3381)),l=i(8183),c=i(220),d=i(6951),h=i(5888),u={measurementUnit:"pixels",value:0},buildContent=(t,e,i,o,a,s)=>{const l=(t=>t?t.replace(/ *$/,""):t)(t.properties.text),c=t.properties.fixedWidth?t.width-2*e:void 0,u="freeText"===t.properties.textType?(0,n.drawHtmlTextbox)(`${t.id}-tb`,((t,e)=>(0,d.formatHighlightableText)({fontFamily:t.properties.fontFamily,bold:t.properties.bold,italic:t.properties.italic,underline:t.properties.underline,strike:t.properties.strike},e))(t,l),t.properties.fontSize,t.properties.textAlign,c,!0,i,o):(0,n.drawHtmlTextboxFromHtmlCode)(`${t.id}-tb`,l,t.properties.fontSize,t.properties.fontFamily,"#000000",t.properties.textAlign,c,i,o),v="freeText"!==t.properties.textType?(0,r.getLinkHints)(t.id,u,u.width,a,t.properties.fontSize,s,e,e):[],g=u.width,f=u.height||(0,d.getSingleTextLineHeight)(i,t.properties.fontSize,"freeText"===t.properties.textType?{fontFamily:t.properties.fontFamily,bold:t.properties.bold,italic:t.properties.italic,underline:t.properties.underline,strike:t.properties.strike}:{fontFamily:t.properties.fontFamily},o);return f===u.height&&g===u.width&&0===e?{textBox:u,textBoxLinks:v,width:g,height:f}:{textBox:(0,h.drawGroup)(`${t.id}-padding`,e,e,u.width,u.height,0,[u]),textBoxLinks:v,width:g+2*e,height:f+2*e}};e.default=function renderTitle(t,e,i,o,n,r){var d;const{id:v,x:g,y:f,rotation:y,properties:x,stackingOrder:m}=e,{fontSize:R,fixedWidth:b,link:w,cornerRadius:S,borderThickness:A,borderColor:C,shadow:I}=x,M=(t=>!!t.properties.backgroundColor&&!(0,a.isTransparent)(t.properties.backgroundColor))(e),T=(0,h.calculatePadding)(null!==(d=x.padding)&&void 0!==d?d:M?n.padding:u,e.height,R),{textBox:_,textBoxLinks:L,width:O,height:P}=buildContent(e,T,t,n.lineHeightMultiplier,n.hyperlink,i),E=!!w,N=!b||O>=r.small.width,z=b||!E?O:E&&M?Math.max(r.small.width,O):Math.max(r.small.width,O)+5,k=E?M?P+24:P+29:P,D=(0,h.drawRectangle)(0,0,z,k,x.backgroundColor,null!=C?C:a.transparent,null!=A?A:0,void 0,void 0,null!=S?S:void 0);return(0,h.drawWidget)(v,x.parentId,g,f,z,k,y,m,[i?(0,l.drawHighlight)(`${v}-highlight`,D):h.noop,M&&I?(0,c.drawShadow)(`${v}-shadow`,D,i,n.shadow):h.noop,M?D:h.noop,(0,h.drawHint)(v,"text",_),...L,w&&N?(0,s.default)(t,`${v}-open`,M?z-8:z,M?k-8:k,o,w.url,w.title,w.source,!1,!1,"right","open",i,r):h.noop],null==w?void 0:w.url)}},5281:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDrawingPrimitiveSimpleWithSize=void 0;e.isDrawingPrimitiveSimpleWithSize=t=>"Rectangle"===t.type||"TextBox"===t.type||"WrappedTextBox"===t.type||"Ellipse"===t.type||"Image"===t.type},5888:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyHideAtZoomLevel=e.calculatePadding=e.isDrawingPrimitive=e.isWidgetPrimitive=e.hookHelpers=e.drawHint=e.shiftPrimitives=e.shift=e.cleanTags=e.getWidgets=e.wrapTextBox=e.noop=e.drawWidgetsContainer=e.getWidgetIdFromWidgetsContainerId=e.generateWidgetsContainerId=e.drawWidget=e.drawTextBox=e.drawRectangle=e.drawPath=e.drawLine=e.drawImage=e.drawGroup=e.drawEllipse=e.WIDGETS_CONTAINER_HINT=e.WIDGET_HINT=void 0;const o=i(729),a=i(5597),n=i(2118),r=i(6951);e.WIDGET_HINT="widget",e.WIDGETS_CONTAINER_HINT="widgets-container";const s=["group",e.WIDGET_HINT,e.WIDGETS_CONTAINER_HINT],defaultHitTest=(t,e)=>void 0!==t?t:(0,a.isTransparent)(e)?1:0;e.drawEllipse=(t,e,i,o,n,r,s,l=a.SOLID_STROKE_PATTERN,c,d=1,h,u=0)=>({backgroundColor:n,clipArgs:c,height:o,hitTest:defaultHitTest(h,n),opacity:d,shadow:u,strokeColor:r,strokePattern:l,strokeWidth:s,type:"Ellipse",width:i,x:t,y:e});e.drawGroup=(t,e,i,o,a,n,r,l=void 0,c=1,d,h,u={},v,g=!1,f)=>({animations:u,border:0,children:r,clip:l,id:t,scale:c,x:e,y:i,width:o,height:a,rotation:n||0,type:"Group",hint:d&&!s.includes(d)?d:null,state:h,url:null!=v?v:void 0,skipBoundsValidation:g,hideAtZoomLevel:f});e.drawImage=({height:t,width:e,x:i,y:o},n,r,s=a.transparent,l=void 0,c=0,d="low",h=!1,u)=>({errorFallback:l,height:t,hitTest:c,loadingColor:s,preserveAspectRatio:r,type:"Image",urlInfo:n,width:e,x:i,y:o,priority:d,showLoading:h,imageOwnerId:u});e.drawLine=(t,e,i,o,n,r,s=a.SOLID_STROKE_PATTERN,l=1,c=0)=>({hitTest:l,strokeColor:n,strokePattern:s,strokeStyleOffset:c,strokeWidth:r,x1:t,x2:i,y1:e,y2:o,type:"Line"});e.drawPath=(t,e,i,o,n,r=a.SOLID_STROKE_PATTERN,s="round",l="miter",c,d=0,h=0,u,v="nonzero")=>({backgroundColor:o,backgroundFillRule:v,hitTest:defaultHitTest(c,o||""),lineCap:s,lineJoin:l,path:t,shadow:d,stretch:n,strokeColor:e,strokePattern:r,strokeStyleOffset:h,strokeWidth:i,type:"Path",info:u});e.drawRectangle=(t,e,i,o,n,r,s,l=a.SOLID_STROKE_PATTERN,c,d=0,h,u=0)=>({backgroundColor:n,clipArgs:c,cornerRadius:d,height:o,hitTest:defaultHitTest(h,n),shadow:u,strokeColor:r,strokePattern:l,strokeWidth:s,type:"Rectangle",width:i,x:t,y:e});e.drawTextBox=({height:t,width:e,x:i,y:a},n,r,s,l,c,d,h=!1,u,v=0,g=o.CLASSIC_LINE_HEIGHT_MULTIPLIER)=>({breakWords:l,clipArgs:d,singleLineCropHorizontally:h,fontSize:n,height:t,hitTest:v,lineHeight:u,text:c,textAlign:r,verticalAlign:s,width:e,x:i,y:a,type:"TextBox",lineHeightMultiplier:g});e.drawWidget=(t,e,i,o,a,n,r,s,l,c,d,h,u,v,g,f,y)=>({type:"WidgetPrimitive",id:t,x:i,y:o,width:a,height:n,rotation:null!=r?r:0,children:l,stackingOrder:s,url:c,minimapPath:d,selectionPaths:h,border:null!=u?u:0,parentId:null!=e?e:"",hasNonTrivialRotation:null!=v&&v,selectionDrawNodeIdsOnTopOnSelected:g,selectionDrawNodeIdsOnBottomOnSelected:f,hideAtZoomLevel:y});const l="-widgets-container";e.generateWidgetsContainerId=t=>t+l;e.getWidgetIdFromWidgetsContainerId=t=>t.endsWith(l)?t.substring(0,t.length-18):t;e.drawWidgetsContainer=(t,i,o,a,n)=>Object.assign(Object.assign({},(0,e.drawGroup)((0,e.generateWidgetsContainerId)(t),i,o,a,n,0,[])),{hint:e.WIDGETS_CONTAINER_HINT}),e.noop={type:"NoOp"};e.wrapTextBox=(t,e)=>{const i=(0,r.wrapText)(t,e.width,e.height,e.fontSize,e.textAlign,e.verticalAlign,e.breakWords,e.clipArgs?1:0,e.text,e.lineHeightMultiplier),o=e.lineHeight||i.lineHeight,a=i.lines.filter(((t,i)=>o*i<e.height)).map((t=>t.filterMeasured(((t,e)=>!!e))));return Object.assign(Object.assign({},e),{wrappedText:Object.assign(Object.assign({},i),{lines:a,lineHeight:o}),type:"WrappedTextBox"})};const sortWidgets=(t,e)=>(0,a.isArrow)(e)&&!e.properties.stackable?-1:(0,a.isArrow)(t)&&!t.properties.stackable?1:e.properties.parentId?-1:t.properties.parentId?1:t.stackingOrder-e.stackingOrder;e.getWidgets=t=>Object.keys(t.widgets).map((e=>t.widgets[e])).sort(sortWidgets);e.cleanTags=t=>t.replace(/<\/?[^>]+(>|$)/g,"");e.shift=(t,e,i)=>i.map((i=>Object.assign(Object.assign({},i),{x:t+i.x,y:e+i.y})));e.shiftPrimitives=(t,e,...i)=>i.map((i=>{switch(i.type){case"Ellipse":case"Group":case"Image":case"Rectangle":case"TextBox":case"WrappedTextBox":return Object.assign(Object.assign({},i),{x:i.x+t,y:i.y+e});case"Line":case"NoOp":return i;case"Path":return console.warn("\n        !!!!!!!\n        Attempted to shift a Path.\n        This will result in incorrect rendering!\n        !!!!!!!"),i}}));e.drawHint=(t,i,o,a=!1,n)=>{if("Line"===o.type){const n=o.strokeWidth/2,r=Math.min(o.x1-n,o.x2+n),s=Math.min(o.y1-n,o.y2+n),l=Math.abs(o.x2-o.x1+2*n),c=Math.abs(o.y2-o.y1+2*n);return(0,e.drawGroup)(`${t}-${i}`,r,s,l,c,0,[Object.assign(Object.assign({},o),{x1:o.x1-r,y1:o.y1-s,x2:o.x2-r,y2:o.y2-s})],void 0,void 0,i,void 0,void 0,void 0,a)}return(0,e.drawGroup)(`${t}-${i}`,o.x,o.y,o.width,o.height,"Group"===o.type?o.rotation:0,["Group"===o.type?Object.assign(Object.assign({},o),{x:0,y:0,rotation:0}):Object.assign(Object.assign({},o),{x:0,y:0})],void 0,void 0,i,void 0,void 0,n,a)},e.hookHelpers={mapAst:(t,e)=>(0,n.map)(e)(t)};e.isWidgetPrimitive=t=>"WidgetPrimitive"===t.type;e.isDrawingPrimitive=t=>"WidgetPrimitive"!==t.type;e.calculatePadding=(t,e,i)=>{switch(t.measurementUnit){case"pixels":return t.value;case"height-percentage":return Math.round(t.value*e);case"font-size-percentage":return t.value*i}};e.applyHideAtZoomLevel=(t,i)=>{for(let o=0;o<t.length;o++){const a=t[o];"Group"!==a.type&&"WidgetPrimitive"!==a.type||(a.hideAtZoomLevel=i,(0,e.applyHideAtZoomLevel)(a.children,i))}}},2427:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetCache=void 0;e.WidgetCache=class WidgetCache{constructor(){this.widgets=new Map}delete(t){t.forEach((t=>this.widgets.delete(t)))}get(t){return this.widgets.get(t)}set(t){t.forEach((t=>this.widgets.set(t.id,t)))}}},9086:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(5597),n=i(3488),r=o(i(7417)),s=o(i(1749)),l=o(i(9809)),c=o(i(7077)),d=o(i(6411)),h=o(i(8582)),u=o(i(2448)),v=o(i(3414)),g=o(i(4658)),f=o(i(3016)),y=o(i(181)),x=o(i(6415)),m=o(i(6684)),R=o(i(8)),b=o(i(8529)),w=o(i(7547)),S=i(5888);function parseWidget(t,e,i,o,n,S,A,C){if((0,a.isEmbedly)(i)||(0,a.isPhoto)(i)&&"string"!=typeof(i.properties.photoURL||i.properties.thumbURL)||(0,a.isText)(i)&&!(0,a.isSticky)(i)&&!(0,a.isTitle)(i))return;const{hideContent:I,darkerHidden:M,labelTypes:T,muralId:_,resizeImages:L,includeStates:O,ignoreTableWarnings:P}=o;if(I&&i.properties.hidden)return(0,v.default)(e,i,!!M);if((0,a.isSticky)(i))return(0,m.default)(e,i,!!O,_,n.sticky,n.openButton,n.label,n.reaction,T,t);if((0,a.isArrow)(i))return(0,s.default)(t,i,n.arrow);if((0,a.isShape)(i))return(0,y.default)(i,!!O,n.shape,e);if((0,a.isFramework)(i))return(0,h.default)(i,!!O,n.framework);if((0,a.isPhoto)(i)){const t=C&&!i.properties.link||A&&!!i.properties.link&&!!i.properties.embedPreview;return(0,f.default)(e,_,i,!!L,!!O,n.image,t?n.previewButton:n.openButton,t)}return(0,a.isTitle)(i)?(0,w.default)(e,i,!!O,_,n.textbox,n.openButton):(0,a.isGroup)(i)?(0,u.default)(i):(0,a.isArea)(i)?(0,r.default)(i,!!O,n.area):(0,a.isDrawing)(i)?(0,c.default)(i,!!O,n.drawing):(0,a.isSticker)(i)?(0,x.default)(i):(0,a.isInking)(i)?(0,g.default)(i):(0,a.isFile)(i)?(0,d.default)(i,!!O,n.file,n.openButton,n.previewButton,S):(0,a.isComment)(i)?(0,l.default)(i,!!O,n.comment):(0,a.isTable)(i)?(0,R.default)(i,t,!!O,null!=P&&P):(0,a.isTableCell)(i)?(0,b.default)(i,e,n.tableCell,!!O):function unknownWidget(t){console.error(`Unknown widget ${t.id}: ${t.type}`)}(i)}const sortWidgets=(t,e)=>(0,a.isComment)(t)?1:(0,a.isComment)(e)||(0,a.isArrow)(e)&&!e.properties.stackable?-1:(0,a.isArrow)(t)&&!t.properties.stackable?1:!t.properties.hidden&&e.properties.hidden?-1:t.properties.hidden&&!e.properties.hidden?1:t.stackingOrder-e.stackingOrder;e.default=function parseWidgets(t,e,i,o,a,r,s,l){return function parseUnsortedWidgets(t,e,i,o,a,r,s,l){return(o.skipSorting?i:[...i].sort(sortWidgets)).map((i=>{const n=parseWidget(t,e,i,o,a,r,s,l);if(n){const t=o.onAfterParse?o.onAfterParse(i,n,S.hookHelpers):n;if("WidgetPrimitive"===t.type)return t}})).filter(n.isNotNil)}(t,e,o.onBeforeParse?i.map(o.onBeforeParse):i,o,a,r,s,l)}},9362:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.profiler=void 0;class EndSentinel{}const i=new EndSentinel;e.profiler=new class Profiler{constructor(){this._counters={},this._store={},this.on=!1,this._times=[],this.reset()}reset(){this._counters={},this._store={},this._times.length=0}count(t,e=1){var i;this.on&&(this._counters[t]=(null!==(i=this._counters[t])&&void 0!==i?i:0)+e)}store(t,e){this.on&&(this._store[t]||(this._store[t]=[]),this._store[t].push(e))}begin(t){this.on&&this._times.push([t,performance.now()])}end(){this.on&&this._times.push([i,performance.now()])}counters(){return Object.keys(this._counters).sort(((t,e)=>t.localeCompare(e))).map((t=>[t,this._counters[t]]))}stored(){return Object.keys(this._store).sort(((t,e)=>t.localeCompare(e))).map((t=>[t,this._store[t]]))}timeDigest(t=!0,e=!0){const o={},a=[];let n=this._times;if(!e){let t=0;n=this._times.map((e=>[e[0]instanceof EndSentinel?i:`${e[0]}${t++}`,e[1]]))}for(const[e,i]of n)if(e instanceof EndSentinel){const e=a.pop();if(!e){console.warn("It seems to be more profiler.end() than profiler.begin() calls.\nCheck your code scopes or missing calls.");continue}const{section:n,start:r,subtract:s}=e,l=i-r,c=l-s;a.length>0&&(a[a.length-1].subtract+=l);const d=t?a.map((t=>t.section)).concat(n).join("."):n;let h=o[d];h||(o[d]=h={id:d,total:0,self:0}),h.total+=l,h.self+=c}else a.push({section:e,start:i,subtract:0});return a.length>0&&console.warn("It seems to be more profiler.begin() than profiler.end() calls.\nCheck your code for early exits or missing calls. Look for:\n"+a.map((t=>t.section)).join("\n")),Object.values(o).sort(((t,e)=>t.id.localeCompare(e.id)))}}},5982:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAssets=e.getCacheKey=void 0;const o=i(2118);e.getCacheKey=t=>[t.url,t.opts&&t.opts.bound&&t.opts.bound.width,t.opts&&t.opts.bound&&t.opts.bound.height,t.opts&&t.opts.fit&&t.opts.fit.width,t.opts&&t.opts.fit&&t.opts.fit.height,t.opts&&t.opts.color].map((t=>(t||"").toString())).join("_");e.getAssets=t=>{const i=new Map;t.forEach((0,o.forEach)((t=>{if("Image"!==t.type||!t.urlInfo.url)return;const o=(0,e.getCacheKey)(t.urlInfo),a=i.get(o);void 0===a?i.set(o,{url:t.urlInfo,maxSize:t.width*t.height}):a.maxSize=Math.max(a.maxSize,t.width*t.height)})));const a=Array.from(i.values());return a.sort(((t,e)=>t.maxSize-e.maxSize)),a.map((t=>t.url))}},167:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dropInvalidPaths=void 0;const o=i(2118),a=i(5888);e.dropInvalidPaths=(0,o.map)((t=>"Path"!==t.type?t:t.path.includes("NaN")?a.noop:t))},595:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dropNoOps=void 0;const o=i(2118);e.dropNoOps=(0,o.mapChildrenFirst)((t=>"Group"===t.type&&t.children.some((t=>"NoOp"===t.type))?Object.assign(Object.assign({},t),{children:t.children.filter((t=>"NoOp"!==t.type))}):t))},2232:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterStates=void 0;const o=i(2118),a=i(5888);e.filterStates=t=>(0,o.map)((e=>"Group"!==e.type||void 0===e.state||t.includes(e.id)||e.hint&&t.includes(e.hint)?e:t.includes("debug")?(t=>(console.log("excluded:",t),a.noop))(e.id):a.noop))},6417:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processTextNode=e.convertTextBoxToWrappedTextBox=void 0;const o=i(2118),a=i(6951),n=i(5888);e.convertTextBoxToWrappedTextBox=(t,e)=>{let i=(0,a.processText)(t,e.text);e.singleLineCropHorizontally&&(i=(0,a.cropSingleLineTextHorizontally)(t,e.width,e.fontSize,i)),i!==e.text&&(e=Object.assign(Object.assign({},e),{text:i}));return(0,n.wrapTextBox)(t,e)};e.processTextNode=t=>(0,o.map)((i=>"TextBox"!==i.type?i:(0,e.convertTextBoxToWrappedTextBox)(t,i)))},5242:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.stretchPath=void 0;const a=o(i(6721)),n=i(2118);e.stretchPath=(0,n.map)((t=>{if("Path"!==t.type||!t.stretch)return t;const{newSize:e,originalSize:i}=t.stretch,o=e.width/i.width,n=e.height/i.height;return 1===o&&1===n?t:Object.assign(Object.assign({},t),{path:(0,a.default)(t.path).scale(o,n).toString()})}))},7341:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(3488),a=i(167),n=i(595),r=i(2232),s=i(6417),l=i(5242);e.default=function createProcessorPipeline(t,e){const i=[(0,s.processTextNode)(t),a.dropInvalidPaths,l.stretchPath,e.includeStatesFor?(0,r.filterStates)(e.includeStatesFor):null,n.dropNoOps].filter(o.isNotNil);return t=>i.reduce(((t,e)=>e(t)),t)}},5163:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawImageAstToFns=void 0;const i=4,o=32,a=8192,n=[{visibleScreenSpacePercent:5,sizeMultiplier:1.5},{visibleScreenSpacePercent:15,sizeMultiplier:1.75},{visibleScreenSpacePercent:25,sizeMultiplier:2},{visibleScreenSpacePercent:50,sizeMultiplier:2,useRenderScaleMultiplier:!0}];function sizeToLod(t){const e=function nextPowerOf2(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.log(2)))}(Math.ceil(t));return Math.min(Math.max(e,o),a)}e.drawImageAstToFns=function drawImageAstToFns(t,e,o,a){const{x:r,y:s,width:l,height:c,urlInfo:d,loadingColor:h,preserveAspectRatio:u,priority:v,showLoading:g}=t,f=o.options.maxImageFetchScale||2,y=o.options.maxImageLodOutsideViewport;let x=null,m=null,R=0,b=null,w=!1,S=!1,A=!1,C=!1,I=!1,M=!1,T=!1,_=!1,L=!1;a.registerDestroy((()=>{null!==b&&(b.destroy(),b=null)})),a.registerViewportVisibilityChanged((t=>{S=t,null!==b?t?(b.play(),M&&a.invalidate()):b.stop():t&&(C||I)&&(C=!1,I=!1,a.invalidate()),A=A||t}));const clearEverything=()=>{x=null,m=null,R=0,_=!1,L=!1,null==b||b.destroy(),b=null,w=!1,M=!1,I=!1,C=!1},processImage=(t,e)=>{if(t!==m){switch(m=t,t.type){case"simple":x=t.image;break;case"animated":null!==b&&b.destroy(),b=t.buildPlayer(),x=b.image,b.setNewFrameCallback((()=>{w=!0,a.invalidate()})),S?b.play():b.stop();break;case"error":T=!0}e&&a.invalidate()}},loadLod=(t,e)=>{R=t;const i=function buildUrlInfoWithLevelOfDetail(t,e){return Object.assign(Object.assign({},t),{levelOfDetail:e})}(d,t),n=!g||o.options.ignoreDownloadProgress||L?void 0:(t=>{let e,i=!1,o=0,a=!1;const handler=(n,r)=>{i=!0,o=n,e=r,a&&t.setLoadingProgress(r?"downloading-infinite":"downloading",n)};return{enabledReport:()=>{a=!0,i&&handler(o,e)},forceFinish:()=>{a&&i&&1!==o&&handler(1,e)},handler}})(a),r=o.getImageFromUrl(i,o.imageCache,null==n?void 0:n.handler);L||a.hasLoadingProgress()||r.bestImage||null==n||n.enabledReport(),r.bestImage&&processImage(r.bestImage,e),void 0!==r.requestedImagePromise?r.requestedImagePromise.then((t=>{L=!0,null==n||n.forceFinish(),processImage(t,!0)})):r.bestImage&&(L=!0)},getBestSize=t=>{if(0===t.screenPixels)return 1;let e=1;const i=l*t.cameraScale,o=c*t.cameraScale,a=Math.max(i,o);if(t.isViewport){const a=i*o*100/t.screenPixels;let r=null;for(let t=0;t<n.length;t++)if(a<n[t].visibleScreenSpacePercent){r=n[t];break}null===r&&(r=n[n.length-1]),e=Math.min(r.sizeMultiplier,f)*(r.useRenderScaleMultiplier?t.renderScaleMultiplier:1)}else e=1.5;return a*e};return{draw:t=>{if(m&&(t=>"simple"===t.type&&!t.vectorial&&!Number(t.image.width))(m)&&clearEverything(),void 0!==y&&y<=0&&!A)return t.drawRectangle(r,s,l,c,h,"",0),void(C=!0);const o={cameraScale:t.cameraScale,renderScaleMultiplier:t.renderScaleMultiplier,screenPixels:t.targetWidth*t.targetHeight,isViewport:t.isViewport};_||(_=!0,(t=>{const e=!A&&void 0!==y&&y>0?y:Number.MAX_SAFE_INTEGER,i=sizeToLod(getBestSize(t));i>e?(I=!0,loadLod(e,!0)):loadLod(i,!0)})(o)),null!==x&&function isImageVisible(t,e,o,a){return"high"===a||t*o>=i||e*o>=i}(l,c,o.cameraScale*o.renderScaleMultiplier,v)?((t=>{if(!L||null===m||"simple"!==m.type||m.vectorial||I)return;const e=sizeToLod(getBestSize(t));e!==R&&loadLod(e,!1)})(o),t.drawImage(x,r,s,l,c,u),(()=>{w&&null!==b&&(S?(w=!1,b.readyForNextFrame(),M=!1):M=!0)})()):T&&e.length>0?e.forEach((e=>e.draw(t))):t.drawRectangle(r,s,l,c,h,"",0)},disposeCache:()=>{clearEverything(),e.forEach((t=>t.disposeCache()))}}}},6649:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawAstToFnsSimple=e.drawAstToFns=e.drawSimpleAstToFns=void 0;const o=i(8930),a=i(5597),n=i(5888),r=i(5163),s=i(4059),l=i(8168),applyClipping=(t,e,i)=>o=>{o.saveClip();const a=t.clipX||0,n=t.clipY||0;if(0!==e){const i=e*Math.PI/180;if(o.translateRotateAndScale(a,n,i,1),"ellipse"===t.shape)o.clipEllipse(0,0,t.clipWidth,t.clipHeight);else o.clipRectangle(0,0,t.clipWidth,t.clipHeight);o.undoTranslateRotateAndScale(a,n,i,1)}else if("ellipse"===t.shape)o.clipEllipse(a,n,t.clipWidth,t.clipHeight);else o.clipRectangle(a,n,t.clipWidth,t.clipHeight);i(o),o.restoreClip()},c=5,d=4,h=64;const noopDisposeCacheFn=()=>{},u={draw:()=>null,disposeCache:noopDisposeCacheFn},buildAstFns=t=>({draw:t,disposeCache:noopDisposeCacheFn}),shouldDrawShadow=(t,e,i)=>e.unitLengthForContext(i)*t>=1.5,drawClassicShadow=(t,e,i)=>{e.setRenderOverflow(30);const o=i.drawExplicitShadows?"rgb(0,0,0)":"rgba(0,0,0,0.2)";return i=>{if(!shouldDrawShadow(4,e,i))return;const a=i.native.globalAlpha;i.native.globalAlpha*=.7,i.native.shadowBlur=Math.min(20,20*i.cameraScale),i.native.shadowOffsetX=0,i.native.shadowOffsetY=Math.max(1,4*i.cameraScale),i.native.shadowColor=o,t(i.shadowColor)(i),i.native.globalAlpha=a,i.native.shadowBlur=0,i.native.shadowOffsetY=0,i.native.shadowColor=""}},drawShapeShadow=(t,e,i,a,n,r)=>{if(2===a){if(void 0===n)return console.error("Trying to draw Hana shadow with no ShadowStyle present"),()=>{};{e.setRenderOverflow(Math.max(n.blur,n.whileDragging.blurOverride)+n.height+n.whileDragging.offsetDownPixels+6);const i=(0,o.getCSSCubicBezierEasing)(n.whileDragging.animate.easeInCurveControlPoints,40),a=(0,o.getCSSCubicBezierEasing)(n.whileDragging.animate.easeOutCurveControlPoints,40);return o=>{((t,e,i,o,a,n,r)=>{if(!shouldDrawShadow(o.height,e,i))return;const s=((t,e,i)=>{if(!t)return 0;switch(t.transition){case 1:return e.getValue(t.transitionPercent);case 2:return 1-i.getValue(t.transitionPercent);default:return 0}})(e.getShadowProperties(),n,r),l=o.height+o.whileDragging.offsetDownPixels*s,c=o.blur*(1-s)+o.whileDragging.blurOverride*s;i.native.shadowBlur=Math.min(c,c*i.cameraScale),i.native.shadowOffsetX=0,i.native.shadowOffsetY=Math.max(1,l*i.cameraScale),i.native.shadowColor=o.color,t(a)(i),i.native.shadowBlur=0,i.native.shadowOffsetY=0,i.native.shadowColor=""})(t,e,o,n,r,i,a)}}}return drawClassicShadow(t,e,i)},isThereAnythingToDraw=(t,e,i,o)=>0!==i||e>0&&!(0,a.isTransparent)(t)||o&&!(0,a.isTransparent)(o);function drawSimpleAstToFns(t,e,i,o){switch(t.type){case"Rectangle":{const{backgroundColor:e,cornerRadius:a,height:n,shadow:r,strokeColor:s,strokePattern:l,strokeWidth:c,width:d,x:h,y:v,shadowStyle:g}=t;if(!isThereAnythingToDraw(s,c,r,e))return u;c>0&&o.setRenderOverflow(Math.ceil(c/2)+1);const f=a?t=>e=>e.drawRoundedRectangle(h,v,d,n,a,t,s,c,l):t=>e=>e.drawRectangle(h,v,d,n,t,s,c,l);return buildAstFns(0===r?f(e):drawShapeShadow(f,o,i.options,r,g,e))}case"Ellipse":{const{backgroundColor:e,height:a,opacity:n,shadow:r,strokeColor:s,strokePattern:l,strokeWidth:c,width:d,x:h,y:v,shadowStyle:g}=t;if(!isThereAnythingToDraw(s,c,r,e))return u;c>0&&o.setRenderOverflow(Math.ceil(c/2)+1);const renderFn=t=>e=>e.drawEllipse(h,v,d,a,t,s,c,l,n);return buildAstFns(0===r?renderFn(e):drawShapeShadow(renderFn,o,i.options,r,g,e))}case"Line":{const{x1:e,y1:i,x2:o,y2:a,strokeColor:n,strokeWidth:r,strokePattern:s,strokeStyleOffset:l}=t;return isThereAnythingToDraw(n,r,0)?buildAstFns((t=>t.drawLine(e,i,o,a,n,r,s,l))):u}case"Path":{const{path:a,strokeColor:n,strokeWidth:r,backgroundColor:l,backgroundFillRule:c,strokePattern:d,strokeStyleOffset:v,lineCap:g,lineJoin:f,stretch:y,shadow:x,info:m}=t;if(!isThereAnythingToDraw(n,r,0,l))return u;const R=l||"",b=Math.ceil(r/2)+1,w=y?{minX:-Math.ceil(y.clipBorder),minY:-Math.ceil(y.clipBorder),maxX:y.newSize.width+2*Math.ceil(y.clipBorder),maxY:y.newSize.height+2*Math.ceil(y.clipBorder)}:{minX:0,minY:0,maxX:e.width,maxY:e.height},S=m||(0,s.calculatePathInfo)(a,b),A=m?a:(0,s.cleanPath)(a),C=new Path2D(A);let I=!1;if(y)I=!S||!(0,s.isBoundsInsideBounds)(S.bounds,w),o.setRenderOverflow(Math.ceil(y.clipBorder));else{const t=S?Math.max(-Math.min(S.bounds.minX,0),-Math.min(S.bounds.minY,0),Math.max(S.bounds.maxX-e.width,0),Math.max(S.bounds.maxY-e.height,0)):b;o.setRenderOverflow(t)}(function shouldCachePath(t,e){return t||e>h})(I,S?S.pointsCount:0)&&o.enableCache();const renderFn=t=>e=>{I&&(e.saveClip(),e.clipRectangle(w.minX,w.minY,w.maxX-w.minX,w.maxY-w.minY)),e.drawPath(C,n,r,t,c,d,g,f,v),I&&e.restoreClip()};return buildAstFns(0===x?renderFn(R):drawClassicShadow(renderFn,o,i.options))}case"Image":{const a=[];return t.errorFallback&&drawAstToFns(t.errorFallback,e,i,o,a),(0,r.drawImageAstToFns)(t,a,i,o)}case"TextBox":case"WrappedTextBox":{const{x:a,y:r,fontSize:s,clipArgs:h,width:u,height:v}=t,g="WrappedTextBox"===t.type?t.wrappedText:(0,n.wrapTextBox)(i.textFunctions,t).wrappedText,f=a+g.textX,y=r+g.textY,x=[],fn=t=>t.drawTextBox(x,!!i.options.computeSlowItalics),fnSmall=t=>t.drawTextBoxAsLines(x),m=h?applyClipping(h,0,fn):fn,R=h?applyClipping(h,0,fnSmall):fnSmall;let b=!1,w=!0;return buildAstFns((t=>{const a=o.unitLengthForContext(t);if(function isTextVisible(t,e,i){return t*i>=c||e*i>=c}(u,v,a)){if(w&&(w=!1,x.push(...(0,l.getTextLayout)(f,y,s,g.lineHeight,g.ascent,g.descent,g.lines,g.anchor,!!i.options.computeSlowItalics)),!h&&x.length>0)){const t=Math.min(...x.map((t=>t.bounds.x))),i=Math.min(...x.map((t=>t.bounds.y))),a=Math.max(...x.map((t=>t.bounds.x1))),n=Math.max(...x.map((t=>t.bounds.y1))),r=s,l=Math.max(0-t,0-i,a-e.width,n-e.height);l>r?b=!0:l>0&&o.setRenderOverflow(l)}b&&(t.saveClip(),t.clipRectangle(0,0,e.width,e.height)),!function isFontReadable(t,e){return t*e>=d}(s,a)?R(t):m(t),b&&t.restoreClip()}}))}}return u}function drawAstToFns(t,e,i,o,a){switch(t.type){case"Group":{const{id:e,x:n,y:r,width:s,height:l,rotation:c,scale:d,children:h,clip:u}=t,v=[];h.forEach((t=>drawAstToFns(t,{width:s/d,height:l/d},i,o,v)));const draw=t=>{t.saveTransform(),t.translateRotateAndScale(n,r,(c||0)*Math.PI/180,d),v.forEach((e=>e.draw(t))),t.restoreTransform()},disposeCache=()=>{v.forEach((t=>t.disposeCache()))},g=u?applyClipping({id:`${e}-clip`,clipX:n,clipY:r,clipWidth:s,clipHeight:l,shape:u},c,draw):draw;a.push({draw:g,disposeCache});break}default:a.push(drawSimpleAstToFns(t,e,i,o))}}e.drawSimpleAstToFns=drawSimpleAstToFns,e.drawAstToFns=drawAstToFns,e.drawAstToFnsSimple=function drawAstToFnsSimple(t,e){const i=[];return drawAstToFns(t,{width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER},e,{invalidate:()=>{},registerDestroy:()=>{},registerViewportVisibilityChanged:()=>{},unitLengthForContext:e.options.customUnitLength?()=>e.options.customUnitLength||1:()=>1,enableCache:()=>{},setRenderOverflow:()=>{},setLoadingProgress:()=>{},hasLoadingProgress:()=>!1,getShadowProperties:()=>null},i),i.map((t=>t.draw))}},5086:function(t,e){"use strict";var i=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))((function(a,n){function fulfilled(t){try{step(o.next(t))}catch(t){n(t)}}function rejected(t){try{step(o.throw(t))}catch(t){n(t)}}function step(t){t.done?a(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createImageCache=void 0;const o=1024;function shrinkCanvasImage(t,e,o){return i(this,void 0,void 0,(function*(){if("simple"!==t.type||t.vectorial||t.image.width<=e&&t.image.height<=e)return t;const i=t.image,a=i.width,n=i.height;let r=Math.max(a,n),s=1;for(;r>e;)r=Math.ceil(r/2),s*=2;const l=Math.ceil(a/s),c=Math.ceil(n/s),{canvas:d,ctx:h}=o.createCanvas(l,c);h.imageSmoothingEnabled=!0;let u=!1,v=a,g=n,f=i,y=null,x=Math.ceil(v/2),m=Math.ceil(g/2);for(;!u;)if(yield new Promise(requestAnimationFrame),u=x===l||m===c,u)h.drawImage(f,0,0,v,g,0,0,x,m),null!==y&&(o.destroyCanvas(y),y=null);else{const{canvas:t,ctx:e}=o.createCanvas(x,m);e.imageSmoothingEnabled=!0,yield new Promise(requestAnimationFrame),e.drawImage(f,0,0,v,g,0,0,x,m),null!==y&&o.destroyCanvas(y),y=t,f=t,v=x,g=m,x=Math.max(l,Math.ceil(v/2)),m=Math.max(c,Math.ceil(g/2))}return{type:"simple",image:d,destroy:()=>o.destroyCanvas(d),vectorial:!1}}))}class Progress{constructor(){this.valid=!1,this.value=0,this.infinite=!1,this.listeners=[],this.set=(t,e)=>{this.valid=!0,this.value=Math.min(t,.99),this.infinite=null!=e&&e,this.listeners.forEach((t=>{t(this.value,this.infinite)}))}}finish(){this.valid=!0,this.value=1,this.listeners.forEach((t=>t(1,this.infinite))),this.listeners=[]}listen(t){this.valid&&t(this.value,this.infinite),this.value<1&&this.listeners.push(t)}}class InternalCacheEntry{constructor(t,e){this.lod=t,this.image=void 0,this.progress=new Progress,this.lastRequestTime=Date.now(),this.preventGCCounter=0,this.fetching=e(this.progress.set),this.fetching.then((t=>{this.image=t,this.lastRequestTime=Date.now(),this.progress.finish()}))}isReady(){return!!this.image}getImage(t=!0){return t&&(this.lastRequestTime=Date.now()),this.image}getPromise(t=!0){return t&&(this.lastRequestTime=Date.now()),this.fetching}getLastRequestTime(){return this.lastRequestTime}shrink(t,e){return this.preventGCCounter++,new InternalCacheEntry(t,(o=>i(this,void 0,void 0,(function*(){o(0,!0);const i=yield shrinkCanvasImage(this.getImage()||(yield this.getPromise()),t,e);return this.preventGCCounter--,i}))))}addProgressCallback(t){this.progress.listen(t)}isGCPrevented(){return this.preventGCCounter>0}destroy(){var t,e;this.image?null===(e=(t=this.image).destroy)||void 0===e||e.call(t):this.fetching.then((t=>{var e;return null===(e=t.destroy)||void 0===e?void 0:e.call(t)}))}}class ImageLODs{constructor(t,e,i){this.flags=t,this.shrinkBiggerImages=e,this.canvasFactory=i,this.items=[]}getBiggerImage(t){return this.items.find((e=>e.lod>=t))}buildNewLod(t,e,o){var a;const n=this.shrinkBiggerImages&&(null===(a=this.getBiggerImage(t))||void 0===a?void 0:a.shrink(t,this.canvasFactory))||new InternalCacheEntry(t,(o=>i(this,void 0,void 0,(function*(){const i=yield e(o);return this.shrinkBiggerImages?yield shrinkCanvasImage(i,t,this.canvasFactory):i}))));return o&&n.addProgressCallback(o),this.items.push(n),this.items.sort(((t,e)=>t.lod-e.lod)),n}get(t,e,i){var o;const a=this.items.find((e=>e.lod===t));if(a&&i&&a.addProgressCallback(i),null==a?void 0:a.isReady())return{bestImage:a.getImage(),requestedImagePromise:void 0};const n=null!==(o=this.items.find((e=>e.lod>=t&&e.isReady())))&&void 0!==o?o:function findLast(t,e){for(let i=t.length-1;i>=0;i--)if(e(t[i],i,t))return t[i]}(this.items,(e=>e.lod<t&&e.isReady()));return{bestImage:null==n?void 0:n.getImage(),requestedImagePromise:(null!=a?a:this.buildNewLod(t,e,i)).getPromise()}}gc(){return i(this,void 0,void 0,(function*(){if(0===this.items.length)return;const t=Date.now();if(this.items.some((t=>{if(t.isGCPrevented())return!0;const e=t.getImage(!1);return!!e&&("simple"!==e.type||e.vectorial)})))return;if(this.items.length>1&&this.items.every((e=>t-e.getLastRequestTime()>this.flags.reduceQualityInterval))){const t=this.items.reduce(((t,e)=>t.lod<e.lod&&t.lod>=o?t:e));t&&(this.items.forEach((e=>{e!==t&&e.destroy()})),this.items=[t])}if(1===this.items.length){const e=this.items[0];if(e.lod>o&&t-e.getLastRequestTime()>this.flags.reduceQualityInterval){const t=e.shrink(o,this.canvasFactory);this.items=[t],yield t.getPromise(),e.destroy()}return}const e=this.items,i=e.reduce(((t,e)=>t.getLastRequestTime()>e.getLastRequestTime()?t:e)),a=e[this.items.length-1],n=[];this.items=[];for(const o of e)o===i||o===a&&t-a.getLastRequestTime()<this.flags.dropHighestResolutionInterval||t-o.getLastRequestTime()<this.flags.dropLodsInterval?this.items.push(o):n.push(o);for(const t of n)t.destroy()}))}removeLod(t){const e=this.items.findIndex((e=>e.lod===t));e>=0&&(this.items[e].destroy(),this.items.splice(e,1))}destroy(){this.items.forEach((t=>t.destroy())),this.items=[]}fetching(){return this.items.some((t=>!t.isReady()))}eachImage(t){new Set(this.items.map((t=>t.getImage(!1)))).forEach((e=>e&&t(e)))}}class MemoryStats{constructor(){this.animateImagesCount=0,this.imagesCount=0,this.pixelsMemorySizeMB=0,this.urlsMemorySizeMB=0,this.vectorialImagesCount=0}appendImage(t){switch(t.type){case"simple":if(this.imagesCount++,t.vectorial)this.vectorialImagesCount++;else if(t.image){const e=t.image;e&&(this.pixelsMemorySizeMB+="naturalWidth"in e&&"naturalHeight"in e?e.naturalWidth*e.naturalHeight*4/1048576:(Number(e.width)*Number(e.height)*4||0)/1048576,"src"in e&&(this.urlsMemorySizeMB+=e.src.length/1048576))}break;case"animated":this.animateImagesCount++}}}e.createImageCache=(t=!0,e,o)=>{const a=new Map,n=(t=>{const e={dropHighestResolutionInterval:3e5,dropLodsInterval:6e4,lodsGcInterval:3e4,reduceQualityInterval:3e5};return t&&(t.dropHighestResolutionInterval>0&&(e.dropHighestResolutionInterval=t.dropHighestResolutionInterval),t.dropLodsInterval>0&&(e.dropLodsInterval=t.dropLodsInterval),t.lodsGcInterval>0&&(e.lodsGcInterval=t.lodsGcInterval),t.reduceQualityInterval>0&&(e.reduceQualityInterval=t.reduceQualityInterval)),e})(o);let r=!1;return{get:(o,s,l)=>{const c=a.get(o.id),d=null!=c?c:new ImageLODs(n,t,e);return c||(a.set(o.id,d),(()=>{i(void 0,void 0,void 0,(function*(){if(!r){for(r=!0;a.size;){yield new Promise((t=>setTimeout(t,n.lodsGcInterval)));for(const t of Array.from(a.values()))yield t.gc()}r=!1}}))})()),d.get(o.levelOfDetail,s,l)},clear:()=>{a.forEach((t=>t.destroy())),a.clear()},fetching:()=>{for(const t of a.values())if(t.fetching())return!0;return!1},memoryStats:()=>{const t=new MemoryStats;for(const e of a.values())e.eachImage((e=>t.appendImage(e)));return t},remove:t=>{const e=a.get(t.id);null==e||e.removeLod(t.levelOfDetail)}}}},4059:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculatePathInfo=e.cleanPath=e.tokenizePath=e.isBoundsInsideBounds=e.getPathPointsBounds=e.getNumberOfRealPointsApprox=e.isPathPointsInsideBounds=e.getPathPointsPair=void 0;const i=4;function getPathPointsPair(t){if(!!/[A-KNOPR-Ya-z]/.test(t))return null;const e=t.split(/[^0-9.-]+|(?=-)/g);e.shift(),e[e.length-1]||e.pop();const i=e.map(parseFloat);return i.length%2==1?null:i}function getNumberOfRealPointsApprox(t){return Math.ceil(t.length/i)}function getPathPointsBounds(t,e){if(t.length<2)return{minX:0,minY:0,maxX:0,maxY:0};let i=t[0]-e,o=t[0]+e,a=t[1]-e,n=t[1]+e;for(let r=2;r+1<t.length;r+=2){const s=t[r],l=t[r+1];i=Math.min(i,s-e),o=Math.max(o,s+e),a=Math.min(a,l-e),n=Math.max(n,l+e)}return{minX:i,minY:a,maxX:o,maxY:n}}e.getPathPointsPair=getPathPointsPair,e.isPathPointsInsideBounds=function isPathPointsInsideBounds(t,e,i,o,a){const n=e+o,r=i+a,isPointInside=(t,o)=>t>=e&&t<=n&&o>=i&&o<=r;for(let e=0;e+1<t.length;e+=2){if(!isPointInside(t[e],t[e+1]))return!1}return!0},e.getNumberOfRealPointsApprox=getNumberOfRealPointsApprox,e.getPathPointsBounds=getPathPointsBounds,e.isBoundsInsideBounds=function isBoundsInsideBounds(t,e){return t.maxX<=e.maxX&&t.minX>=e.minX&&t.maxY<=e.maxY&&t.minY>=e.minY};class PathBuilder{constructor(){this.output="",this.previousCommand=null,this.previousX=NaN,this.previousY=NaN}appendString(t){this.output&&(this.output+=" "),this.output+=t}moveTo(t,e){isFinite(t+e)&&(this.previousX===t&&this.previousY===e||(this.previousCommand="M",this.previousX=t,this.previousY=e,this.appendString(`M ${t} ${e}`)))}lineTo(t,e){if(!isFinite(t+e))return;const i=this.previousX===t&&this.previousY===e,o="L"===this.previousCommand?"":"L ";"M"===this.previousCommand&&i?this.appendString(`${o}${t+.01} ${e+.01}`):i||this.appendString(`${o}${t} ${e}`),this.previousCommand="L",this.previousX=t,this.previousY=e}quadTo(t,e,i,o){if(!isFinite(t+e+i+o))return;const{previousCommand:a,previousX:n,previousY:r}=this;if(t===i&&e===o||n===t&&r===e)this.lineTo(i,o);else{if(n===i&&r===o)return this.moveTo(.5*(i+t),.5*(o+e)),void this.lineTo(i,o);this.appendString(`${"Q"===a?"":"Q "}${t} ${e} ${i} ${o}`),this.previousCommand="Q",this.previousX=i,this.previousY=o}}cubicTo(t,e,i,o,a,n){if(!isFinite(t+e+i+o+a+n))return;const r=i===t&&o===t;if((t===this.previousX&&e===this.previousY?1:0)+(r?1:0)+(a===i&&n===o?1:0)>=2)this.lineTo(a,n);else{if(r&&a===this.previousX&&n===this.previousY)return this.moveTo(.75*i+.25*a,.75*o+.25*n),void this.lineTo(a,n);this.appendString(`${"C"===this.previousCommand?"":"C "}${t} ${e} ${i} ${o} ${a} ${n}`),this.previousCommand="C",this.previousX=a,this.previousY=n}}appendCommand(t,e){this.appendString(`${t} ${e.join(" ")}`),this.previousCommand=t,this.previousX=e[e.length-2],this.previousY=e[e.length-1]}toString(){return this.output}}e.tokenizePath=t=>t.split(/([a-zA-Z]|(?:-?\d+\.?\d*|-?\d*\.?\d+)(?:[eE]-?[0-9]+)?)|[^-A-Za-z0-9.]+/g).filter((t=>!!t));class PathReader{constructor(t){this.index=0,this.items=(0,e.tokenizePath)(t),this.items.length&&!this.items[0]&&this.items.shift(),this.items.length&&!this.items[this.items.length-1]&&this.items.pop()}hasNumber(){return this.index<this.items.length&&this.items[this.index]<"A"}takeCommand(){const{items:t}=this;for(;this.index<t.length;this.index++)if(t[this.index]>="A"){const e=t[this.index];return this.index++,e}return null}takeNumber(){const{items:t}=this;if(this.hasNumber()){const e=parseFloat(t[this.index]);return this.index++,e}return NaN}takeNumbers(){const t=[];for(;this.hasNumber();)t.push(this.takeNumber());return t}}e.cleanPath=function cleanPath(t){const e=new PathReader(t),i=new PathBuilder;for(let t=e.takeCommand();t;t=e.takeCommand())switch(t){case"M":i.moveTo(e.takeNumber(),e.takeNumber());break;case"L":for(;e.hasNumber();)i.lineTo(e.takeNumber(),e.takeNumber());break;case"Q":for(;e.hasNumber();)i.quadTo(e.takeNumber(),e.takeNumber(),e.takeNumber(),e.takeNumber());break;case"C":for(;e.hasNumber();)i.cubicTo(e.takeNumber(),e.takeNumber(),e.takeNumber(),e.takeNumber(),e.takeNumber(),e.takeNumber());break;default:i.appendCommand(t,e.takeNumbers())}return i.toString()},e.calculatePathInfo=function calculatePathInfo(t,e){const i=getPathPointsPair(t);if(!i)return;const o=getNumberOfRealPointsApprox(i);return{bounds:getPathPointsBounds(i,e),pointsCount:o}}},8168:function(t,e,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,i,o){void 0===o&&(o=i);var a=Object.getOwnPropertyDescriptor(e,i);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,o,a)}:function(t,e,i,o){void 0===o&&(o=i),t[o]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&o(e,t,i);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.RenderContext=e.getTextLayout=e.isValidDrawImageSource=void 0;const r=i(9271),s=i(5597),l=i(1481),c=i(3488),d=n(i(3106)),h=i(6571);class NativeValues{constructor(){this.lastGlobalAlpha=1}}e.isValidDrawImageSource=t=>t.width>0&&t.height>0;e.getTextLayout=(t,e,i,o,a,n,r,s,c)=>{const h=[];for(let u=0;u<r.length;u++){const v=r[u];let g=0,f=0;for(let t=0;t<v.size();t++)f+=v.getWidth(t);const y="middle"===s?t-f/2:"start"===s?t:t-f;for(let t=0;t<v.size();t++){const r=v.getText(t),s=v.getFormat(t),f=v.getWidth(t),x=y+g,m=s.fontFamily,R=`${!c&&s.italic?"italic ":""}${i}px ${m}`,b=o+l.LINE_HEIGHT_CORRECTION[m],w=e+u*b,S={lineHeight:b,ascent:a,descent:n},A=x,C=w-S.ascent,I=x+f+(s.italic?(0,d.extraItalicWidth)(S):0),M=w-S.descent;h.push({format:s,text:r,width:f,draw:{font:R,fontSize:i,x,y:w,lineHeight:b},bounds:{x:A,y:C,x1:I,y1:M,width:I-A,height:M-C}}),g+=f}}return h};class RenderContext{get targetWidth(){return this.nativeCanvas.width/this.renderScaleMultiplier}get targetHeight(){return this.nativeCanvas.height/this.renderScaleMultiplier}static buildDefault(t,e){return new RenderContext(t,!1,1,1,r.Matrix3.create(),e)}constructor(t,e,i,o,a,n){this.cameraTransformMatrixI=r.Matrix3.create(),this.ctxValues=new NativeValues,this.ctxValuesStack=[],this.nativeCanvas=t.canvas,this.native=t.ctx,this.isViewport=e,this.renderScaleMultiplier=i,this.cameraScale=o,this.cameraTransformMatrixI.set(a),this.shadowColor=n,this.renderScale=this.cameraScale*this.renderScaleMultiplier,this.startRendering()}startRendering(){this.native.imageSmoothingEnabled=!0,this.native.globalAlpha=this.ctxValues.lastGlobalAlpha,this.setupViewportTransform()}setStrokeStyle(t,e,i,o=0,a="butt",n="miter"){this.native.strokeStyle=t,this.native.lineWidth=e,this.setLineDash(i),this.native.lineDashOffset=o,this.native.lineCap=a,this.native.lineJoin=n}resetStrokeStyle(){this.native.strokeStyle="#000",this.native.lineWidth=1,this.native.setLineDash([]),this.native.lineDashOffset=0,this.native.lineCap="butt",this.native.lineJoin="miter"}setLineDash(t){return this.native.setLineDash(t)}setGlobalAlpha(t){this.ctxValues.lastGlobalAlpha!==t&&(this.ctxValues.lastGlobalAlpha=t,this.native.globalAlpha=t)}clear(){this.saveContext(),this.native.resetTransform(),this.native.clearRect(0,0,this.nativeCanvas.width,this.nativeCanvas.height),this.restoreContext()}transform(t,e,i,o,a,n){this.native.transform(t,e,i,o,a,n)}setTransform(t,e,i,o,a,n){this.native.setTransform(t,e,i,o,a,n)}translate(t,e){this.native.translate(t,e)}translateRotateAndScale(t,e,i,o){this.native.translate(t,e),this.native.rotate(i),this.native.scale(o,o)}undoTranslateRotateAndScale(t,e,i,o){this.native.scale(1/o,1/o),this.native.rotate(-i),this.native.translate(-t,-e)}saveContextValues(){this.ctxValuesStack.push(Object.assign({},this.ctxValues))}restoreContextValues(){const t=this.ctxValuesStack;t.length>0&&(this.ctxValues=t.pop())}saveContext(){this.native.save(),this.saveContextValues()}restoreContext(){this.native.restore(),this.restoreContextValues()}saveTransform(){this.saveContext()}restoreTransform(){this.restoreContext()}saveClip(){this.saveContext()}restoreClip(){this.restoreContext()}saveClipAndTransform(){this.saveContext()}restoreClipAndTransform(){this.restoreContext()}clipRectangle(t,e,i,o){this.native.beginPath(),this.native.rect(t,e,i,o),this.native.closePath(),this.native.clip()}clipEllipse(t,e,i,o){this.drawEllipseOutline(t+i/2,e+o/2,i,o),this.native.clip()}setupViewportTransform(){const t=this.cameraTransformMatrixI;this.native.setTransform(t[0],t[1],t[3],t[4],t[2],t[5])}finishRendering(){this.native.imageSmoothingEnabled=!0,this.native.globalAlpha=1}drawImage(t,i,o,a,n,r){if(r&&"number"==typeof t.width&&"number"==typeof t.height){const e=a/t.width,s=n/t.height;let l=n,c=a,d=0,h=0;e<s?(l=t.height*e,h=r.centerY?(n-l)/2:0):s<e&&(c=t.width*s,d=r.centerX?(a-c)/2:0),i+=d,o+=h,a=c,n=l}(0,e.isValidDrawImageSource)(t)&&this.native.drawImage(t,i,o,a,n)}drawImageDest(t,i,o,a,n,r,s,l,c){(0,e.isValidDrawImageSource)(t)&&this.native.drawImage(t,i,o,a,n,r,s,l,c)}fillRect(t,e,i,o,a){this.native.fillStyle=a,this.native.fillRect(t,e,i,o)}fillText(t,e,i,o,a,n,r){this.setTextStyle(o,n,r,a),this.native.fillText(t,e,i),this.resetTextStyle()}setTextStyle(t,e,i,o){this.ctxValues.lastFont!==t&&(this.ctxValues.lastFont=t,this.native.font=t),this.ctxValues.lastTextAlign!==e&&(this.ctxValues.lastTextAlign=e,this.native.textAlign=e),this.ctxValues.lastTextBaseline!==i&&(this.ctxValues.lastTextBaseline=i,this.native.textBaseline=i),this.native.fillStyle=o}resetTextStyle(){this.native.fillStyle="#000000"}drawLine(t,e,i,o,a,n,r=s.SOLID_STROKE_PATTERN,l=0){this.native.beginPath(),this.native.moveTo(t,e),this.native.lineTo(i,o),this.setStrokeStyle(a,n,r,l),this.native.stroke(),this.resetStrokeStyle()}drawDotsGrid(t,e,i,o,a,n,r){if(!((0,s.isTransparent)(r)||n<=0)){this.native.fillStyle=r;for(let r=e;r<=o;r+=a)for(let e=t;e<=i;e+=a)this.native.beginPath(),this.native.arc(e,r,n/2,0,2*Math.PI),this.native.fill()}}drawEllipseOutline(t,e,i,o){null===o&&(o=i);const a=i/2,n=o/2;t-=a,e-=n;const r=a*RenderContext.KAPPA,s=n*RenderContext.KAPPA,l=t+i,c=e+o,d=t+a,h=e+n;this.native.beginPath(),this.native.moveTo(t,h),this.native.bezierCurveTo(t,h-s,d-r,e,d,e),this.native.bezierCurveTo(d+r,e,l,h-s,l,h),this.native.bezierCurveTo(l,h+s,d+r,c,d,c),this.native.bezierCurveTo(d-r,c,t,h+s,t,h),this.native.closePath()}createCenteredRadialGradient(t,e,i,o,a){const n=this.native.createRadialGradient(t,e,i,t,e,o),r=Object.keys(a).map(Number);for(let t=0;t<r.length;t++){const e=r[t];n.addColorStop(e/100,a[e])}return n}drawEllipse(t,e,i,o,a,n,r,l,c=1){const d=this.native.globalAlpha;1!==c&&(this.native.globalAlpha=c*d),this.drawEllipseOutline(t+i/2,e+o/2,i,o),(0,s.isTransparent)(a)||(this.native.fillStyle=a,this.native.fill()),r>0&&(this.setStrokeStyle(n,r,l),this.native.stroke(),this.resetStrokeStyle()),1!==c&&(this.native.globalAlpha=d)}drawPartialEllipse(t,e,i,o,a,n,r,l,c,d){this.native.beginPath(),this.native.ellipse(t+i/2,e+o/2,i/2,o/2,-Math.PI/2,c,d),(0,s.isTransparent)(a)||(this.native.fillStyle=a,this.native.fill()),r>0&&(this.setStrokeStyle(n,r,l),this.native.stroke(),this.resetStrokeStyle())}drawRectangle(t,e,i,o,a,n,r,l=s.SOLID_STROKE_PATTERN){(0,s.isTransparent)(a)||(this.native.fillStyle=a,this.native.fillRect(t,e,i,o)),r>0&&(this.native.beginPath(),this.native.rect(t,e,i,o),this.native.closePath(),this.setStrokeStyle(n,r,l),this.native.stroke(),this.resetStrokeStyle())}drawRoundedRectangle(t,e,i,o,a,n,r,l,c){Math.abs(i)<2*a&&(a=Math.abs(i)/2),Math.abs(o)<2*a&&(a=Math.abs(o)/2),a<0&&(a=0),this.native.beginPath(),this.native.moveTo(t+(i>0?a:-a),e),this.native.arcTo(t+i,e,t+i,e+o,a),this.native.arcTo(t+i,e+o,t,e+o,a),this.native.arcTo(t,e+o,t,e,a),this.native.arcTo(t,e,t+i,e,a),this.native.closePath(),(0,s.isTransparent)(n)||(this.native.fillStyle=n,this.native.fill()),l>0&&(this.setStrokeStyle(r,l,c),this.native.stroke(),this.resetStrokeStyle())}drawPath(t,e,i,o,a="nonzero",n,r="butt",l="miter",c=0){(0,s.isTransparent)(o)||(this.native.fillStyle=o,this.native.fill(t,a)),i>0&&(this.setStrokeStyle(e,i,n,c,r,l),this.native.stroke(t),this.resetStrokeStyle())}drawTextBox(t,e){if(0!==t.length){for(let i=0;i<t.length;i++){const o=t[i],{bounds:a,format:n,text:r,width:l,draw:c}=o,{x:u,y:v,fontSize:g,lineHeight:f}=c,y=n.markTextColor||n.color||"black";if(n.markHighlightColor){const t=f*h.TEXT_HIGHLIGHT_CORNER_RADIUS_RATIO;this.drawRoundedRectangle(a.x,a.y,l,a.height,t,n.markHighlightColor,s.transparent,0,s.SOLID_STROKE_PATTERN)}if(this.setTextStyle(c.font,"left","alphabetic",y),e&&n.italic&&(this.native.save(),(0,d.default)(this.native,v)),this.native.fillText(r,u,v),e&&n.italic&&this.native.restore(),n.underline||n.strike){const t=.075*g;if(n.underline){const e=v+2*t-1;this.drawLine(u,e,u+l,e,y,t)}if(n.strike){const t=.1*g,e=v-.25793650793650796*g-t/2;this.drawLine(u,e,u+l,e,y,t)}}}this.resetTextStyle()}}drawTextBoxAsLines(t){if(0===t.length)return;const e=.25*t[0].draw.fontSize;let i="black";this.native.beginPath();for(let o=0;o<t.length;o++){const a=t[o];if((0,c.isWhiteSpace)(a.text))continue;i=a.format.color||"black";const n=a.draw.x,r=a.draw.y-e/2,s=a.bounds.width;this.native.moveTo(n,r),this.native.lineTo(n+s,r)}this.setStrokeStyle(i,e,s.SOLID_STROKE_PATTERN),this.native.stroke(),this.resetStrokeStyle()}}e.RenderContext=RenderContext,RenderContext.KAPPA=.551784},6571:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDebugCanvasFactory=e.createCanvasFactory=e.arrowTipPath=e.TEXT_HIGHLIGHT_CORNER_RADIUS_RATIO=e.BORDER_RATIO=void 0,e.BORDER_RATIO=.27,e.TEXT_HIGHLIGHT_CORNER_RADIUS_RATIO=.1429,e.arrowTipPath="\n    m -13.558,0.02130509\n    c 0,3 -0.988,5.77 -2.636,8\n    l 21,-8 -21,-8\n    c 1.648,2.229 2.636,4.992 2.636,8\n    z\n  ";const buildCanvasCollection=()=>new Map,createCanvasFactoryInternal=t=>({getCanvasMemoryStats:()=>{let e=0;const i=t.size;return t.forEach(((t,i)=>{e+=i.width*i.height*4})),{usedMemory:e,count:i}},createCanvas:(e,i,o,a=!0)=>{const n=document.createElement("canvas");n.width=e,n.height=i;const r=n.getContext("2d",{alpha:a});return t.set(n,{hint:o}),{canvas:n,ctx:r}},destroyCanvas:e=>{e.width=0,e.height=0,t.delete(e)}});e.createCanvasFactory=()=>createCanvasFactoryInternal(buildCanvasCollection());e.createDebugCanvasFactory=()=>{const t=buildCanvasCollection(),e=createCanvasFactoryInternal(t);return Object.assign(Object.assign({},e),{getAllCanvases:()=>[...t.keys()],findCanvasByHint:e=>{for(const i of t){const t=i[0];if(i[1].hint===e)return t}return null}})}},3106:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extraItalicWidth=void 0;const i=-14*Math.PI/180,o=Math.tan(i),a=Math.abs(Math.sin(i));e.default=(t,e)=>{t.transform(1,0,o,1,-e*o,0)};e.extraItalicWidth=t=>t.ascent*a},5088:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.convertWidgetsToWidgetPrimitives=void 0;const a=i(5888),n=o(i(9086)),r=o(i(7341));e.convertWidgetsToWidgetPrimitives=function convertWidgetsToWidgetPrimitives(t,e,i,o={},s,l=!1,c=!1,d=!1){const h=(0,r.default)(e,o),u=(0,n.default)(t,e,i,o,s,l,c,d).map(h),{onBeforeRender:v}=o;return(v?u.map(((t,e)=>v(i[e],t,a.hookHelpers))):u).filter(a.isWidgetPrimitive)}},6873:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmartShape=e.SMART_SHAPE_PRECISION=void 0;const o=i(3488),a=i(3257),n=i(4738),r=i(226);e.SMART_SHAPE_PRECISION=6;const s=[[{x:0,y:.5},{x:1,y:0}],[{x:.5,y:0},{x:0,y:1}],[{x:1,y:.5},{x:-1,y:0}],[{x:.5,y:1},{x:0,y:-1}]];e.SmartShape=class SmartShape{constructor(t,e,i){this._cachedClosestSnapPointFn=null,this._pointArray=t.pointArray.map((({x:t,y:e})=>({x:t,y:e}))),this._template=t,this._width=e,this._height=i,this.update()}setSize(t,e){this._width=t,this._height=e,this.update()}getTextRect(){const t=this._pointArray,{textRect:e}=this._template,{x:i,y:o}=t[e.topLeft],{x:a,y:n}=t[e.bottomRight];return{x:i,y:o,width:a-i,height:n-o}}getConnectionPoints(){const{connectionPoints:t}=this._template;return t.length?t.map((t=>this._pointArray[t])):s.map((([t,e])=>{const i=this.getClosestSnapPoint({x:t.x*this._width,y:t.y*this._height},e);return i?{x:i.x,y:i.y}:null})).filter(o.isNotNil)}getQuickAdds(){return this._template.quickAdds.map((({location:t,direction:e})=>{const i=(0,n.convertShapeLocationToShapeSpacePoint)(this._pointArray,this._template,t);if(i)return{position:i,direction:e}})).filter(o.isNotNil)}calculateFlexSizeAndScale(){const{designerSize:t,mostCompactAffixedSize:e,resizeMode:i}=this._template,{_width:o,_height:a}=this;if("scale-first"===i){const i=o/t.w,n=a/t.h,r=Math.min(i,n);if(r<=0)return{xFlex:0,yFlex:0,scale:0};return{xFlex:Math.max(0,this._width/r-e.w),yFlex:Math.max(0,this._height/r-e.h),scale:r}}if("flex-only"===i){return{xFlex:Math.max(0,this._width-e.w),yFlex:Math.max(0,this._height-e.h),scale:1}}return console.error("Smart Shape: Unknown resize mode "+i),{xFlex:0,yFlex:0,scale:1}}asStringPaths(){let t=-1,i=-1;const o=this._template.paths.map((o=>o.instructions.map((o=>{const a=this._pointArray[o.pti];switch(-1===t&&(t=o.pti),i=o.pti,o.type){case"move":return`M${a.x.toFixed(e.SMART_SHAPE_PRECISION)} ${a.y.toFixed(e.SMART_SHAPE_PRECISION)}`;case"line-to":return`L${a.x.toFixed(e.SMART_SHAPE_PRECISION)} ${a.y.toFixed(e.SMART_SHAPE_PRECISION)}`;case"cubic-bezier-to":{const t=this._pointArray[o.cp0],i=this._pointArray[o.cp1];return`C${t.x.toFixed(e.SMART_SHAPE_PRECISION)} ${t.y.toFixed(e.SMART_SHAPE_PRECISION)} ${i.x.toFixed(6)} ${i.y.toFixed(e.SMART_SHAPE_PRECISION)} ${a.x.toFixed(e.SMART_SHAPE_PRECISION)} ${a.y.toFixed(e.SMART_SHAPE_PRECISION)}`}}})).join("")));return t>=0&&i>=0&&((t,e)=>{const i=e.x-t.x,o=e.y-t.y;return i*i+o*o<1})(this._pointArray[t],this._pointArray[i])&&o.push("Z"),o}getClosestSnapPoint(t,e){if(null===this._cachedClosestSnapPointFn){const t=this._template.paths.reduce(((t,e)=>[...t,...e.instructions]),[]);this._cachedClosestSnapPointFn=(0,r.buildFindSnapPointInSmartPathFn)(this._pointArray,t,this._width,this._height)}const i=this._cachedClosestSnapPointFn(t,e);return i.found?{x:i.closestPoint.x,y:i.closestPoint.y,direction:i.direction}:null}update(){const{xFlex:t,yFlex:e,scale:i}=this.calculateFlexSizeAndScale();(0,a.updatePathPointsReferencedInRanges)(this._pointArray,this._template.xRanges,t,i,this._template.designerOffset.x,"x"),(0,a.updatePathPointsReferencedInRanges)(this._pointArray,this._template.yRanges,e,i,this._template.designerOffset.y,"y"),this._cachedClosestSnapPointFn=null}}},3257:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updatePathPointsReferencedInRanges=void 0;const xSetter=(t,e,i)=>t[e].x=i,ySetter=(t,e,i)=>t[e].y=i;e.updatePathPointsReferencedInRanges=(t,e,i,o,a,n)=>{const r="x"===n?xSetter:ySetter;let s=a;for(const a of e){const e="flex"===a.mode?a.flexProportion*i:"affix"===a.mode?a.vLength:0;for(const i of a.pointsSpan){const{vRatio:a,pti:n}=i;r(t,n,(e*a+s)*o)}s+=e}}},4738:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertShapeLocationToShapeSpacePoint=e.cubicBezierAt1D=e.cubicBezierAt=e.lineSegmentAt=void 0;e.lineSegmentAt=(t,e,i)=>({x:t.x*(1-i)+e.x*i,y:t.y*(1-i)+e.y*i});e.cubicBezierAt=(t,e,i,o,a)=>{const n=a*a,r=a*a*a;return{x:r*o.x+(3*n-3*r)*i.x+(3*r-6*n+3*a)*e.x+(3*n-r-3*a+1)*t.x,y:r*o.y+(3*n-3*r)*i.y+(3*r-6*n+3*a)*e.y+(3*n-r-3*a+1)*t.y}};e.cubicBezierAt1D=(t,e,i,o,a)=>{const n=a*a,r=a*a*a;return r*o+(3*n-3*r)*i+(3*r-6*n+3*a)*e+(3*n-r-3*a+1)*t};e.convertShapeLocationToShapeSpacePoint=(t,i,o)=>{const{paths:a}=i;if("contour"===o.location){const i=a[o.pathIndex],n=o.pathInstructionIndex;if(n>0){const a=i.instructions[n-1],r=i.instructions[n],s=o.t;if("line-to"===r.type){const i=t[a.pti],o=t[r.pti];return(0,e.lineSegmentAt)(i,o,s)}if("cubic-bezier-to"===r.type){const i=t[a.pti],o=t[r.pti],n=t[r.cp0],l=t[r.cp1];return(0,e.cubicBezierAt)(i,n,l,o,s)}}}}},226:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.buildFindSnapPointInSmartPathFn=e.getSnapInfoFromLines=e.bezierToLineSegmentsAuto=void 0;const a=o(i(5874)),n=i(8698),r=i(9689),pointsToLines=(t,e)=>{const i=[];for(let o=1;o<e.length;o++)i.push({instIndex:t,p0:e[o-1],p1:e[o],t0:o/(e.length-1),t1:(o-1)/(e.length-1)});return i};e.bezierToLineSegmentsAuto=(t,e)=>{const i=t.getLUT(10),o=r.Point.sequenceLength(i),a=Math.min(Math.max(1,o/5,50));return pointsToLines(e,a>10?t.getLUT(a):i)};function getSnapInfoFromLines(t,e,i,o,a){const s=e&&(0!==e.x||0!==e.y)?{p0:{x:t.x,y:t.y},p1:{x:t.x+1e3*e.x,y:t.y+1e3*e.y},instIndex:-1,t0:0,t1:1}:null;let l=null;for(const e of i){if(e.p0.x===e.p1.x&&e.p0.y===e.p1.y)continue;let i,o;if(null!==s){const t=n.Line.intersection(e,s);if(null===t)continue;i=t.point,o=t.t}else{const{tProjected:a,pointProjected:r}=n.Line.projectPoint(t,e);i=r,o=a}const a=r.Point.cartesianDistance(i,t);(null===l||a<l.cartDistance)&&(l={cartDistance:a,point:i,t:o,line:e})}if(null===l)return{partialShapeLocation:{location:"outside",x:t.x,y:t.y},closestPoint:t,distance:0,direction:{x:0,y:0},found:!1};const c=n.Line.normalPointingOutwards(l.line,{x:o,y:a},l.point);return{partialShapeLocation:{location:"contour",pathInstructionIndex:l.line.instIndex,t:l.t},closestPoint:l.point,distance:r.Point.cartesianDistanceToDistance(l.cartDistance),direction:c,found:!0}}e.getSnapInfoFromLines=getSnapInfoFromLines;e.buildFindSnapPointInSmartPathFn=(t,i,o,n)=>{const r=((t,i)=>{let o=t[i[0].pti];const n=[];for(let r=0;r<i.length;r++){const s=i[r],l=t[s.pti];if("line-to"===s.type)n.push({instIndex:r,p0:o,p1:l,t0:0,t1:1});else if("cubic-bezier-to"===s.type){const i=o,c=l,d=t[s.cp0],h=t[s.cp1],u=(0,e.bezierToLineSegmentsAuto)(new a.default(i,d,h,c),r);n.push(...u)}o=l}return n})(t,i);return(t,e)=>getSnapInfoFromLines(t,e,r,o/2,n/2)}},9689:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point=void 0;var o=i(9314);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return o.Point}})},3488:(t,e,i)=>{"use strict";var o=i(4155);Object.defineProperty(e,"__esModule",{value:!0}),e.isWhiteSpace=e.fromDataUrl=e.toDataUrl=e.sanitizeSvg=e.getRuntimeInfo=e.getAspectRatio=e.getStrokePattern=e.getStrokePatternClassic=e.mapOnlyIfChanges=e.getKeys=e.isNotNil=e.flatten=void 0;const a=i(5597),n=["&amp;","&lt;","&gt;","&nbsp;"];e.flatten=function flatten(t){return[].concat(...t)},e.isNotNil=function isNotNil(t){return null!=t},e.getKeys=function getKeys(t){return Object.keys(t)},e.mapOnlyIfChanges=function mapOnlyIfChanges(t,e){let i=null;for(let o=0;o<t.length;o++){const a=t[o],n=e(a);a!==n&&(null===i&&(i=t.slice()),i[o]=n)}return null!==i?i:t};e.getStrokePatternClassic=(t,e)=>{switch(t){case"-":return[2*e,2*e];case".":case"dotted":return[e,e];case". ":return[2*e,6*e];default:return a.SOLID_STROKE_PATTERN}};e.getStrokePattern=(t,i,o)=>{var n;if(o){const e=(0,a.normalizeStrokeStyle)(t);if(""===e)return a.SOLID_STROKE_PATTERN;{const t=null===(n=o[e])||void 0===n?void 0:n[i];if(t)return[t.dashLength,t.gapLength]}}return(0,e.getStrokePatternClassic)(t,i)};e.getAspectRatio=({centerX:t,centerY:e})=>`x${t?"Mid":"Min"}Y${e?"Mid":"Min"}`;const r=[{renderer:"UHD GRAPHICS 620",bugs:["context-lost-detection-hiccups","clear-whole-canvas-before-fill-faster"]}];let s=null;e.getRuntimeInfo=()=>{var t;if(null!==s)return s;if((()=>void 0!==o&&null!=o.versions&&null!=o.versions.node)())s={runtime:"node",chromiumFlavour:"none",deviceType:"unknown",mobile:!1,screen:{nativeRenderScaleMultiplier:1,resolution:{width:0,height:0},gpu:{vendor:"",renderer:"",bugs:new Set}}};else{const e=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")||!1,i=e&&navigator.userAgent&&(!!navigator.userAgent.match(/iPad/i)||!!navigator.userAgent.match(/iPhone/i))||!1,o=e&&navigator.userAgent&&(!i||!!navigator.userAgent.match(/iPad/i))&&navigator.maxTouchPoints>1,a=window&&void 0!==window.chrome||navigator.userAgent&&(navigator.userAgent.indexOf("Chromium")>=0||navigator.userAgent.indexOf("Chrome")>=0)||!1,n=a&&navigator.userAgent&&!!navigator.userAgent.match(/Android/i)||!1,l=a&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.brave)||void 0===t?void 0:t.isBrave),c=a&&navigator.userAgent&&navigator.userAgent.indexOf("Edg/")>=0,d=new Set;let h="",u="";try{const t=document.createElement("canvas").getContext("webgl");if(t){const e=t.getExtension("WEBGL_debug_renderer_info");null!=e?(h=(t.getParameter(e.UNMASKED_VENDOR_WEBGL)||"").toUpperCase(),u=(t.getParameter(e.UNMASKED_RENDERER_WEBGL)||"").toUpperCase()):(h=(t.getParameter(t.VENDOR)||"").toUpperCase(),u=(t.getParameter(t.RENDERER)||"").toUpperCase()),t.canvas.width=0,t.canvas.height=0}}catch(t){console.error("Error retrieving GPU info")}if(u)for(const t of r)u.includes(t.renderer)&&t.bugs.forEach((t=>d.add(t)));const v=(()=>{const t=document.createElement("div");document.body.appendChild(t),t.setAttribute("style","height: 1in; left: -100%; position: absolute; top: -100%; width: 1in;");const e=window.devicePixelRatio||1,i=Math.round(t.offsetWidth*e),o=Math.round(t.offsetHeight*e);return document.body.removeChild(t),i>101||o>101?2:1})(),g=window.screen.width*v,f=window.screen.height*v,y=c&&u.toUpperCase().includes("UHD GRAPHICS 620")&&3840===g&&2560===f;s={runtime:e?"safari":a?"chrome":"unknown",chromiumFlavour:a?l?"brave":c?"edge":"chrome":"none",mobile:i||o||n,debugVendor:navigator&&navigator.vendor?navigator.vendor:void 0,debugUserAgent:navigator&&navigator.userAgent?navigator.userAgent:void 0,deviceType:o?"ipad":y?"SurfaceHub2":"unknown",screen:{nativeRenderScaleMultiplier:v,resolution:{width:g,height:f},gpu:{vendor:h,renderer:u,bugs:d}}}}return s};const setAttribute=(t,e,i)=>void 0!==i?`${t.replace(new RegExp(` ${e}="[^"]*"`),"")} ${e}="${i}"`:t,setViewBoxAttribute=(t,e,i,o)=>setAttribute(t,e,void 0!==i?i:void 0!==o?o:void 0),extractFirstCapture=(t,e)=>(t.match(e)||[])[1]||"",sanitizeSvgDashArrayValues=t=>{if(/[^\d\s.,%]/g.test(t))return"";return t.split(/[\s,]+/).some((t=>0===parseFloat(t)))?"":t};e.sanitizeSvg=(t,i={})=>{const o=t.indexOf("<svg");let a=((t,{x:e,y:i,width:o,height:a,preserveAspectRatio:n})=>{const r=extractFirstCapture(t,/^<svg([^>]*)>/);let[s,l,c,d]=extractFirstCapture(r,/ viewBox="([^"]+)"/).split(/\s+/).map(Number).filter((t=>Number.isFinite(t))),h="";void 0!==s&&void 0!==l&&void 0!==c&&void 0!==d||(s=Number(extractFirstCapture(r,/ x="([^"]+)"/))||0,l=Number(extractFirstCapture(r,/ y="([^"]+)"/))||0,c=Number(extractFirstCapture(r,/ width="([^"]+)"/))||100,d=Number(extractFirstCapture(r,/ height="([^"]+)"/))||100,h=`viewBox="${s} ${l} ${c} ${d}"`);let u=r;return u=setViewBoxAttribute(u,"x",e,s),u=setViewBoxAttribute(u,"y",i,l),u=setViewBoxAttribute(u,"width",o,c),u=setViewBoxAttribute(u,"height",a,d),n&&(u=setAttribute(u,"preserveAspectRatio",n)),`<svg${u} ${h} ${t.substr(r.length+4)}`})(t.substr(o).replace(/&[^;]+;/g,(t=>-1!==n.indexOf(t)?t:t.substring(1,t.length-1))),i);return i.color&&(a=((t,e)=>{const i=t.replace(/(fill|stroke)="([^'";]+)"/g,((t,i,o)=>"none"!==o.trim()?`${i}="${e}"`:t)).replace(/(fill|stroke):([^'";}]+)/gi,((t,i,o)=>"none"!==o.trim()?`${i}:${e}`:t));return i.match(/^<svg[^>]*fill=[^>]*/)?i:i.replace(/^<svg/,`<svg fill="${e}"`)})(a,i.color)),a=(t=>t.replace(/stroke-dasharray="([^'";]+)"/gi,((t,e)=>`stroke-dasharray="${sanitizeSvgDashArrayValues(e)}"`)).replace(/stroke-dasharray:([^'";]+);/gi,((t,e)=>`stroke-dasharray:${sanitizeSvgDashArrayValues(e)};`)))(a),a=(t=>{if(t.indexOf("filter")<0)return t;let i=t.replace(/filter="(.*)"/g,"");if("node"!=(0,e.getRuntimeInfo)().runtime){const t=(new DOMParser).parseFromString(i,"application/xml"),e=t.getElementsByTagName("filter");for(let t=0;t<e.length;t++){const i=e.item(t);null==i||i.remove()}i=(new XMLSerializer).serializeToString(t)}return i})(a),a};e.toDataUrl=(t,e)=>`data:${t};base64,${e}`;e.fromDataUrl=t=>{const[e,i]=(t.match(/data:([^;]+);base64,(.*)/)||[]).slice(1);return{mimeType:e,base64Content:i}};e.isWhiteSpace=t=>{for(let e=0;e<t.length;e++)if(" "!==t[e]&&""!==t[e])return!1;return!0}},5287:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AstGroupNode=void 0;const o=i(3012),a=i(5281),n=i(6649),r=i(3244),s=i(6008),deepEqual=(t,e)=>{if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t))return!!Array.isArray(e)&&(t.length===e.length&&t.every(((t,i)=>deepEqual(t,e[i]))));if(Array.isArray(e))return!1;if("object"==typeof t&&t){if("object"!=typeof e||!e)return!1;const i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;return new Set([...i,...o]).size===i.length&&i.every((i=>deepEqual(t[i],e[i])))}return!1};function astEqual(t,e){return t===e||null!==t&&null!==e&&(t.type===e.type&&((!(0,a.isDrawingPrimitiveSimpleWithSize)(t)||t.type!==e.type||t.width===e.width&&t.height===e.height)&&deepEqual(t,e)))}class AstPrimitiveState{constructor(t,e,i){this.renderOverflow=0,this.destroyFns=null,this.viewportFns=null,this.ast=t,this.node=e;const o={invalidate:e.invalidate.bind(e),unitLengthForContext:e.unitLengthForContext.bind(e),enableCache:()=>e.enableCache(i.canvasFactory,i.runtimeInfo),setRenderOverflow:t=>{const i=Math.max(this.renderOverflow,t);i>this.renderOverflow&&(this.renderOverflow=i,i>e.renderOverflow&&e.setRenderOverflow(i))},registerDestroy:t=>{null===this.destroyFns&&(this.destroyFns=[]),this.destroyFns.push(t)},registerViewportVisibilityChanged:t=>{e.registerViewportVisibilityChanged(t),null===this.viewportFns&&(this.viewportFns=[]),this.viewportFns.push(t)},setLoadingProgress:(t,e)=>{this.node.animate.setLoadingProgress(t,e)},hasLoadingProgress:()=>this.node.isAnimating()&&this.node.animate.hasLoadingInProgress(),getShadowProperties:()=>this.node.shadowProperties},a=(0,n.drawSimpleAstToFns)(t,{width:e.width/e.scaleX,height:e.height/e.scaleY},i,o);this.draw_=a.draw,this.disposeCache_=a.disposeCache,this.hit_=(0,r.drawSimpleAstToHitFns)(t),this.hitRect_=(0,r.drawSimpleAstToHitRectFns)(t)}draw(t){this.draw_(t)}disposeCache(){this.disposeCache_()}hit(t,e,i,o){return this.hit_(t,e,i,o)}hitRect(t,e,i,o,a,n){return this.hitRect_(t,e,i,o,a,n)}destroy(){var t,e;null===(t=this.destroyFns)||void 0===t||t.forEach((t=>t())),this.destroyFns=null,null===(e=this.viewportFns)||void 0===e||e.forEach((t=>this.node.unregisterViewportVisibilityChanged(t))),this.viewportFns=null}}class AstGroupNode extends o.MNode{constructor(t,e){super(t),this.lastState=null,this.primitives=[],this.context=e}initInternal(t){const e=this.minimapShape!==t.minimapShape;super.initInternal(t);let i=e;this.primitives.length!==t.drawingAst.length&&(this.primitives.forEach((t=>t.destroy())),this.primitives.length=0,i=!0);for(let e=0;e<t.drawingAst.length;e++){const o=t.drawingAst[e];if(!astEqual(o,e<this.primitives.length?this.primitives[e].ast:null)){const t=new AstPrimitiveState(o,this,this.context);e<this.primitives.length?(this.primitives[e].destroy(),this.primitives[e]=t):this.primitives.push(t),i=!0}}let o=0;for(let t=0;t<this.primitives.length;t++)o=Math.max(o,this.primitives[t].renderOverflow);this.setRenderOverflow(o),i&&this.invalidate(!0)}willRender(){return this.primitives.length>0}renderImpl(t){const e=this.primitives;for(let i=0;i<e.length;i++)e[i].draw(t)}disposeCache(){super.disposeCache();const t=this.primitives;for(let e=0;e<t.length;e++)t[e].disposeCache()}hitTest(t,e,i){const o=this.primitives;if(o.length>0){const a=this.initHitTester();let n=!1;for(let r=0;r<o.length;r++)if(o[r].hit(t,e,i,a)){n=!0;break}return n}return!1}hitTestRect(t,e,i,o,a){const n=this.primitives;if(n.length>0){const r=this.initHitTester();let s=!1;for(let l=0;l<n.length;l++)if(n[l].hitRect(t,e,i,o,a,r)){s=!0;break}return s}return!1}initHitTester(){return null===AstGroupNode.hitTester&&(AstGroupNode.hitTester=new s.HitTester),AstGroupNode.hitTester}destroy(){this.primitives.forEach((t=>t.destroy())),super.destroy()}}e.AstGroupNode=AstGroupNode,AstGroupNode.hitTester=null},4835:function(t,e,i){"use strict";var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))((function(a,n){function fulfilled(t){try{step(o.next(t))}catch(t){n(t)}}function rejected(t){try{step(o.throw(t))}catch(t){n(t)}}function step(t){t.done?a(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createEngineBrowser=e.createEngine=e.createEngineConfig=void 0;const n=a(i(303)),r=i(4929),s=i(6571),l=i(3488),c=i(3188),d=i(3523),h=i(4474),u=a(i(3151)),v=i(5492),g=i(169),f=i(7321),y=i(1275),x=i(9848),m=i(8134),createGifsLoader=(t,e,{cacheSizeInMBs:i})=>{const a=new x.GifProfilerImpl({cacheSizeInMBs:i}),n=new h.GifCacheManager(f.createRealWorker,t,i,a),r=new v.GifsManager(new g.FPSPlaybackStrategy);r.initializeAutoUpdate();const s=(0,u.default)(n,r,t,a,(t=>(e,i)=>o(void 0,void 0,void 0,(function*(){if((0,m.isBase64DataUrl)(e))return(0,m.getBase64FromDataUrlAsBuffer)(e);const o=yield t(e,{forceBase64:!0},{widget:i,cacheToken:{externalId:null==i?void 0:i.ownerId,cacheKey:{id:e,levelOfDetail:0}}});return(0,m.getBase64FromDataUrlAsBuffer)(o)})))(e));return{gifProfiler:a,gifsLoader:s}};e.createEngineConfig=(t,e,i)=>{var o;const a=(0,n.default)({apiHost:"",staticHost:"",jwt:""}),c=(0,l.getRuntimeInfo)(),h=(0,d.parseGifFeatureFlags)(c,null===(o=t.featureFlags)||void 0===o?void 0:o.gif),u=(0,s.createCanvasFactory)(),{gifsLoader:v,gifProfiler:g}=createGifsLoader(u,t.fetchAssetFn,h),f=Object.assign(Object.assign({},t),{getImageFromUrl:(0,r.getCanvasImageFromUrl)(t.fetchAssetFn,((t,e)=>v.load(t,e))),textFunctions:{measureText:a.buildMeasureText(new Map),splitTextItem:a.buildSplitTextItem(new Map)},renderScaleMultiplier:i||c.screen.nativeRenderScaleMultiplier,runtimeInfo:c,canvasFactory:u,hooks:Object.assign(Object.assign({},t.hooks),{onDestroy:()=>{var e;v.destroyGifLoader(),(null===(e=t.hooks)||void 0===e?void 0:e.onDestroy)&&t.hooks.onDestroy()}}),gifProfiler:g,detectContextLost:e,onContextRestored:()=>v.resetGifLoader()});return f};e.createEngine=(t,e,i)=>{const o=t.detectContextLost?(0,c.buildContextLostListener)(t.runtimeInfo,t.canvasFactory):(0,c.buildDummyContextLostListener)();return(0,y.createMuralEngine)(t,e,o,void 0,void 0,void 0,i)};e.createEngineBrowser=(t,i,o)=>{const a=(0,e.createEngineConfig)(t,!0,o);return(0,e.createEngine)(a,i,t.style)}},6516:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCacheActions=void 0;e.createCacheActions=(t,e)=>({evictImage:i=>{let o;e.remove(i.cacheKey),i.externalId&&(o=t.get(i.externalId),o&&(t.remove(o.id),t.add(o))),console.log(`Engine image cache eviction - widget: ${i.externalId||"null"} - key lod: ${i.cacheKey.levelOfDetail} - key id: ${i.cacheKey.id} - found?: ${!!o}`)}})},9425:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEngineConfig=void 0;e.getEngineConfig=(t,e,i,o,a,n,r)=>({background:e,bounds:{x:i.x||0,y:i.y||0,width:i.width,height:i.height},canvas:o,canvasOverlay:a,canvasMinimap:n,drawExplicitShadows:t.drawExplicitShadows,maxImageLodOutsideViewport:t.maxImageLodOutsideViewport,layers:t.layers,clearColor:t.ctxBackground,onViewportChange:t.onViewportChange,onContextRestored:t.onContextRestored,renderScaleMultiplier:t.renderScaleMultiplier,viewport:{x:t.viewport.x,y:t.viewport.y,zoom:t.viewport.zoom},runtimeInfo:t.runtimeInfo,contextLostListener:r})},3188:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildContextLostListener=e.CONTEXT_LOST_SOURCE_CANVAS_HINT=e.buildDummyContextLostListener=void 0;e.buildDummyContextLostListener=()=>({onContextLost:()=>{},onContextRestored:()=>{},destroy:()=>{}}),e.CONTEXT_LOST_SOURCE_CANVAS_HINT="context-lost-draw-canvas",e.buildContextLostListener=function buildContextLostListener(t,i,o=((t,e)=>setTimeout(t,e))){if("chrome"!==t.runtime||"brave"===t.chromiumFlavour)return(0,e.buildDummyContextLostListener)();if(t.screen.gpu.bugs.has("context-lost-detection-hiccups"))return console.warn("Context lost detection disabled due to GPU bug!!"),(0,e.buildDummyContextLostListener)();let{canvas:a,ctx:n}=i.createCanvas(1,1,e.CONTEXT_LOST_SOURCE_CANVAS_HINT),{canvas:r,ctx:s}=i.createCanvas(1,1);if(!n||!s)return console.error("initContextLostListener(): 2d context initialization failed"),(0,e.buildDummyContextLostListener)();let l=!1,c=!1;const d=[255,0,0],randomColor=()=>Math.floor(245*Math.random())+5,updateSourceCanvas=()=>{d[0]=randomColor(),d[1]=randomColor(),d[2]=randomColor(),n.clearRect(0,0,1,1),n.fillStyle=`rgb(${d[0]},${d[1]},${d[2]})`,n.fillRect(0,0,1,1)},isCanvasContentValid=()=>{s.drawImage(a,0,0);const t=s.getImageData(0,0,1,1);if(4!==t.data.length)return!1;const e=t.data[0]===d[0]&&t.data[1]===d[1]&&t.data[2]===d[2];return updateSourceCanvas(),e},h=[],u=[],detectContextLostAndRecovery=()=>{c||(l?((()=>{const{canvas:t,ctx:o}=i.createCanvas(1,1,e.CONTEXT_LOST_SOURCE_CANVAS_HINT),{canvas:l,ctx:c}=i.createCanvas(1,1);o&&c?(i.destroyCanvas(r),i.destroyCanvas(a),r=l,s=c,a=t,n=o):(i.destroyCanvas(t),i.destroyCanvas(l))})(),updateSourceCanvas(),isCanvasContentValid()&&(l=!1,u.forEach((t=>t())))):isCanvasContentValid()||(l=!0,h.forEach((t=>t()))),o(detectContextLostAndRecovery,1e3))};return updateSourceCanvas(),o(detectContextLostAndRecovery,1e3),{onContextLost:t=>h.push(t),onContextRestored:t=>u.push(t),destroy:()=>{i.destroyCanvas(a),i.destroyCanvas(r),u.length=0,u.length=0,c=!0}}}},3523:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseGifFeatureFlags=void 0;e.parseGifFeatureFlags=(t,e)=>t.mobile?"safari"==t.runtime?{cacheSizeInMBs:e&&Number.isFinite(e.mobileSafariCacheSizeInMBs)?e.mobileSafariCacheSizeInMBs:0}:{cacheSizeInMBs:e&&Number.isFinite(e.mobileCacheSizeInMBs)?e.mobileCacheSizeInMBs:16}:{cacheSizeInMBs:e&&Number.isFinite(e.desktopCacheSizeInMBs)?e.desktopCacheSizeInMBs:256}},6883:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasPool=void 0;e.CanvasPool=class CanvasPool{constructor(t){this.reusableCanvases=[],this.canvasFactory=t}getCanvas(t,e){const i=this.reusableCanvases.pop();return i?(i.width=t,i.height=e,{canvas:i,ctx:i.getContext("2d")}):this.canvasFactory.createCanvas(t,e)}releaseCanvas(t){t.width=0,t.height=0,this.reusableCanvases.push(t)}destroyCanvas(t){this.canvasFactory.destroyCanvas(t)}destroy(){for(const t of this.reusableCanvases)this.canvasFactory.destroyCanvas(t);this.reusableCanvases.length=0}}},4474:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GifCacheManager=void 0;const o=i(6883),a=i(9962);e.GifCacheManager=class GifCacheManager{constructor(t,e,i=512,a){this.cacheMap=new Map,this.gifsToRemoveFromCache=new Set,this.spaceToClean=0,this.workerPool=new Array(2),this.createWorker=t,this.reusableCanvasPool=new o.CanvasPool(e),this.gifProfiler=a,this.totalSpaceForCache=i*Math.pow(10,6),this.spaceLeft=this.totalSpaceForCache;for(let t=0;t<2;t++)this.workerPool[t]=this.createWorker(),this.workerPool[t].onmessage=t=>this.onWorkerMessage(t.data)}createImageDecoder(t,e,i){if(this.cacheMap.has(t))return;const o=this.workerPool[t%2];this.cacheMap.set(t,new a.GifFramesCanvasCache(t,o,i,this.gifProfiler,this.reusableCanvasPool)),o.postMessage({arrayBuffer:e,type:"gif-load",gifId:t})}getFrame(t,e){const i=this.cacheMap.get(t);if(!i)return null;this.tryToFlagForCaching(i);let o=i.getFrame(e);return null===o&&(o=i.getFrame(e)),o&&this.gifProfiler.newFrame(t.toString(),o),o}onWorkerMessage(t){const e=this.cacheMap.get(t.gifId);if(e)switch(t.type){case"gif-info":e.setGifInfo(t),this.gifProfiler.initializeGif(t.gifId.toString(),t.width,t.height,t.headers);break;case"frame":e.processDecodedFrameMessage(t)}}markForRemovalFromCache(t){const e=this.cacheMap.get(t);e&&e.shouldCache&&(e.shouldCache=!1,this.spaceToClean+=e.totalSize,this.gifsToRemoveFromCache.add(e))}tryToFlagForCaching(t){if(!t.shouldCache)return this.gifsToRemoveFromCache.has(t)?(t.shouldCache=!0,this.spaceToClean-=t.totalSize,void this.gifsToRemoveFromCache.delete(t)):this.spaceLeft>=t.totalSize?(t.shouldCache=!0,this.gifProfiler.setCached(t.gifId.toString(),!0),void(this.spaceLeft-=t.totalSize)):this.spaceLeft+this.spaceToClean>t.totalSize?(this.cleanUpSpaceMarkedForRemoval(t.totalSize),t.shouldCache=!0,this.gifProfiler.setCached(t.gifId.toString(),!0),void(this.spaceLeft-=t.totalSize)):void 0}cleanUpSpaceMarkedForRemoval(t){let e=0;for(const i of this.gifsToRemoveFromCache)if(i&&(e+=i.totalSize||0,i.cleanCachedFrames()),this.gifProfiler.setCached(i.gifId.toString(),!1),this.gifsToRemoveFromCache.delete(i),this.spaceLeft+e>t)break;this.spaceToClean-=e,this.spaceLeft+=e}calcSpaceUsed(){let t=0;for(const e of this.cacheMap.values())t+=e.usedSpace;return t}destroy(t){var e;null===(e=this.cacheMap.get(t))||void 0===e||e.destroyGifCache(),this.cacheMap.delete(t)}resetGifCacheManager(){this.cacheMap.forEach((t=>t.destroyGifCache())),this.cacheMap.clear(),this.gifsToRemoveFromCache.clear(),this.reusableCanvasPool.destroy()}destroyGifCacheManager(){this.resetGifCacheManager(),this.workerPool.forEach((function terminateWorker(t){t.onmessage=()=>{},t.terminate()})),this.workerPool.length=0}}},9962:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GifFramesCanvasCache=void 0;const o=i(8168);e.GifFramesCanvasCache=class GifFramesCanvasCache{constructor(t,e,i,o,a){this.width=0,this.height=0,this.framesNum=0,this.totalDuration=0,this.totalSize=0,this.usedSpace=0,this.shouldCache=!1,this.framesBeingDecoded=new Set,this.frameHeaders=[],this.decodedFrames=new Map,this.cachedFrames=new Map,this.temporaryCanvas=null,this.gifId=t,this.worker=e,this.initializeGifCb=i,this.reusableCanvasPool=a,this.gifProfiler=o}setGifInfo(t){this.width=t.width,this.height=t.height,this.framesNum=t.headers.length,this.frameHeaders=t.headers,this.totalDuration=t.headers.reduce(((t,e)=>t+e.delayMs),0),this.totalSize=t.headers.reduce(((t,e)=>t+e.width*e.height*4),0);const e=this.createImageData(t.firstFrame,this.width,this.height);this.saveFrameImageData(0,e);const i=this.getFrame(0);this.initializeGifCb(this.width,this.height,this.frameHeaders,i)}processDecodedFrameMessage(t){const e=this.createImageData(t.frame,this.frameHeaders[t.frameIndex].width,this.frameHeaders[t.frameIndex].height);this.saveFrameImageData(t.frameIndex,e)}createImageData(t,e,i){return new ImageData(new Uint8ClampedArray(t),e,i)}saveFrameImageData(t,e){this.framesBeingDecoded.delete(t),this.decodedFrames.set(t,e),this.usedSpace+=e.data.buffer.byteLength}decodeFrame(t){t%=this.framesNum,this.cachedFrames.has(t)||this.decodedFrames.has(t)||this.framesBeingDecoded.has(t)||(this.framesBeingDecoded.add(t),this.gifProfiler.addDecodeRequest(!0),this.worker.postMessage({frames:[t],gifId:this.gifId,type:"decode"}))}getFrame(t){this.temporaryCanvas&&(this.reusableCanvasPool.releaseCanvas(this.temporaryCanvas),this.temporaryCanvas=null);const e=this.cachedFrames.get(t);if(e){if((0,o.isValidDrawImageSource)(e))return this.gifProfiler.addDecodeRequest(!1),Object.assign(Object.assign({},this.frameHeaders[t]),{image:e});this.removeCachedFrame(t,!0)}const i=this.decodedFrames.get(t);if(i){const e=this.frameHeaders[t].width,o=this.frameHeaders[t].height,{canvas:a,ctx:n}=this.reusableCanvasPool.getCanvas(e,o);return n.putImageData(i,0,0),this.shouldCache?this.cachedFrames.set(t,a):this.temporaryCanvas=a,this.decodedFrames.delete(t),this.decodeFrame(t+1),Object.assign(Object.assign({},this.frameHeaders[t]),{image:a})}return this.framesBeingDecoded.has(t)||this.decodeFrame(t),null}removeCachedFrame(t,e=!1){const i=this.cachedFrames.get(t);i&&(e?this.reusableCanvasPool.destroyCanvas(i):this.reusableCanvasPool.releaseCanvas(i),this.cachedFrames.delete(t),this.usedSpace-=this.frameHeaders[t].width*this.frameHeaders[t].height*4||0)}cleanCachedFrames(){for(let t=0;t<this.framesNum;t++)this.removeCachedFrame(t)}destroyGifCache(){this.worker.postMessage({type:"destroy",gifId:this.gifId}),this.temporaryCanvas&&(this.reusableCanvasPool.releaseCanvas(this.temporaryCanvas),this.temporaryCanvas=null),this.cachedFrames.forEach((t=>this.reusableCanvasPool.releaseCanvas(t)))}}},3548:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasFrameRenderer=void 0;const o=i(8168);e.CanvasFrameRenderer=class CanvasFrameRenderer{constructor(t){this._width=0,this._height=0,this._lastFrameDisposal=-1,this._lastFrameBounds={x:0,y:0,width:0,height:0},this._canvasFactory=t;const{canvas:e,ctx:i}=this._canvasFactory.createCanvas(1,1);this._canvas=e,this._ctx=i}initialize(t,e,i){if(this._width=t,this._height=e,this._canvas.width=t,this._canvas.height=e,i.some((t=>3===t.disposal))){const{canvas:i,ctx:o}=this._canvasFactory.createCanvas(t,e);this._lastFrameSavedCanvas=i,this._lastFrameSavedCtx=o}}drawFrame(t){const e=this._ctx;if(0===t.frameIndex)e.clearRect(0,0,this._width,this._height);else switch(this._lastFrameDisposal){case 0:case 1:break;case 2:e.clearRect(this._lastFrameBounds.x,this._lastFrameBounds.y,this._lastFrameBounds.width,this._lastFrameBounds.height);break;case 3:if(this._lastFrameSavedCanvas&&(0,o.isValidDrawImageSource)(this._lastFrameSavedCanvas))e.drawImage(this._lastFrameSavedCanvas,0,0);else{this._canvasFactory.destroyCanvas(this._lastFrameSavedCanvas);const{canvas:t,ctx:e}=this._canvasFactory.createCanvas(this._width,this._height);this._lastFrameSavedCanvas=t,this._lastFrameSavedCtx=e}}this._lastFrameBounds.x=t.x,this._lastFrameBounds.y=t.y,this._lastFrameBounds.width=t.width,this._lastFrameBounds.height=t.height,this._lastFrameDisposal=t.disposal,3===t.disposal&&(0,o.isValidDrawImageSource)(this.canvas)&&this._lastFrameSavedCtx.drawImage(this.canvas,0,0),(0,o.isValidDrawImageSource)(t.image)&&e.drawImage(t.image,t.x,t.y)}destroyCanvasFrameRenderer(){this._lastFrameSavedCanvas&&this._canvasFactory.destroyCanvas(this._lastFrameSavedCanvas),this._canvasFactory.destroyCanvas(this._canvas)}resetCanvasFrameRenderer(){if(this._lastFrameSavedCanvas){this._canvasFactory.destroyCanvas(this._lastFrameSavedCanvas);const{canvas:t,ctx:e}=this._canvasFactory.createCanvas(this._width,this._height);this._lastFrameSavedCanvas=t,this._lastFrameSavedCtx=e}this._canvasFactory.destroyCanvas(this._canvas);const{canvas:t,ctx:e}=this._canvasFactory.createCanvas(1,1);this._canvas=t,this._ctx=e}get canvas(){return this._canvas}}},3151:function(t,e,i){"use strict";var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))((function(a,n){function fulfilled(t){try{step(o.next(t))}catch(t){n(t)}}function rejected(t){try{step(o.throw(t))}catch(t){n(t)}}function step(t){t.done?a(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const a=i(3228),n=new Set;let r=0;const buildGifOrGetFromCache=(t,e,i,o,s,l,c,d)=>{const h=t.get(e),u=h||((t,e,i,o,s,l,c)=>{let d=0;const h=l(t,c),u=new Map,v=new Set;let g=null;const f=r++,y=new Map,destroyGif=()=>{g&&(o.stop(g),n.delete(g),g.destroy(),g=null)};return{type:"animated",destroy:()=>{u.forEach((t=>t.destroy())),destroyGif()},buildPlayer:()=>{const t=d++;o.unmarkForDestruction(f),g||(s.addGif(f.toString()),g=new a.GifImage(f,i,e,(()=>o.stop(g)),(()=>{for(const t of v){const e=y.get(t);e&&e()}})),h.then((t=>{g?(g.setRawData(t),n.add(g)):console.error("AnimatedImagePlayer Error: GIF fetched after it was destroyed.")})).catch((t=>{console.error(t)}))),s.addGifInstance(f.toString(),t.toString());const r={image:g.canvas,play:()=>{var e;g?(v.add(t),s.setGifInstanceOnScreen(f.toString(),t.toString(),!0),1==v.size?o.play(g):null===(e=y.get(t))||void 0===e||e()):console.error("AnimatedImagePlayer Error: Started a player of an unexistant GIF")},stop:()=>{g?(v.delete(t),s.setGifInstanceOnScreen(f.toString(),t.toString(),!1),0==v.size&&(o.stop(g),i.markForRemovalFromCache(f))):console.error("AnimatedImagePlayer Error: Stopped a player of an unexistant GIF")},setNewFrameCallback:e=>y.set(t,e),readyForNextFrame:()=>{},destroy:()=>{if(r.stop(),u.delete(t),y.delete(t),s.deleteGifInstance(f.toString(),t.toString()),0==u.size){let t=5;o.markForDestruction(f,(()=>{t--,0===t&&destroyGif()}))}}};return u.set(t,r),r}}})(e,i,o,s,l,c,d);return h||t.set(e,u),u};e.default=function buildGifLoader(t,e,i,a,r){const s=new Map,l=r||(t=>fetch(t).then((t=>{if(t.status>=400)throw new Error("Gif download error");return t.arrayBuffer()})));return{load:(n,r,c)=>{const d=c?((t,e)=>(i,a)=>o(void 0,void 0,void 0,(function*(){e(0,!0);const o=yield t(i,a);return e(1,!0),o})))(l,c):l;return buildGifOrGetFromCache(s,n,i,t,e,a,d,r)},resetGifLoader:()=>{n.forEach((t=>t.resetGifImage())),t.resetGifCacheManager()},destroyGifLoader:()=>{e.destroy(),s.forEach((t=>{var e;return null===(e=t.destroy)||void 0===e?void 0:e.call(t)})),s.clear(),n.forEach((t=>t.destroy())),n.clear(),t.destroyGifCacheManager()}}}},3228:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GifImage=void 0;const o=i(3548);e.GifImage=class GifImage{constructor(t,e,i,a,n){this.state=0,this.currentFrame=-1,this.timeLeftTillNextFrame=-1,this.framesNum=-1,this.gifId=t,this.cache=e,this.onFramePaintedCb=n,this.frameRenderer=new o.CanvasFrameRenderer(i),this.stopUpdatingCb=a}setRawData(t){this.cache.createImageDecoder(this.gifId,t,this.initialize.bind(this))}initialize(t,e,i,o){this.frameRenderer.initialize(t,e,i),this.framesNum=i.length,this.drawFrame(o),this.currentFrame=0,1===this.framesNum?(this.state=3,this.stopUpdatingCb()):this.state=1,this.timeLeftTillNextFrame=o.delayMs}advanceTime(t){return 1!==this.state||(this.timeLeftTillNextFrame-=t,this.timeLeftTillNextFrame<=0&&(this.state=2)),this.state}paintNextFrame(){if(2!==this.state)return this.state;const t=(this.currentFrame+1)%this.framesNum,e=this.cache.getFrame(this.gifId,t);return null==e?2:(this.drawFrame(e),this.currentFrame=t,this.timeLeftTillNextFrame=e.delayMs,this.state=1,1)}drawFrame(t){this.frameRenderer.drawFrame(t),this.onFramePaintedCb()}destroy(){this.frameRenderer.destroyCanvasFrameRenderer(),this.cache.destroy(this.gifId)}resetGifImage(){this.frameRenderer.resetCanvasFrameRenderer()}get canvas(){return this.frameRenderer.canvas}get gifReproductionState(){return this.state}}},5492:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GifsManager=void 0;const o=i(169);e.GifsManager=class GifsManager{constructor(t=new o.NoPlaybackChangeStrategy,e=new o.NoPlaybackChangeStrategy){this.isAutoUpdating=!1,this.requestAnimationFrameHandle=null,this.markedForDestruction=new Map,this.gifsOnScreen=new Set,this.gifsToRedrawQueue=[],this.dtMultiplier=o.MAX_DT_MULTIPLIER,this._lastUpdate=0,this.gifPlaybackDeltaTimeStrategy=t,this.gifPlaybackQueueStrategy=e}initializeAutoUpdate(){this.isAutoUpdating=!0,this.gifsOnScreen.size>0&&this.resumeAutoUpdate()}autoUpdate(t){if(this._lastUpdate){const e=t-this._lastUpdate;this.advanceGifsTimes(e),this.paintGifs(t),this.countdownDestroyed(),this.dtMultiplier=this.gifPlaybackDeltaTimeStrategy.updatePlaybackSpeedFromDeltaTime(this.dtMultiplier,e)}this._lastUpdate=t,this.requestAnimationFrameHandle=requestAnimationFrame((t=>this.autoUpdate(t)))}manualUpdate(t){this.advanceGifsTimes(t),this.paintGifs(),this.countdownDestroyed()}advanceGifsTimes(t){const e=t*this.dtMultiplier;this.gifsOnScreen.forEach((t=>{2===t.advanceTime(e)&&this.gifsToRedrawQueue.push(t)}))}paintGifs(t){if(this.gifsToRedrawQueue.length>0){const e=[],i=[];this.gifsToRedrawQueue.forEach((o=>{t&&performance.now()-t>4?e.push(o):2===o.paintNextFrame()&&i.push(o)})),this.gifsToRedrawQueue=[...e,...i],this.dtMultiplier=this.gifPlaybackQueueStrategy.updatePlaybackSpeedFromQueue(this.dtMultiplier,this.gifsToRedrawQueue.length)}}countdownDestroyed(){for(const t of this.markedForDestruction.values())t()}play(t){3!==t.gifReproductionState&&(this.gifsOnScreen.add(t),this.isAutoUpdating&&this.gifsOnScreen.size>0&&this.resumeAutoUpdate())}stop(t){this.gifsOnScreen.delete(t),this.isAutoUpdating&&0===this.gifsOnScreen.size&&this.pauseAutoUpdate()}resumeAutoUpdate(){null===this.requestAnimationFrameHandle&&(this.requestAnimationFrameHandle=requestAnimationFrame((t=>this.autoUpdate(t))))}pauseAutoUpdate(){null!==this.requestAnimationFrameHandle&&(cancelAnimationFrame(this.requestAnimationFrameHandle),this.requestAnimationFrameHandle=null,this._lastUpdate=0)}markForDestruction(t,e){this.markedForDestruction.set(t,e)}unmarkForDestruction(t){this.markedForDestruction.delete(t)}destroy(){this.pauseAutoUpdate(),this.isAutoUpdating=!1,this.gifsOnScreen.clear(),this.gifsToRedrawQueue.length=0,this.markedForDestruction.clear()}}},169:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoPlaybackChangeStrategy=e.FPSPlaybackStrategy=e.MIN_DT_MULTIPLIER=e.MAX_DT_MULTIPLIER=void 0,e.MAX_DT_MULTIPLIER=1,e.MIN_DT_MULTIPLIER=1/Math.pow(2,4);e.FPSPlaybackStrategy=class FPSPlaybackStrategy{constructor(){this.FRAMES_TO_AVERAGE_FAST_FPS=5,this.FAST_FRAMERATE_FPS=40,this.SLOW_FRAMERATE_FPS=29,this.frameCountForAverage=0,this.dtSumForAverage=0}updatePlaybackSpeedFromDeltaTime(t,e){this.frameCountForAverage++,this.dtSumForAverage+=e;const i=1e3*this.frameCountForAverage/this.dtSumForAverage;return i<this.SLOW_FRAMERATE_FPS&&(t=this.slowDownGif(t)),this.frameCountForAverage>=this.FRAMES_TO_AVERAGE_FAST_FPS&&(i>this.FAST_FRAMERATE_FPS&&(t=this.speedUpGif(t)),this.frameCountForAverage=0,this.dtSumForAverage=0),t}slowDownGif(t){return Math.max(t-.2,e.MIN_DT_MULTIPLIER)}speedUpGif(t){return Math.min(t+.1,e.MAX_DT_MULTIPLIER)}};e.NoPlaybackChangeStrategy=class NoPlaybackChangeStrategy{updatePlaybackSpeedFromQueue(t){return t}updatePlaybackSpeedFromDeltaTime(t){return t}}},7321:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createRealWorker=void 0;const a=o(i(380));e.createRealWorker=()=>new a.default},3244:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawSimpleAstToHitRectFns=e.drawSimpleAstToHitFns=void 0;const i=15,o=20,a=4,n=10;function hitWidthFromZoom(t,e){return e/t}function getHitWidthByHitTest(t,e,r){switch(t){case 1:return function hitWidthMuralCoords(t,e){return e*t>o?o/t:e*t<a?a/t:e}(e,i);case 2:return hitWidthFromZoom(e,n);case 3:return hitWidthFromZoom(e,n+r);default:return 0}}e.drawSimpleAstToHitFns=function drawSimpleAstToHitFns(t){switch(t.type){case"Ellipse":{const{x:e,y:i,width:o,height:a,hitTest:n}=t;return 4===n?()=>!1:(r,s,l,c)=>c.hitTestEllipse(r,s,e,i,o,a,getHitWidthByHitTest(n,l,t.strokeWidth),n)}case"Line":{const{hitTest:e,x1:i,y1:o,x2:a,y2:n}=t;return(r,s,l,c)=>c.hitTestLine(r,s,i,o,a,n,getHitWidthByHitTest(e,l,t.strokeWidth))}case"Path":{const{path:e,hitTest:i}=t;if(4===i)return()=>!1;const o=new Path2D(e);return(e,a,n,r)=>r.hitTestPath(e,a,o,getHitWidthByHitTest(i,n,t.strokeWidth),i)}case"Rectangle":{const{x:e,y:i,width:o,height:a,hitTest:n}=t;return 4===n?()=>!1:(r,s,l,c)=>c.hitTestRectangle(r,s,e,i,o,a,getHitWidthByHitTest(n,l,t.strokeWidth),n)}case"Image":case"TextBox":case"WrappedTextBox":{const{x:e,y:i,width:o,height:a,hitTest:n}=t;return 4===n?()=>!1:(t,r,s,l)=>l.hitTestRectangle(t,r,e,i,o,a,getHitWidthByHitTest(n,s,0),n)}case"NoOp":return()=>!1}},e.drawSimpleAstToHitRectFns=function drawSimpleAstToHitRectFns(t){switch(t.type){case"Line":{const{x1:e,y1:i,x2:o,y2:a,strokeWidth:n}=t;return(t,r,s,l,c,d)=>{const h=n/2;return d.hitTestRectLine(t-h,r-h,s+2*h,l+2*h,e,i,o,a)}}case"Path":{const{path:e,strokeWidth:i,hitTest:o}=t,dummyFn=()=>!0;if(4===o)return()=>!1;if(1!==o&&2!==o)return dummyFn;if(e.length>500)return dummyFn;if(!function isCurvedArrowPath(t){return!t.replace(/[MC]/g,"").match(/[A-Za-z]/)}(e))return dummyFn;const a=e.replace(/[^0-9.-]/g," ").replace(/\s+/g," ").trim().split(" ").map(parseFloat);if(14!==a.length&&8!==a.length)return dummyFn;const n={start:{x:a[0],y:a[1]},c1:{x:a[2],y:a[3]},c2:{x:a[4],y:a[5]},end:{x:a[6],y:a[7]}},r=14===a.length?{start:{x:a[6],y:a[7]},c1:{x:a[8],y:a[9]},c2:{x:a[10],y:a[11]},end:{x:a[12],y:a[13]}}:null;return(t,e,o,a,s,l)=>{const c=i/2,d=t-c/2,h=e-c/2,u=o+c/2*2,v=a+c/2*2,hitTestRect=t=>l.hitTestRectPoint(d,h,u,v,t.x,t.y);return!!(hitTestRect(n.start)||hitTestRect(n.end)||null!==r&&hitTestRect(r.end))||(l.hitTestRectCubicBezier(d,h,u,v,n,s)||null!==r&&l.hitTestRectCubicBezier(d,h,u,v,r,s))}}case"Rectangle":case"Image":case"TextBox":case"WrappedTextBox":case"Ellipse":return()=>4!==t.hitTest;case"NoOp":return()=>!1}}},6008:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HitTester=void 0;const o=i(1356);function distanceBetweenPoints(t,e,i,o){const a=i-t,n=o-e;return Math.sqrt(a*a+n*n)}function pointInsideEllipse(t,e,i,o,a,n){if(i<=0||o<=0)return!1;const r=a-t,s=n-e;return r*r/(i*i)+s*s/(o*o)<1}e.HitTester=class HitTester{constructor(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="black",this.ctx.strokeStyle="black",this.canUseCanvasHitTest=!!this.ctx.isPointInPath&&!!this.ctx.isPointInStroke}hitTestLine(t,e,i,o,a,n,r){return function distanceBetweenPointAndSegment(t,e,i,o,a,n){const r=a-i,s=n-o,l=r*r+s*s;if(Math.abs(l)<1e-4)return distanceBetweenPoints(t,e,i,o);let c=((t-i)*r+(e-o)*s)/l;return c=Math.max(0,Math.min(1,c)),distanceBetweenPoints(t,e,i+c*r,o+c*s)}(t,e,i,o,a,n)<r}hitTestRectLine(t,e,i,o,a,n,r,s){return function aabbContainsSegment(t,e,i,o,a,n,r,s){if(t<a&&i<a||e<n&&o<n||t>r&&i>r||e>s&&o>s)return!1;const l=(o-e)/(i-t);let c=l*(a-t)+e;if(c>=n&&c<=s)return!0;if(c=l*(r-t)+e,c>=n&&c<=s)return!0;let d=(n-e)/l+t;return d>=a&&d<=r||(d=(s-e)/l+t,d>=a&&d<=r)}(a,n,r,s,t,e,t+i,e+o)}hitTestPath(t,e,i,o,a){if(!this.canUseCanvasHitTest)return!0;let n=!1;return this.ctx.lineWidth=o,0===a&&(n=this.ctx.isPointInPath(i,t,e)),n=n||this.ctx.isPointInStroke(i,t,e),n}hitTestRectPoint(t,e,i,o,a,n){return a<t+i&&a>t&&n<e+o&&n>e}hitTestRectCubicBezier(t,e,i,a,n,r){let s=0,l=0,c=0;const d=(0,o.generateEvalBezier)(n.start.x,n.start.y,n.c1.x,n.c1.y,n.c2.x,n.c2.y,n.end.x,n.end.y),h={x:0,y:0};for(let o=0;o<=1;o+=.1){if(d(o,h),o>0){const t=h.x-l,e=h.y-c;s+=Math.sqrt(t*t+e*e)}if(l=h.x,c=h.y,h.x<=t+i&&h.x>=t&&h.y<=e+a&&h.y>=e)return!0}const u=Math.min(Math.max(s*r/16,10),200),v=1/u,g=s/u*(2/3),f=t-g,y=e-g,x=t+i+g,m=e+a+g;for(let t=0;t<=1;t+=v)if(d(t,h),h.x<=x&&h.x>=f&&h.y<=m&&h.y>=y)return!0;return!1}hitTestEllipse(t,e,i,o,a,n,r,s){if(a<=0||n<=0)return!1;let l=!1;const c=a/2,d=n/2,h=i+c,u=o+d;return 0===s&&(l=pointInsideEllipse(h,u,c,d,t,e)),l=l||pointInsideEllipse(h,u,c+r,d+r,t,e)&&!pointInsideEllipse(h,u,Math.max(c-r,0),Math.max(d-r,0),t,e),l}hitTestRectangle(t,e,i,o,a,n,r,s){if(t<i+a+r&&t>i-r&&e<o+n+r&&e>o-r)switch(s){case 0:return!0;case 1:case 2:return t>i+a-r||t<i+r||e>o+n-r||e<o+r;case 3:return t>i+a||t<i||e>o+n||e<o}return!1}}},6980:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createHoverActions=void 0;const o=i(3488),a=i(8134);e.createHoverActions=t=>({at:(e,i,o)=>t.nodes.hover.at(e,i,o),widgets:(e,i={})=>{let n=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;e.map((e=>t.nodes.getSafe(e))).filter(o.isNotNil).forEach((t=>{n=Math.min(n,t.aabbSelfOnlyWithoutRenderOverflow.x),r=Math.min(r,t.aabbSelfOnlyWithoutRenderOverflow.y),s=Math.max(s,t.aabbSelfOnlyWithoutRenderOverflow.x1),l=Math.max(l,t.aabbSelfOnlyWithoutRenderOverflow.y1)}));const draggedWidgetsFitInside=({bbox:t})=>t.x<=n&&s<=t.x1&&t.y<=r&&l<=t.y1,c=new Set(i.excludeIds?[...e,...i.excludeIds]:e);e.forEach((e=>{const i=t.nodes.getUnsafe(e);if(!i)return;let o=i.parent;for(;o;)c.add(o.externalId),o=o.parent}));const d=t.nodes.getAllAt(n,r,0);let h=null;for(const t of d){const e=(0,a.getWidgetForNode)(t);if(e&&!c.has(e.id)){if(draggedWidgetsFitInside(e)){h=e;break}c.add(e.id)}}return h?(t.nodes.hover.over(h.id),h):(t.nodes.hover.clear(),null)},clear:()=>t.nodes.hover.clear(),lock:(e,i)=>{t.nodes.hover.lock(e,i)},unlock:(e,i)=>{t.nodes.hover.unlock(e,i)},clearLocked:()=>{t.nodes.hover.clearLocked()}})},1275:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createMuralEngine=void 0;const a=o(i(738)),n=i(3339),r=i(729),s=i(5836),l=i(1246),c=i(6909),d=i(4988),h=i(5888),u=i(5086),v=i(6516),g=i(9425),f=i(3188),y=i(6980),x=i(4812),m=i(359),R=i(6960),b=i(4786),w=i(3407),S=i(8134),A=i(8107),C=i(1771),I=i(2964),M=i(3433),T=i(1381),addWidgetsToEngine=(t,e,i,o,a,n,r,s,l,c)=>{const d=(0,C.getNodeStatesFromWidgets)(t,e,o,a,n,r,s,c);i.nodes.updateOrBuildNodeFromState((t=>(0,C.buildSingleNodeGroup)(t,l)),(t=>({externalId:t,animations:{},border:0,children:[],hint:null,stackingLayer:0,stackingOrder:0,state:0,minimapShape:null,parentId:null,selectionShapes:null,selectionDrawNodeIdsOnTopOnSelected:null,selectionDrawNodeIdsOnBottomOnSelected:null,dontCleanChildrenOnUpdate:!0,dummy:!0,transform:{x:0,y:0,width:0,height:0,scale:1,rotation:0},drawingAst:[],clip:null,hasNonTrivialRotation:!1,hideAtZoomLevel:null})),d)},buildCanvasEngine=(t,e,i,o,a,r)=>{const s=t.canvasFactory,l=(0,S.createCanvasFromConfig)(s,t.canvas,!1),c=(0,S.createCanvasFromConfig)(s,Object.assign(Object.assign({},t.canvas),{className:t.canvas.className?`${t.canvas.className}-overlay`:void 0,ariaLabel:void 0,tabIndex:-1}),!0);c.canvas.style.pointerEvents="none";const d=(0,S.createCanvasFromConfig)(s,t.minimap,!0),h=(0,g.getEngineConfig)(t,o,a,l,c,d,e),u=(0,n.createCanvasEngine)([],h,i,s,r);return{engine:u,canvasEngineConfig:h,destroyEngine:()=>{u.destroy(),s.destroyCanvas(l.canvas),s.destroyCanvas(c.canvas),s.destroyCanvas(d.canvas)}}};e.createMuralEngine=(t,e,i,o=(()=>{}),n={},g={},_)=>{var L,O,P,E,N;const z="safari"!==t.runtimeInfo.runtime,k=(0,u.createImageCache)(z,t.canvasFactory,null===(L=t.featureFlags)||void 0===L?void 0:L.imageCache),D=t.imageCacheProxyBuilder?t.imageCacheProxyBuilder(k):k,F=(0,a.default)(e.labelTypes)||{},B=new s.ArrowLabelOverlapHolesEffect,j=new d.TrackTableCellsEffect,H=(0,r.fillPartialMuralStyleWithDefaults)(_),W=new l.WidgetsEffectComposite([new c.FixGridEffect(H.widgets),j,B]),U=(0,h.getWidgets)(e),G=(0,M.createReactionsInternalApi)(null!==(O=t.reactionsMode)&&void 0!==O?O:"normal"),V={getHoles:t=>B.getHoles(t),getTableCellsGrid:t=>j.getTableCellsGrid(t),getUserId:()=>{var e;return null!==(e=t.userId)&&void 0!==e?e:""},reactions:{getEnabled:()=>G.getEnabled(),getExpanded:t=>G.areExpanded(t),getHidden:t=>G.areHidden(t),getMode:()=>G.getMode()}},Y=Object.assign(Object.assign({},n),{maxImageLodOutsideViewport:t.maxImageLodOutsideViewport,drawExplicitShadows:t.drawExplicitShadows}),Z={imageCache:D,runtimeInfo:t.runtimeInfo,canvasFactory:t.canvasFactory,textFunctions:t.textFunctions,getImageFromUrl:t.getImageFromUrl,options:Y},{engine:X,destroyEngine:Q}=buildCanvasEngine(t,i,D,null!==(P=e.background)&&void 0!==P?P:void 0,{x:null!==(E=e.x)&&void 0!==E?E:void 0,y:null!==(N=e.y)&&void 0!==N?N:void 0,width:e.width,height:e.height},H),q=(0,R.createScreenshotActions)(X,((t,e)=>Object.assign(Object.assign({},buildCanvasEngine(t,(0,f.buildDummyContextLostListener)(),D,void 0,{x:0,y:0,width:256,height:256},H)),{astContext:{imageCache:D,canvasFactory:t.canvasFactory,textFunctions:t.textFunctions,getImageFromUrl:t.getImageFromUrl,options:e,muralStyle:H,runtimeInfo:t.runtimeInfo}})),t,Y,((t,i,a,n,r)=>{var c;const h=new d.TrackTableCellsEffect,u=new s.ArrowLabelOverlapHolesEffect,v=new l.WidgetsEffectComposite([h,u]).apply({toAddOrUpdate:t}),f=Object.assign(Object.assign({},V),{getTableCellsGrid:t=>h.getTableCellsGrid(t),getHoles:t=>u.getHoles(t)});return addWidgetsToEngine(f,null!==(c=v.toAddOrUpdate)&&void 0!==c?c:[],i,a,o,F,e.id,Object.assign(Object.assign({},g),{dontIncludeStates:r}),n,H.widgets)})),J=(0,I.buildWidgetsProcessor)(X,W,(i=>addWidgetsToEngine(V,i,X,t,o,F,e.id,g,Z,H.widgets))),K=(0,T.buildSmartShapeCache)(),$=(0,A.createWidgetActions)(X,J,((i,a)=>{const n=!(null==a?void 0:a.includeOutOfBoundsElements),r=!!(null==a?void 0:a.excludeInteractiveElements),s=Object.assign(Object.assign({},i),{rotation:0}),l=(0,C.getNodeStatesFromWidgets)(V,[s],t,o,F,e.id,Object.assign(Object.assign({},g),{skipChildren:n,dontIncludeStates:r}),H.widgets);if(1!==l.length)return console.error("measureWidget: Widget to measure not found after Widget -> States conversion"),null;const c=l[0];return(0,S.getWidgetRefForNodeState)(c,a)}),G,F,H.widgets,U,K),tt={debug:X.debug,destroy:()=>{var e;q.onDestroy(),Q(),D.clear(),(null===(e=t.hooks)||void 0===e?void 0:e.onDestroy)&&t.hooks.onDestroy()},dom:X.dom,hover:(0,y.createHoverActions)(X),minimap:X.minimap,mural:X.mural,screenshot:q.actions,selection:X.selection,feedback:X.feedback,text:(0,w.createTextActions)(t.textFunctions),smartShape:(0,b.createSmartShapeActions)(K),viewport:X.viewport,profiler:(0,m.createProfilerActions)(t.gifProfiler),widgets:$,layers:(0,x.createLayerActions)(X),gridlines:X.gridlines,customFeedback:X.customFeedback,customHandle:X.customHandle,cache:(0,v.createCacheActions)($,D),__hackEngine:X};tt.widgets.add(...U);const et=tt.debug.isUseSkipCacheHeuristicOn();return tt.debug.setUseSkipCacheHeuristic(!1),X.render.flushRender(),tt.debug.setUseSkipCacheHeuristic(et),tt}},4812:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLayerActions=void 0;e.createLayerActions=t=>({show:e=>t.customLayers.show(e),hide:e=>t.customLayers.hide(e),addWidget:(e,i)=>{var o;return null===(o=t.nodes.getUnsafe(i))||void 0===o?void 0:o.addToCustomLayer(e)},removeWidget:(e,i)=>{var o;return null===(o=t.nodes.getUnsafe(i))||void 0===o?void 0:o.removeFromCustomLayer(e)}})},4347:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exportEverythingToCSV=void 0;const exportCSV=(t,e)=>{const i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)},exportFrameDataCSV=(t,e,i)=>{let o="gifID, width, height, numFrames, startTime\n";const a=i.get(t);if(void 0!==a){o+=`${t},${a.width},${a.height},${a.frameHeaders.length},${a.timestampInitialized}\n\n`;let i="frameNum",n="width",r="height",s="disposal",l="delayMs",c="min",d="max",h="avg",u="std",v=0,g=0;for(let t=0;t<a.numFrames;t++){const o=a.frameHeaders[t];i+=`,${t}`,n+=`,${o.width}`,r+=`,${o.height}`,s+=`,${o.disposal}`,l+=`,${o.delayMs}`;const f=a.calcStatsForFrame(t,e);c+=`,${f.min}`,d+=`,${f.max}`,h+=`,${f.avg}`,u+=`,${f.std}`,v+=o.delayMs,g+=f.avg}i+="\n",n+="\n",r+="\n",s+="\n",l+=`,${v}, FPS:${1e3/(v/a.numFrames)}\n`,h+=`,${g}, FPS:${1e3/(g/a.numFrames)}\n`,u+="\n",c+="\n",d+="\n",o+=i+n+r+s+l+h+u+c+d+"\n";const f=[];for(let t=0;t<a.numFrames;t++){const i=a.delayTimestampsPerFrame[t];for(let o=0;o<i.length&&o<e;o++)void 0===f[o]&&(f[o]=[]),f[o][t]=i[o]}o+=`measurements${",".repeat(a.frameHeaders.length+1)}loopTotalMs\n`;for(const[t,e]of f.entries())e.push(e.reduce(((t,e)=>t+e),0)),o+=`loop ${t},${e.join(",")}\n`}return o};e.exportEverythingToCSV=(t,e,i)=>{((t,e)=>{let i="gifID, width, height, numFrames, startTime\n";for(const t of e.keys()){const o=e.get(t);void 0!==o&&(i+=`${t},${o.width},${o.height},${o.frameHeaders.length},${o.timestampInitialized}\n`)}exportCSV(`${t}-generalInfo.csv`,i)})(t,i);let o="";for(const t of i.keys())o+=exportFrameDataCSV(t,e,i)+"\n\n\n\n\n";exportCSV(`${t}-frameData.csv`,o)}},9848:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GifProfilerImpl=e.GIFInfo=void 0;const o=i(4347);class GIFInfo{constructor(t,e=10,i){this.width=-1,this.height=-1,this.totalPixelSize=0,this.totalMemorySize=0,this.numFrames=-1,this.currentFrame=0,this.currentLoop=0,this.timestampInitialized=0,this.instances=new Set,this.instancesOnScreen=new Set,this.isCached=!1,this.name=t,this.expectedMeasurements=e,i&&(this.timestampInitialized=performance.now()),this.lastFrameTimestamp=this.timestampInitialized}initialize(t,e,i){this.width=t,this.height=e,this.totalPixelSize=t*e,this.totalMemorySize=i.reduce(((t,e)=>t+e.width*e.height*4),0),this.numFrames=i.length,this.frameHeaders=i,this.delayTimestampsPerFrame=new Array(this.numFrames);for(let t=0;t<this.delayTimestampsPerFrame.length;t++)this.delayTimestampsPerFrame[t]=new Array(this.expectedMeasurements)}nextFrame(t){const e=performance.now();return this.delayTimestampsPerFrame[t.frameIndex][this.currentLoop]=e-this.lastFrameTimestamp,this.lastFrameTimestamp=e,this.currentFrame++,this.currentFrame==this.delayTimestampsPerFrame.length&&(this.currentFrame=0,this.currentLoop++,this.currentLoop==this.expectedMeasurements)}calcStatsForFrame(t,e){const i=t%this.numFrames,o=this.delayTimestampsPerFrame[i].slice(1,e),a=o.reduce(((t,e)=>t+e)),n=o.reduce(((t,e)=>t>e?t:e)),r=o.reduce(((t,e)=>t<e?t:e)),s=a/(e-1),l=Math.sqrt(o.map((t=>Math.pow(t-s,2))).reduce(((t,e)=>t+e))/(e-1));return{min:r,max:n,avg:s,std:l}}get finishedMeasurements(){return this.currentLoop>=this.expectedMeasurements}}e.GIFInfo=GIFInfo;e.GifProfilerImpl=class GifProfilerImpl{constructor(t={cacheSizeInMBs:0}){this._gifs=new Map,this._running=!1,this._profilingsInProgress=0,this._measurementsNeeded=10,this._exportName="gifs",this.telemetryStats={gifDecoderVersion:1,cacheSize:t.cacheSizeInMBs*Math.pow(10,6),cacheUsed:0,decodeRequests:{cacheMisses:0,total:0},onScreen:{amount:0,amountCached:0,totalMemorySize:0,totalMemorySizeCached:0},inMural:{amount:0,distinctAmount:0}}}addGif(t){this._gifs.set(t,new GIFInfo(t,this._measurementsNeeded,this._running)),this._profilingsInProgress++}initializeGif(t,e,i,o=[]){var a;null===(a=this._gifs.get(t))||void 0===a||a.initialize(e,i,o)}newFrame(t,e){var i;if(!this._running)return;(null===(i=this._gifs.get(t))||void 0===i?void 0:i.nextFrame(e))&&(this._profilingsInProgress--,0===this._profilingsInProgress&&(0,o.exportEverythingToCSV)(this._exportName,10,this._gifs))}addGifInstance(t,e){const i=this._gifs.get(t);i&&i.instances.add(e)}deleteGifInstance(t,e){const i=this._gifs.get(t);this.setGifInstanceOnScreen(t,e,!1),i&&i.instances.delete(e)}addDecodeRequest(t){this.telemetryStats.decodeRequests.cacheMisses+=t?1:0,this.telemetryStats.decodeRequests.total++}setCached(t,e){const i=this._gifs.get(t);i&&(i.isCached=e,this.telemetryStats.cacheUsed+=(e?1:-1)*i.totalMemorySize)}setGifInstanceOnScreen(t,e,i){const o=this._gifs.get(t);o&&(i?o.instancesOnScreen.add(e):o.instancesOnScreen.delete(e))}start(t,e){this._exportName=t,e>0&&(this._measurementsNeeded=e),this._running=!0}stop(){this._running=!1}reset(){this._gifs.clear()}peekStats(){const t=this.telemetryStats;for(const e of this._gifs.values())t.inMural.amount+=e.instances.size,t.inMural.distinctAmount+=e.instances.size>0?1:0,t.onScreen.amount+=e.instancesOnScreen.size,t.onScreen.totalMemorySize+=e.instancesOnScreen.size*e.totalMemorySize,e.isCached&&(t.onScreen.amountCached+=e.instancesOnScreen.size,t.onScreen.totalMemorySizeCached+=e.instancesOnScreen.size*e.totalMemorySize);return t}getStats(){const t=this.peekStats();return this.resetTelemetryStats(),t}resetTelemetryStats(){this.telemetryStats={gifDecoderVersion:this.telemetryStats.gifDecoderVersion,cacheSize:this.telemetryStats.cacheSize,cacheUsed:this.telemetryStats.cacheUsed,decodeRequests:{cacheMisses:0,total:0},onScreen:{amount:0,amountCached:0,totalMemorySize:0,totalMemorySizeCached:0},inMural:{amount:0,distinctAmount:0}}}get gifs(){return Array.from(this._gifs.values())}get running(){return this._running}}},359:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProfilerActions=void 0;e.createProfilerActions=t=>({gif:{getStats:()=>t.getStats(),peekStats:()=>t.peekStats()}})},6960:function(t,e,i){"use strict";var o=this&&this.__awaiter||function(t,e,i,o){return new(i||(i=Promise))((function(a,n){function fulfilled(t){try{step(o.next(t))}catch(t){n(t)}}function rejected(t){try{step(o.throw(t))}catch(t){n(t)}}function step(t){t.done?a(t.value):function adopt(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createScreenshotActions=void 0;const a=i(6507),n=i(1771);e.createScreenshotActions=(t,e,i,r,s)=>{const l=new Set,c=((t,e)=>({canvas:{width:16,height:16},minimap:{width:16,height:16},ctxBackground:"white",drawExplicitShadows:t.drawExplicitShadows,detectContextLost:t.detectContextLost,getImageFromUrl:(i,o,a)=>{const n=t.getImageFromUrl(i,o,a),r=n.requestedImagePromise;return r&&(e.add(r),r.finally((()=>e.delete(r)))),n},textFunctions:t.textFunctions,onViewportChange:()=>{},renderScaleMultiplier:1,runtimeInfo:t.runtimeInfo,canvasFactory:t.canvasFactory,viewport:{x:0,y:0,zoom:1},gifProfiler:t.gifProfiler}))(i,l),d=Object.assign(Object.assign({},r),{ignoreDownloadProgress:!0});let h=null,u=0;const v={viewport:(e,i,o,a)=>t.screenshot.viewport(e,i,o,n.STATES_VISIBLE_BY_DEFAULT,a),only:(e,i,o)=>t.screenshot.only(e,i,n.STATES_VISIBLE_BY_DEFAULT,o),customWidgets:(t,i,r)=>o(void 0,void 0,void 0,(function*(){const{engine:o,astContext:v}=(()=>(h||(h=e(c,d),h.engine.debug.setUseCache(!1),h.engine.debug.setUseViewportOptimization(!1)),h))(),g=new Map,f=(0,a.mapWidgetsIds)(t,(t=>{const e=g.get(t),i=e||"unique-id-"+u++;return e||g.set(t,i),i}));try{s(f,o,c,v,!!r.excludeInteractiveElements);const takeScreenshot=()=>o.screenshot.only(f.map((t=>t.id)),i,n.STATES_VISIBLE_BY_DEFAULT,r),t=yield takeScreenshot();if(0===l.size||0===r.imageDownloadTimeout)return t;void 0!==r.imageDownloadTimeout&&r.imageDownloadTimeout>=0?yield Promise.race([Promise.all([...l]),new Promise((t=>setTimeout(t,r.imageDownloadTimeout)))]):yield Promise.all([...l]);return yield takeScreenshot()}finally{f.forEach((t=>o.nodes.remove([t.id])))}}))};return{actions:v,onDestroy:()=>{h&&(h.destroyEngine(),h=null)}}}},4786:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSmartShapeActions=e.isSmartShapeType=e.isCircle=e.isSquare=void 0;const o=i(3139),a=i(18);e.isSquare=t=>"square"===t.toLowerCase()||"rectangle"===t.toLowerCase();e.isCircle=t=>"circle"===t.toLowerCase()||"ellipse"===t.toLowerCase();e.isSmartShapeType=t=>t in a.smartShapeTemplates;const n={width:100,height:100},r={width:100,height:100};e.createSmartShapeActions=t=>({getDesignerSize:t=>{if((0,e.isSquare)(t))return Object.assign({},n);if((0,e.isCircle)(t))return Object.assign({},r);if(!(0,e.isSmartShapeType)(t))return null;const i=a.smartShapeTemplates[t];return i?{width:i.designerSize.w,height:i.designerSize.h}:null},getSvg:(i,a,n)=>{if((0,e.isSquare)(i))return(0,o.buildSquarePath)(a,n);if((0,e.isCircle)(i))return(0,o.buildCirclePath)(a,n);if(!(0,e.isSmartShapeType)(i))return null;const r=t.get(i,a,n);if(!r)return null;return r.asStringPaths().join("")}})},3407:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextActions=void 0;const o=i(729),a=i(186),n=i(6951),r=i(5888),s=i(6417),l=i(8168),hasBrokenWords=t=>{switch(t.type){case"Group":return t.children.some((t=>!!(0,a.isHtmlDrawingPrimitive)(t)&&hasBrokenWords(t)));case"WrappedTextBox":return t.wrappedText.brokenWords}return!1};e.createTextActions=t=>({measure:(e,i,o)=>{const a=(0,r.drawTextBox)({x:0,y:0,height:Number.MAX_SAFE_INTEGER,width:o},e.fontSize,e.textAlign,"top",0,(0,n.formatText)({fontFamily:e.fontFamily,color:e.color,bold:e.bold,italic:e.italic,strike:e.strike},i)),c=(0,s.convertTextBoxToWrappedTextBox)(t,a),d=c.wrappedText,h=(0,l.getTextLayout)(0,0,c.fontSize,d.lineHeight,d.ascent,d.descent,d.lines,d.anchor,!1);if(0===h.length)return{bbox:{x:0,y:0,x1:0,y1:0},brokenWords:!1};return{bbox:{x:Math.min(...h.map((t=>t.bounds.x))),y:Math.min(...h.map((t=>t.bounds.y))),x1:Math.max(...h.map((t=>t.bounds.x1))),y1:Math.max(...h.map((t=>t.bounds.y1)))},brokenWords:d.brokenWords}},measureHtml:(e,i,n)=>{var r,s;(e.bold||e.underline||e.italic||e.strike)&&console.warn("measureHtml(): bold / underline / italic / strike parameters are ignored, any styling should be done using HTML tags in the received HTML");let l=(0,a.drawHtmlTextboxFromHtmlCode)("temp-tb",i,e.fontSize,e.fontFamily,e.color||"#000000",e.textAlign,void 0,t,null!==(r=e.lineHeightMultiplier)&&void 0!==r?r:o.CLASSIC_LINE_HEIGHT_MULTIPLIER);return n>=0&&l.width>n&&(l=(0,a.drawHtmlTextboxFromHtmlCode)("temp-tb",i,e.fontSize,e.fontFamily,e.color||"#000000",e.textAlign,n,t,null!==(s=e.lineHeightMultiplier)&&void 0!==s?s:o.CLASSIC_LINE_HEIGHT_MULTIPLIER)),{bbox:{x:l.x,y:l.y,x1:l.x+l.width,y1:l.y+l.height},brokenWords:hasBrokenWords(l)}}})},8134:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBase64FromDataUrlAsBuffer=e.getBase64FromDataUrl=e.isBase64DataUrl=e.createCanvasFromConfig=e.getWidgetForNodeWithoutHint=e.getWidgetForNode=e.getWidgetRefForNodeState=e.getWidgetBoundsForNodeState=e.getWidgetRefForNode=e.getNodeState=void 0;const o=i(8247),a=i(9271),n=i(5888),r={selected:5,"drag-over":3,idle:1,hover:2,transform:6,scale:4,highlight:7,"highlight-content":8,unread:9,"dragging-visual-feedback":10};e.getNodeState=t=>t?r[t]:0;e.getWidgetRefForNode=(t,e=null,i)=>{if(null===t)return null;const o=!!(null==i?void 0:i.includeOutOfBoundsElements),a=o?t.aabbWithoutRenderOverflow:t.aabbSelfOnlyWithoutRenderOverflow;return{bbox:{x:a.x,y:a.y,x1:a.x1,y1:a.y1},id:t.externalId,hint:e,width:o?a.x1-a.x:t.width,height:o?a.y1-a.y:t.height}};const s={x:0,y:0},l={x:0,y:0},c={x:0,y:0},d={x:0,y:0};e.getWidgetBoundsForNodeState=(t,i,o)=>{const n=t.border,{x:r,y:h,width:u,height:v,scale:g,rotation:f}=t.transform,y=f*Math.PI/180,x=a.Matrix3.create();0===y?a.Matrix3.setTransformNotRotated(x,r,h,g,g):a.Matrix3.setTransformRotated(x,r,h,g,g,y);const m=o||0!==y;let R;if(m?a.Matrix3.multiply(x,i,x):a.Matrix3.multiplyNonRotated(x,i,x),m){s.x=-n,s.y=-n,a.Matrix3.transformPointInPlace(x,s),l.x=u+n,l.y=-n,a.Matrix3.transformPointInPlace(x,l),c.x=u+n,c.y=v+n,a.Matrix3.transformPointInPlace(x,c),d.x=-n,d.y=v+n,a.Matrix3.transformPointInPlace(x,d);R={x:Math.min(s.x,l.x,c.x,d.x),y:Math.min(s.y,l.y,c.y,d.y),x1:Math.max(s.x,l.x,c.x,d.x),y1:Math.max(s.y,l.y,c.y,d.y)}}else{const t=x[a.M3_TX]-n*x[a.M3_NR_SX],e=x[a.M3_TY]-n*x[a.M3_NR_SY];R={x:t,y:e,x1:t+(u+2*n)*x[a.M3_NR_SX],y1:e+(v+2*n)*x[a.M3_NR_SY]}}for(let i=0;i<t.children.length;i++){const o=(0,e.getWidgetBoundsForNodeState)(t.children[i],x,m);R.x=Math.min(R.x,o.x),R.y=Math.min(R.y,o.y),R.x1=Math.max(R.x1,o.x1),R.y1=Math.max(R.y1,o.y1)}return R};e.getWidgetRefForNodeState=(t,i)=>{const o=!!(null==i?void 0:i.includeOutOfBoundsElements),n=(0,e.getWidgetBoundsForNodeState)(t,a.Matrix3.create(),!1),r=o?n.x1-n.x:t.transform.width,s=o?n.y1-n.y:t.transform.height;return{bbox:n,id:t.externalId,hint:null,width:r,height:s}};e.getWidgetForNode=(t,i)=>{const o=[];let a=t;for(;a&&a.hint!==n.WIDGET_HINT;)a.hint&&"_"!==a.hint.charAt(0)&&o.push(a.hint),a=a.parent;return(0,e.getWidgetRefForNode)(a,o.length>0?o[0].startsWith("link")?o[0]:o.join("."):null,i)};e.getWidgetForNodeWithoutHint=t=>{let i=t;for(;i&&i.hint!==n.WIDGET_HINT;)i=i.parent;return(0,e.getWidgetRefForNode)(i,null)};e.createCanvasFromConfig=(t,e,i)=>{const o=t.createCanvas(e.width,e.height,void 0,i);return e.className&&(o.canvas.className=e.className),e.ariaLabel&&(o.canvas.ariaLabel=e.ariaLabel),void 0!==e.tabIndex&&(o.canvas.tabIndex=e.tabIndex),o};e.isBase64DataUrl=t=>t.includes("base64,");e.getBase64FromDataUrl=t=>(0,e.isBase64DataUrl)(t)?t.split(",")[1]:t;e.getBase64FromDataUrlAsBuffer=t=>(0,o.decode)((0,e.getBase64FromDataUrl)(t))},1771:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNodeStatesFromWidgets=e.buildNodeGroupHierarchy=e.buildSingleNodeGroup=e.STATES_VISIBLE_BY_DEFAULT=void 0;const o=i(5888),a=i(5088),n=i(5287),r=i(8134);function getMaxStackingLayerFromHint(t){return t.reduce(((t,e)=>Math.max(t,function getStackingLayerFromHintAndState(t,e){return"comment"===t?5===e?3:2:"hidden"===t?1:0}(e.hint,e.state))),0)}function buildSelectionShapes(t){if(!t)return null;const e=[];for(let i=0;i<t.length;i++){const o=t[i];e.push({type:"path",path:new Path2D(o.path),stroke:o.stroke,fill:o.fill,x:0,y:0,rotation:0,scale:1})}return e}e.STATES_VISIBLE_BY_DEFAULT=[0,4,1];const buildAstGroupNodeState=(t,e)=>{const{id:i,x:a,y:n,width:s,height:l,rotation:c,children:d,border:h}=t,u="WidgetPrimitive"===t.type,v=u?o.WIDGET_HINT:t.hint,g=u?1:t.scale,f=u?t.stackingOrder:0,y=u?{}:t.animations,x=u?void 0:t.clip,m=u?void 0:t.state,R=u?t.minimapPath:void 0,b=u?t.selectionPaths:void 0,w=u?t.selectionDrawNodeIdsOnTopOnSelected:null,S=u?t.selectionDrawNodeIdsOnBottomOnSelected:null,A=!!u&&t.hasNonTrivialRotation,C=u&&t.parentId?(0,o.generateWidgetsContainerId)(t.parentId):null,I=[],M=[],T=[],pushPrimitives=()=>{I.push({animations:y,parentId:null,border:0,children:[],clip:x||null,drawingAst:[...T],externalId:`${i}-chunk-${I.length}`,hint:null,stackingLayer:0,stackingOrder:0,state:0,transform:{height:l,rotation:0,scale:1,width:s,x:0,y:0},minimapShape:null,selectionShapes:null,selectionDrawNodeIdsOnTopOnSelected:null,selectionDrawNodeIdsOnBottomOnSelected:null,dontCleanChildrenOnUpdate:!1,dummy:!1,hasNonTrivialRotation:!1,hideAtZoomLevel:null}),T.length=0};e||d.forEach((t=>{"Group"==t.type?(T.length&&pushPrimitives(),I.push(buildAstGroupNodeState(t,e))):I.length?T.push(t):M.push(t)})),T.length&&pushPrimitives();return{animations:y,parentId:C,externalId:i,hint:v,state:(0,r.getNodeState)(m),stackingLayer:getMaxStackingLayerFromHint(I),stackingOrder:f,clip:null!=x?x:null,transform:{x:a,y:n,width:s,height:l,scale:g,rotation:c},drawingAst:M,children:I,minimapShape:R?{type:"path",path:new Path2D(R)}:null,border:h,selectionShapes:buildSelectionShapes(b),selectionDrawNodeIdsOnTopOnSelected:null!=w?w:null,selectionDrawNodeIdsOnBottomOnSelected:null!=S?S:null,dontCleanChildrenOnUpdate:v===o.WIDGETS_CONTAINER_HINT,dummy:!1,hasNonTrivialRotation:A,hideAtZoomLevel:t.hideAtZoomLevel||null}};e.buildSingleNodeGroup=(t,i)=>{const{externalId:a,hint:r}=t,s=new n.AstGroupNode(a,i);s.init(t);const l=r===o.WIDGET_HINT;return s.isPartialNode=!l,s.ownLayer=l?1:0,s.visible=!s.dummy&&e.STATES_VISIBLE_BY_DEFAULT.includes(s.state),s};e.buildNodeGroupHierarchy=(t,i)=>{const o=(0,e.buildSingleNodeGroup)(t,i);return t.children.map((t=>(0,e.buildNodeGroupHierarchy)(t,i))).forEach((t=>o.addChild(t))),o};e.getNodeStatesFromWidgets=(t,e,i,o,n,r,s,l)=>{var c,d,h,u,v,g,f,y;if(!e.length)return[];const x={hideContent:!0,includeStates:!s.dontIncludeStates,skipSorting:!0,labelTypes:n,muralId:r,onAfterParse:null===(c=i.hooks)||void 0===c?void 0:c.onAfterParse,onBeforeParse:null===(d=i.hooks)||void 0===d?void 0:d.onBeforeParse,onBeforeRender:null===(h=i.hooks)||void 0===h?void 0:h.onBeforeRender,resizeImages:!1,darkerHidden:s.darkerHidden,ignoreTableWarnings:null===(v=null===(u=i.featureFlags)||void 0===u?void 0:u.ignoreTableWarnings)||void 0===v||v};return(0,a.convertWidgetsToWidgetPrimitives)(t,i.textFunctions,e,x,l,(null===(g=i.featureFlags)||void 0===g?void 0:g.contentViewerFileButton)||!1,(null===(f=i.featureFlags)||void 0===f?void 0:f.externalContentViewerButton)||!1,(null===(y=i.featureFlags)||void 0===y?void 0:y.imageViewerButton)||!1).map((t=>{o(t);return buildAstGroupNodeState(t,!!s.skipChildren)}))}},773:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWidgetFindActions=void 0;const o=i(5888),a=i(3488),n=i(8134),hasParentIn=(t,e)=>{let i=e;for(;i;){if(t.includes(i.externalId))return!0;i=i.parent}return!1},isVisibleInHierarchy=(t,e)=>{let i=t;for(;i;){if(!i.isVisibleAtZoomLevel(e))return!1;i=i.parent}return!0};e.createWidgetFindActions=t=>({getAllInfoAt:(e,i,o)=>t.nodes.getAllAt(e,i,o,!!o).filter((e=>isVisibleInHierarchy(e,t.viewport.getZoom())&&3!==e.state)).map((t=>(0,n.getWidgetForNode)(t))).filter(a.isNotNil),getAt:(e,i,o={})=>{const{excludeIds:a=[]}=o,r=t.nodes.getAt(e,i,o.tolerance,(e=>isVisibleInHierarchy(e,t.viewport.getZoom())&&3!==e.state&&(!a.length||!hasParentIn(a,e))));return(0,n.getWidgetForNode)(r)},getAllAtRect:(e,i=[])=>{const r=new Set;return t.nodes.getAllAtRect(e.x,e.y,e.x1,e.y1,(e=>{if(isVisibleInHierarchy(e,t.viewport.getZoom())&&3!==e.state&&(!i.length||!hasParentIn(i,e))){const t=(t=>{let e=t;for(;e;){if(e.hint===o.WIDGET_HINT)return e;e=e.parent}return null})(e);if(null!==t&&!r.has(t.externalId))return r.add(t.externalId),!0}return!1})).map(n.getWidgetForNodeWithoutHint).filter(a.isNotNil)},existsAnyVisibleInsideRect:e=>null!==t.nodes.getFirstNonPartialNodeAtRect(e.x,e.y,e.x1,e.y1,o.WIDGET_HINT,(e=>isVisibleInHierarchy(e,t.viewport.getZoom()))),getAllAtRectUnordered:e=>{const i=[];return t.nodes.getAllNonPartialNodesAtRectUnordered(e.x,e.y,e.x1,e.y1,o.WIDGET_HINT).forEach((e=>{if(isVisibleInHierarchy(e,t.viewport.getZoom())){const t=(0,n.getWidgetForNodeWithoutHint)(e);t&&i.push(t)}})),i},getAllRect:()=>{const e=t.nodes.getAllRect();return{x:e.x,y:e.y,x1:e.x+e.width,y1:e.y+e.height}}})},8107:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWidgetActions=void 0;const o=i(2427),a=i(3488),n=i(8134),r=i(773),s=i(3530),l=i(5693),c=i(3433),d=i(2100),h=i(9925),u=i(2678),v=i(4931);e.createWidgetActions=(t,e,i,g,f,y,x,m)=>{const R=new o.WidgetCache,b=new l.WidgetsPerLabelType,w=new d.WidgetsWithReactions(y.reaction.addButtonVisibleWhenNoReactions),S=[R,b,w],onWidgetsAddedOrUpdated=t=>{for(let e=0;e<S.length;e++)S[e].set(t)};onWidgetsAddedOrUpdated(x);const A=(0,r.createWidgetFindActions)(t),C=(0,v.createWidgetStateActions)(t),I=Object.assign(Object.assign({add:(...t)=>{onWidgetsAddedOrUpdated(t),e({toAddOrUpdate:t})},remove:(...t)=>{(t=>{for(let e=0;e<S.length;e++)S[e].delete(t)})(t),e({toRemove:t})},update:(...t)=>{const i=t.filter((t=>(0,a.isNotNil)(R.get(t.id))));onWidgetsAddedOrUpdated(i),e({toAddOrUpdate:i})},get:t=>R.get(t)||null,getInfo:(e,i)=>(0,n.getWidgetForNode)(t.nodes.getSafe(e),i),getHintInfo:(e,i)=>{const o=(0,n.getWidgetRefForNode)(t.nodes.getSafe(e,i),i);return o?Object.assign(Object.assign({},o),{id:e}):o},moveTo:(t,e,i)=>{const o=R.get(t);o&&I.update(Object.assign(Object.assign({},o),{x:e,y:i}))},invalidate:(...t)=>{e({toReparse:t})},measure:(t,e)=>i(t,e),labels:(0,s.createWidgetLabelsActions)(f,b,e),reactions:(0,c.createWidgetReactionActions)(g,w,t,e,y),connectionPoints:{get:e=>{const i=R.get(e);return i?(0,u.getConnectionPoints)(t,m,i):[]}},snapPoints:(0,h.createWidgetSnapPointsActions)(t,R,m),find:A,state:C},A),C);return I}},3530:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createWidgetLabelsActions=void 0;const a=o(i(738));e.createWidgetLabelsActions=(t,e,i)=>({add:o=>{t[o.id]=(0,a.default)(o);const n=e.get(o.id);n&&i({toReparse:[...n]})},update:o=>{t[o.id]=(0,a.default)(o);const n=e.get(o.id);n&&i({toReparse:[...n]})}})},5693:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetsPerLabelType=void 0;const o=i(5597);e.WidgetsPerLabelType=class WidgetsPerLabelType{constructor(){this.widgetsByLabelType=new Map,this.labelTypesPerWidget=new Map}get(t){return this.widgetsByLabelType.get(t)}delete(t){t.forEach((t=>{const e=this.labelTypesPerWidget.get(t);e&&(e.forEach((e=>{const i=this.widgetsByLabelType.get(e);i&&(i.delete(t),0===i.size&&this.widgetsByLabelType.delete(e))})),this.labelTypesPerWidget.delete(t))}))}set(t){t.forEach((t=>{if((0,o.hasLabels)(t)){const e=t.properties.labels;if(!e)return void this.delete([t.id]);const i=this.labelTypesPerWidget.get(t.id);if(i){[...i].filter((t=>!e.some((e=>e.type===t)))).forEach((e=>{var i,o;null===(i=this.widgetsByLabelType.get(e))||void 0===i||i.delete(t.id),null===(o=this.labelTypesPerWidget.get(t.id))||void 0===o||o.delete(e)}))}e.forEach((e=>{const o=i||new Set;o.add(e.type),i||this.labelTypesPerWidget.set(t.id,o);const a=this.widgetsByLabelType.get(e.type),n=a||new Set;n.add(t.id),a||this.widgetsByLabelType.set(e.type,n)}))}}))}}},2964:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildWidgetsProcessor=void 0;const o=i(3488),a=i(2314);e.buildWidgetsProcessor=(t,e,i)=>{const n=new Map;return r=>((t,e,i,n)=>{if(void 0!==n.toAddOrUpdate){const o=[];for(const e of n.toAddOrUpdate){const n=i.get(e.id);n&&(0,a.tryToApplyTrivialUpdate)(n,e,t)||o.push(e),i.set(e.id,e)}e(o)}void 0!==n.toReparse&&e(n.toReparse.map((t=>i.get(t))).filter(o.isNotNil));void 0!==n.toRemove&&(t.nodes.remove(n.toRemove),n.toRemove.forEach((t=>i.delete(t))))})(t,i,n,e.apply(r))}},3433:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWidgetReactionActions=e.createReactionsInternalApi=void 0;const o=i(8930),a=i(6306),n=i(5888),r=i(3488);e.createReactionsInternalApi=t=>{let e=!0,i=t;const o=new Set,a=new Set,n=new Set;return{setEnabled:t=>{e=t},getEnabled:()=>e,expand:t=>!o.has(t)&&(o.add(t),!0),collapse:t=>!!o.has(t)&&(o.delete(t),!0),areExpanded:t=>o.has(t),fadeOut:t=>!a.has(t)&&(a.add(t),!0),fadeIn:t=>!!a.has(t)&&(a.delete(t),!0),isFadedOut:t=>a.has(t),show:t=>!!n.has(t)&&(n.delete(t),!0),hide:t=>!n.has(t)&&(n.add(t),!0),areHidden:t=>n.has(t),getMode:()=>i,setMode:t=>{i=t}}};const getNodesWithHintPrefixInternal=(t,e,i)=>{if(null!==t&&t.hint!==n.WIDGETS_CONTAINER_HINT)if(t.hint&&t.hint.startsWith(e))i.push(t);else for(let o=0;o<t.children.length;o++){const a=t.children[o];getNodesWithHintPrefixInternal(a,e,i)}},getNodesWithHintPrefix=(t,e)=>{const i=[];return getNodesWithHintPrefixInternal(t,e,i),i};e.createWidgetReactionActions=(t,e,i,n,s)=>{const l=(0,o.getCSSCubicBezierEasing)(s.reaction.fadeInAnimation.curveControlPoints,40),c=(0,o.getCSSCubicBezierEasing)(s.reaction.fadeOutAnimation.curveControlPoints,40),fadeInEasingFunction=t=>l.getValue(t),fadeOutEasingFunction=t=>c.getValue(t);return{enable:()=>{t.getEnabled()||(t.setEnabled(!0),n({toReparse:[...e.get()]}))},disable:()=>{t.getEnabled()&&(t.setEnabled(!1),n({toReparse:[...e.get()]}))},isEnabled:()=>t.getEnabled(),expand:(o,a={skipAnimations:!1})=>{if(!t.expand(o))return;if(!e.has(o))return;const r=s.reaction.expandAnimation,l=r.duration,c=a.skipAnimations||l<=0,d=c?null:getNodesWithHintPrefix(i.nodes.getUnsafe(o),"reaction-");n({toReparse:[...e.get()]});const h=c?null:getNodesWithHintPrefix(i.nodes.getUnsafe(o),"reaction-");if(null!==d&&null!==h){((t,e,i)=>{if(0===t.length)return;const o=e.duration,a=e.totalDelayBetweenAnimations/t.length;t.forEach(((t,n)=>{const r=a*n;1!==e.scaleFrom&&i.nodes.setIntroScale(t.externalId,"",o,e.scaleFrom,1,r),1!==e.alphaFrom&&i.nodes.setIntroAlpha(t.externalId,"",o,e.alphaFrom,1,r)}))})(h.filter((t=>!d.some((e=>e.hint===t.hint)))),r,i)}},collapse:i=>{t.collapse(i)&&e.has(i)&&n({toReparse:[...e.get()]})},show:(...i)=>{const o=[];i.forEach((i=>{t.show(i)&&e.has(i)&&o.push(i)})),o.length>0&&n({toReparse:o})},hide:(...i)=>{const o=[];i.forEach((i=>{t.hide(i)&&e.has(i)&&o.push(i)})),o.length>0&&n({toReparse:o})},fadeOut:o=>{if(!t.fadeOut(o))return;if(!e.has(o))return;const n=s.reaction.fadeOutAnimation.duration;a.REACTIONS_HINTS.map((t=>i.nodes.getUnsafe(o,t))).filter(r.isNotNil).forEach((e=>{e.disabled=!0,e.visible&&i.nodes.setIntroAlpha(e.externalId,"",n,e.alpha,0,0,(()=>{t.isFadedOut(o)&&(e.visible=!1)}),fadeOutEasingFunction)}))},fadeIn:o=>{if(!t.fadeIn(o))return;if(!e.has(o))return;const n=s.reaction.fadeInAnimation.duration;a.REACTIONS_HINTS.map((t=>i.nodes.getUnsafe(o,t))).filter(r.isNotNil).forEach((t=>{t.disabled=!1,2!==t.state&&(i.nodes.setIntroAlpha(t.externalId,"",n,1===t.alpha?0:t.alpha,1,0,void 0,fadeInEasingFunction),t.visible=!0)}))},setMode:i=>{t.getMode()!==i&&(t.setMode(i),n({toReparse:[...e.get()]}))},getMode:()=>t.getMode()}}},2100:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetsWithReactions=void 0;const o=i(5597);e.WidgetsWithReactions=class WidgetsWithReactions{constructor(t){this.widgetsWithReactions=new Set,this.addReactionsButtonAlwaysVisible=t}delete(t){t.forEach((t=>{this.widgetsWithReactions.delete(t)}))}set(t){t.forEach((t=>{if((0,o.hasReactions)(t)){t.properties.reactions||this.addReactionsButtonAlwaysVisible?this.widgetsWithReactions.add(t.id):this.widgetsWithReactions.delete(t.id)}}))}has(t){return this.widgetsWithReactions.has(t)}get(){return[...this.widgetsWithReactions]}}},1381:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSmartShapeCache=void 0;const o=i(4456),a=i(18),n=i(6873);e.buildSmartShapeCache=function buildSmartShapeCache(){const t=new o.LRUCache({max:128});return{get:(e,i,o)=>{const r=a.smartShapeTemplates[e];if(!r)return null;const s=((t,e,i)=>t+"-"+e+"-"+i)(e,i,o),l=t.get(s),c=null!=l?l:new n.SmartShape(r,i,o);return l||t.set(s,c),c}}}},4536:function(t,e,i){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.buildArrowLinesCache=void 0;const a=o(i(5874)),n=i(4456),r=o(i(7943)),s=i(1749),l=i(1356),c=i(226),convertSegmentsToLines=t=>{const e=[],addLinesFromBezier=t=>{e.push(...(0,c.bezierToLineSegmentsAuto)(t,-1))};for(const i of t)switch(i.type){case"line":e.push({p0:i.from,p1:i.to,t0:0,t1:0,instIndex:-1});break;case"curved-arrow":{const t=(0,l.getCurvedArrowBeziers)(i);[new a.default(t.moveTo,t.cubicBezier1[0],t.cubicBezier1[1],t.cubicBezier1[2]),new a.default(t.cubicBezier1[2],t.cubicBezier2[0],t.cubicBezier2[1],t.cubicBezier2[2])].forEach((t=>{addLinesFromBezier(t)}));break}case"bezier":{const t=new a.default(i.from,i.c1,i.c2,i.to);addLinesFromBezier(t);break}case"arc-quarter-circle":{const t=(0,r.default)({px:i.from.x,py:i.from.y,cx:i.to.x,cy:i.to.y,rx:i.radius,ry:i.radius,largeArcFlag:0,xAxisRotation:0,sweepFlag:0===i.sweepFlag?0:1});t.map(((e,o)=>{const n=0===o?i.from:{x:t[o-1].x2,y:t[o-1].y2};return new a.default(n.x,n.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y)})).forEach((t=>{addLinesFromBezier(t)}));break}}return e};e.buildArrowLinesCache=function buildArrowLinesCache(){const t=new n.LRUCache({max:128});return{get:e=>{const i=(t=>t.properties.arrowType+"-"+t.properties.points.map((t=>t.x.toString()+","+t.y.toString())).join())(e),o=t.get(i),a=null!=o?o:function getArrowLines(t){const e=(0,s.getArrowSegments)(t);return e&&0!==e.length?convertSegmentsToLines(e):null}(e);return a&&!o&&t.set(i,a),a}}}},2116:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getArrowClosestSnapPoint=void 0;const o=i(226);e.getArrowClosestSnapPoint=(t,e,i,a)=>{const n=t.get(e);if(null===n||0===n.length)return null;const r=n.reduce(((t,e)=>(t.x+=(e.p0.x+e.p1.x)/2,t.y+=(e.p0.y+e.p1.y)/2,t)),{x:0,y:0}),s={x:r.x/n.length,y:r.y/n.length},l=(0,o.getSnapInfoFromLines)(i,a,n,s.x,s.y);return l.found?{x:l.closestPoint.x,y:l.closestPoint.y,direction:l.direction}:null}},2678:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getConnectionPoints=void 0;const o=i(5597),a=i(4786);e.getConnectionPoints=(t,e,i)=>{const n=t.nodes.getSafe(i.id);return n?((t,e)=>{if((0,o.isShape)(e)&&(0,a.isSmartShapeType)(e.properties.shapeType)){const i=t.get(e.properties.shapeType,e.width,e.height);if(i)return i.getConnectionPoints()}const{width:i,height:n}=e;return[{x:.5*i,y:0},{x:i,y:.5*n},{x:.5*i,y:n},{x:0,y:.5*n}]})(e,i).map((t=>n.localToGlobalTransform(t))):[]}},9925:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWidgetSnapPointsActions=void 0;const o=i(4536),a=i(1554);e.createWidgetSnapPointsActions=(t,e,i)=>{const n=(0,o.buildArrowLinesCache)();return{getClosest:(o,r,s,l)=>{const c=e.get(o);return c?(0,a.getClosestSnapPoint)(t,i,n,c,r,s,l):null},getClosestCustomWidget:(t,e,o,r)=>(0,a.getClosestSnapPointCustomWidget)(i,n,t,e,o,r)}}},207:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRectangleClosestSnapPoint=e.getEllipseClosestSnapPoint=void 0;const o=i(808),a=i(226),isValueCloseToZero=t=>Math.abs(t)<.001;e.getEllipseClosestSnapPoint=(t,e,i,a)=>{const n={center:{x:t/2,y:e/2},rX:t/2,rY:e/2};if(isValueCloseToZero(n.rX)||isValueCloseToZero(n.rY))return null;isValueCloseToZero(i.x-n.center.x)&&isValueCloseToZero(i.y-n.center.y)&&(i={x:i.x+.1,y:i.y});let r=null;if(r=!a||0===a.x&&0===a.y?o.Ellipse.closestPoint(n,i):o.Ellipse.segmentIntersection(n,i,{x:i.x+1e3*a.x,y:i.y+1e3*a.y},!1),null===r)return null;const s=o.Ellipse.normal(n,r);return{x:r.x,y:r.y,direction:s}};const n={x:0,y:0},r={x:0,y:0},s={x:0,y:0},l={x:0,y:0},c=[{p0:n,p1:r,instIndex:0,t0:0,t1:1},{p0:r,p1:l,instIndex:1,t0:0,t1:1},{p0:l,p1:s,instIndex:2,t0:0,t1:1},{p0:s,p1:n,instIndex:3,t0:0,t1:1}];e.getRectangleClosestSnapPoint=(t,e,i,o)=>{n.x=0,n.y=0,r.x=0+t,r.y=0,s.x=0,s.y=0+e,l.x=0+t,l.y=0+e;const d=(0,a.getSnapInfoFromLines)(i,o,c,t/2,e/2);return d.found?{x:d.closestPoint.x,y:d.closestPoint.y,direction:d.direction}:null}},1554:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClosestSnapPointCustomWidget=e.getClosestSnapPoint=void 0;const o=i(9271),a=i(9314),n=i(5597),r=i(4786),s=i(2116),l=i(207),c=new Map([["Triangle","triangle_smart"],["Pentagon","pentagon_smart"],["Hexagon","hexagon_smart"],["Diamond","rhombus_smart"]]),getClosestSnapPointLocal=(t,e,i,o,a)=>{var d;let h=null;if((0,n.isShape)(i)){const e=i.properties.shapeType,n=null!==(d=c.get(e))&&void 0!==d?d:e;if((0,r.isSmartShapeType)(n)){const e=t.get(n,i.width,i.height);if(!e)return null;h=e.getClosestSnapPoint(o,a)}else(0,r.isSquare)(n)?h=(0,l.getRectangleClosestSnapPoint)(i.width,i.height,o,a):(0,r.isCircle)(n)&&(h=(0,l.getEllipseClosestSnapPoint)(i.width,i.height,o,a))}else h=(0,n.isArrow)(i)?(0,s.getArrowClosestSnapPoint)(e,i,o,a):(0,n.isSticky)(i)&&i.properties.round?(0,l.getEllipseClosestSnapPoint)(i.width,i.height,o,a):(0,l.getRectangleClosestSnapPoint)(i.width,i.height,o,a);return h||null};e.getClosestSnapPoint=(t,e,i,o,n,r,s)=>{const l=t.nodes.getSafe(o.id);if(!l)return null;const c=a.Point.sub(l,o),d=l.globalToLocalTransform({x:n,y:r}),h=!s||0===s.x&&0===s.y?s:l.globalToLocalDirection(s),u=getClosestSnapPointLocal(e,i,o,a.Point.add(d,c),h);if(!u)return null;const v=l.localToGlobalTransform(a.Point.sub({x:u.x,y:u.y},c)),g=l.localToGlobalDirection(u.direction);return{x:v.x,y:v.y,direction:g}};e.getClosestSnapPointCustomWidget=(t,e,i,n,r,s)=>{const l=(i.rotation||0)*Math.PI/180,c=o.Matrix3.create(),d=o.Matrix3.create();o.Matrix3.setTransformRotated(c,i.x,i.y,1,1,l),o.Matrix3.inverse(c,d);const h=((t,e)=>o.Matrix3.transformPoint(t,e))(d,{x:n,y:r}),u=!s||0===s.x&&0===s.y?s:((t,e)=>{const i=o.Matrix3.transformPoint(t,{x:0,y:0}),n=o.Matrix3.transformPoint(t,e);return a.Point.normalize({x:n.x-i.x,y:n.y-i.y})})(d,s),v=getClosestSnapPointLocal(t,e,i,h,u);if(!v)return null;const g=((t,e)=>o.Matrix3.transformPoint(t,e))(c,{x:v.x,y:v.y}),f=((t,e)=>{const i=o.Matrix3.transformPoint(t,{x:0,y:0}),n=o.Matrix3.transformPoint(t,e);return a.Point.normalize({x:n.x-i.x,y:n.y-i.y})})(c,v.direction);return{x:g.x,y:g.y,direction:f}}},4931:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWidgetStateActions=void 0;const o=i(8134);e.createWidgetStateActions=t=>({hide:t.nodes.hide,show:t.nodes.show,toggleState:(e,i,a,n=!0)=>{t.nodes.toggleState(e,(0,o.getNodeState)(i),a,n)},setDrawTopSameLayer:(e,i)=>{t.nodes.setDrawTopSameLayer(e,i)},setLoadingProgress:(e,i,o)=>{t.nodes.setLoadingProgress(e,i,o)},setScaleConstraint:(e,i,a,n)=>t.nodes.setScaleConstraint(e,i,a,(0,o.getNodeState)(n)),highlight:(e,i,o=!0)=>t.nodes.toggleState(e,7,i,o),highlightContent:(e,i,o=!0)=>t.nodes.toggleState(e,8,i,o),setAlpha:(e,i)=>t.nodes.setAlpha(e,i),setCommentPulse:(e,i,o)=>t.nodes.setPulse(e,i,o),setIntroScale:(e,i,o,a,n)=>t.nodes.setIntroScale(e,i,o,a,n,0),setIntroAlpha:(e,i,o,a,n)=>t.nodes.setIntroAlpha(e,i,o,a,n,0),startTransientActions:(...e)=>t.nodes.transientActions.start(...e)})},2314:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tryToApplyTrivialUpdate=void 0;const o=i(3012),a=i(5888),n=["parentId"],r=new Set(Object.keys({arrowType:"",aspectRatio:"",background:"",backgroundColor:"",bold:"",border:"",borderColor:"",borderThickness:"",borderWidth:"",color:"",colSpan:"",columnId:"",columns:"",contentPrivate:"",cornerRadius:"",currentPage:"",dlpDownloadRestricted:"",embedPreview:"",endRefId:"",endTipType:"",filled:"",filledPath:"",fixedWidth:"",fontFamily:"",fontSize:"",footer:"",group:"",hidden:"",htmlText:"",italic:"",label:"",labels:"",layout:"",link:"",locked:"",mask:"",minLines:"",name:"",naturalHeight:"",naturalWidth:"",objectFit:"",originalHeight:"",originalWidth:"",padding:"",parentId:"",path:"",paths:"",photoURL:"",points:"",previewState:"",previewUrl:"",privateImage:"",reactions:"",replies:"",round:"",rowId:"",rows:"",rowSpan:"",shadow:"",shapeType:"",showCaption:"",showTitle:"",stackable:"",startRefId:"",startTipType:"",stickerURL:"",strike:"",strokeColor:"",strokeSize:"",strokeStyle:"",strokeWidth:"",text:"",textAlign:"",textContent:"",textType:"",thumbURL:"",tip:"",title:"",titleFontSize:"",underline:"",verticalAlign:""})),hasNonTrivialUpdate=(t,e)=>t.type!==e.type||(t.height!==e.height||t.width!==e.width||((t,e)=>{const i=t.properties,o=e.properties;if(i===o)return!1;for(const t in i){const e=t;if(i[e]!==o[e]&&n.indexOf(e)<0&&r.has(e))return!0}for(const t in o){const e=t;if(!(e in i)&&r.has(e))return!0}return!1})(t,e));e.tryToApplyTrivialUpdate=(t,e,i)=>{if(hasNonTrivialUpdate(t,e))return!1;const n=i.nodes.getUnsafe(t.id);if(null===n)return console.error("Tried to apply a trivial update to a widget that wasn't added to the engine first, this SHOULD NOT be possible: "+t.id),!1;if(e.properties.parentId!==t.properties.parentId){const t=e.properties.parentId?(0,a.generateWidgetsContainerId)(e.properties.parentId):"";if(!i.nodes.setParent(e.id,t))return!1}const r=e.x-t.x,s=e.y-t.y,l=(0,o.normalizeRotation)(e.rotation||0),c=e.stackingOrder;if(l!==n.rotation){if(n.hasNonTrivialRotation)return!1;n.setRotation(l)}return 0===r&&0===s||n.setPosition(n.x+r,n.y+s),c!==n.stackingOrder&&n.setStackingOrder(c),!0}},380:(t,e,i)=>{"use strict";function Worker_fn(){return new Worker(i.p+"gif.worker.cb9ab857.js")}i.r(e),i.d(e,{default:()=>Worker_fn})},4456:(t,e,i)=>{"use strict";var o=i(4155);Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;const a="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,n=new Set,r="object"==typeof o&&o?o:{},emitWarning=(t,e,i,o)=>{"function"==typeof r.emitWarning?r.emitWarning(t,e,i,o):console.error(`[${i}] ${e}: ${t}`)};let s=globalThis.AbortController,l=globalThis.AbortSignal;if(void 0===s){l=class AbortSignal{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},s=class AbortController{constructor(){warnACPolyfill()}signal=new l;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==r.env?.LRU_CACHE_IGNORE_AC_WARNING;const warnACPolyfill=()=>{t&&(t=!1,emitWarning("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",warnACPolyfill))}}Symbol("type");const isPosInt=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),getUintArray=t=>isPosInt(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?ZeroArray:null:null;class ZeroArray extends Array{constructor(t){super(t),this.fill(0)}}class Stack{heap;length;static#t=!1;static create(t){const e=getUintArray(t);if(!e)return[];Stack.#t=!0;const i=new Stack(t,e);return Stack.#t=!1,i}constructor(t,e){if(!Stack.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class LRUCache{#e;#i;#o;#a;#n;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#r;#s;#l;#p;#c;#d;#h;#u;#v;#g;#f;#y;#x;#m;#R;#b;#w;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#m,sizes:t.#y,keyMap:t.#l,keyList:t.#p,valList:t.#c,next:t.#d,prev:t.#h,get head(){return t.#u},get tail(){return t.#v},free:t.#g,isBackgroundFetch:e=>t.#S(e),backgroundFetch:(e,i,o,a)=>t.#A(e,i,o,a),moveToTail:e=>t.#C(e),indexes:e=>t.#I(e),rindexes:e=>t.#M(e),isStale:e=>t.#T(e)}}get max(){return this.#e}get maxSize(){return this.#i}get calculatedSize(){return this.#s}get size(){return this.#r}get fetchMethod(){return this.#n}get dispose(){return this.#o}get disposeAfter(){return this.#a}constructor(t){const{max:e=0,ttl:i,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:r,updateAgeOnHas:s,allowStale:l,dispose:c,disposeAfter:d,noDisposeOnSet:h,noUpdateTTL:u,maxSize:v=0,maxEntrySize:g=0,sizeCalculation:f,fetchMethod:y,noDeleteOnFetchRejection:x,noDeleteOnStaleGet:m,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:b,ignoreFetchAbort:w}=t;if(0!==e&&!isPosInt(e))throw new TypeError("max option must be a nonnegative integer");const S=e?getUintArray(e):Array;if(!S)throw new Error("invalid max value: "+e);if(this.#e=e,this.#i=v,this.maxEntrySize=g||this.#i,this.sizeCalculation=f,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==y&&"function"!=typeof y)throw new TypeError("fetchMethod must be a function if specified");if(this.#n=y,this.#b=!!y,this.#l=new Map,this.#p=new Array(e).fill(void 0),this.#c=new Array(e).fill(void 0),this.#d=new S(e),this.#h=new S(e),this.#u=0,this.#v=0,this.#g=Stack.create(e),this.#r=0,this.#s=0,"function"==typeof c&&(this.#o=c),"function"==typeof d?(this.#a=d,this.#f=[]):(this.#a=void 0,this.#f=void 0),this.#R=!!this.#o,this.#w=!!this.#a,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!u,this.noDeleteOnFetchRejection=!!x,this.allowStaleOnFetchRejection=!!R,this.allowStaleOnFetchAbort=!!b,this.ignoreFetchAbort=!!w,0!==this.maxEntrySize){if(0!==this.#i&&!isPosInt(this.#i))throw new TypeError("maxSize must be a positive integer if specified");if(!isPosInt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#_()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!m,this.updateAgeOnGet=!!r,this.updateAgeOnHas=!!s,this.ttlResolution=isPosInt(o)||0===o?o:1,this.ttlAutopurge=!!a,this.ttl=i||0,this.ttl){if(!isPosInt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#L()}if(0===this.#e&&0===this.ttl&&0===this.#i)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#i){const t="LRU_CACHE_UNBOUNDED";if((t=>!n.has(t))(t)){n.add(t);emitWarning("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,LRUCache)}}}getRemainingTTL(t){return this.#l.has(t)?1/0:0}#L(){const t=new ZeroArray(this.#e),e=new ZeroArray(this.#e);this.#m=t,this.#x=e,this.#O=(i,o,n=a.now())=>{if(e[i]=0!==o?n:0,t[i]=o,0!==o&&this.ttlAutopurge){const t=setTimeout((()=>{this.#T(i)&&this.delete(this.#p[i])}),o+1);t.unref&&t.unref()}},this.#P=i=>{e[i]=0!==t[i]?a.now():0},this.#E=(o,a)=>{if(t[a]){const n=t[a],r=e[a];o.ttl=n,o.start=r,o.now=i||getNow();const s=o.now-r;o.remainingTTL=n-s}};let i=0;const getNow=()=>{const t=a.now();if(this.ttlResolution>0){i=t;const e=setTimeout((()=>i=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=o=>{const a=this.#l.get(o);if(void 0===a)return 0;const n=t[a],r=e[a];if(0===n||0===r)return 1/0;return n-((i||getNow())-r)},this.#T=o=>0!==t[o]&&0!==e[o]&&(i||getNow())-e[o]>t[o]}#P=()=>{};#E=()=>{};#O=()=>{};#T=()=>!1;#_(){const t=new ZeroArray(this.#e);this.#s=0,this.#y=t,this.#N=e=>{this.#s-=t[e],t[e]=0},this.#z=(t,e,i,o)=>{if(this.#S(e))return 0;if(!isPosInt(i)){if(!o)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof o)throw new TypeError("sizeCalculation must be a function");if(i=o(e,t),!isPosInt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return i},this.#k=(e,i,o)=>{if(t[e]=i,this.#i){const i=this.#i-t[e];for(;this.#s>i;)this.#D(!0)}this.#s+=t[e],o&&(o.entrySize=i,o.totalCalculatedSize=this.#s)}}#N=t=>{};#k=(t,e,i)=>{};#z=(t,e,i,o)=>{if(i||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#I({allowStale:t=this.allowStale}={}){if(this.#r)for(let e=this.#v;this.#F(e)&&(!t&&this.#T(e)||(yield e),e!==this.#u);)e=this.#h[e]}*#M({allowStale:t=this.allowStale}={}){if(this.#r)for(let e=this.#u;this.#F(e)&&(!t&&this.#T(e)||(yield e),e!==this.#v);)e=this.#d[e]}#F(t){return void 0!==t&&this.#l.get(this.#p[t])===t}*entries(){for(const t of this.#I())void 0===this.#c[t]||void 0===this.#p[t]||this.#S(this.#c[t])||(yield[this.#p[t],this.#c[t]])}*rentries(){for(const t of this.#M())void 0===this.#c[t]||void 0===this.#p[t]||this.#S(this.#c[t])||(yield[this.#p[t],this.#c[t]])}*keys(){for(const t of this.#I()){const e=this.#p[t];void 0===e||this.#S(this.#c[t])||(yield e)}}*rkeys(){for(const t of this.#M()){const e=this.#p[t];void 0===e||this.#S(this.#c[t])||(yield e)}}*values(){for(const t of this.#I()){void 0===this.#c[t]||this.#S(this.#c[t])||(yield this.#c[t])}}*rvalues(){for(const t of this.#M()){void 0===this.#c[t]||this.#S(this.#c[t])||(yield this.#c[t])}}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const i of this.#I()){const o=this.#c[i],a=this.#S(o)?o.__staleWhileFetching:o;if(void 0!==a&&t(a,this.#p[i],this))return this.get(this.#p[i],e)}}forEach(t,e=this){for(const i of this.#I()){const o=this.#c[i],a=this.#S(o)?o.__staleWhileFetching:o;void 0!==a&&t.call(e,a,this.#p[i],this)}}rforEach(t,e=this){for(const i of this.#M()){const o=this.#c[i],a=this.#S(o)?o.__staleWhileFetching:o;void 0!==a&&t.call(e,a,this.#p[i],this)}}purgeStale(){let t=!1;for(const e of this.#M({allowStale:!0}))this.#T(e)&&(this.delete(this.#p[e]),t=!0);return t}dump(){const t=[];for(const e of this.#I({allowStale:!0})){const i=this.#p[e],o=this.#c[e],n=this.#S(o)?o.__staleWhileFetching:o;if(void 0===n||void 0===i)continue;const r={value:n};if(this.#m&&this.#x){r.ttl=this.#m[e];const t=a.now()-this.#x[e];r.start=Math.floor(Date.now()-t)}this.#y&&(r.size=this.#y[e]),t.unshift([i,r])}return t}load(t){this.clear();for(const[e,i]of t){if(i.start){const t=Date.now()-i.start;i.start=a.now()-t}this.set(e,i.value,i)}}set(t,e,i={}){if(void 0===e)return this.delete(t),this;const{ttl:o=this.ttl,start:a,noDisposeOnSet:n=this.noDisposeOnSet,sizeCalculation:r=this.sizeCalculation,status:s}=i;let{noUpdateTTL:l=this.noUpdateTTL}=i;const c=this.#z(t,e,i.size||0,r);if(this.maxEntrySize&&c>this.maxEntrySize)return s&&(s.set="miss",s.maxEntrySizeExceeded=!0),this.delete(t),this;let d=0===this.#r?void 0:this.#l.get(t);if(void 0===d)d=0===this.#r?this.#v:0!==this.#g.length?this.#g.pop():this.#r===this.#e?this.#D(!1):this.#r,this.#p[d]=t,this.#c[d]=e,this.#l.set(t,d),this.#d[this.#v]=d,this.#h[d]=this.#v,this.#v=d,this.#r++,this.#k(d,c,s),s&&(s.set="add"),l=!1;else{this.#C(d);const i=this.#c[d];if(e!==i){if(this.#b&&this.#S(i)){i.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=i;void 0===e||n||(this.#R&&this.#o?.(e,t,"set"),this.#w&&this.#f?.push([e,t,"set"]))}else n||(this.#R&&this.#o?.(i,t,"set"),this.#w&&this.#f?.push([i,t,"set"]));if(this.#N(d),this.#k(d,c,s),this.#c[d]=e,s){s.set="replace";const t=i&&this.#S(i)?i.__staleWhileFetching:i;void 0!==t&&(s.oldValue=t)}}else s&&(s.set="update")}if(0===o||this.#m||this.#L(),this.#m&&(l||this.#O(d,o,a),s&&this.#E(s,d)),!n&&this.#w&&this.#f){const t=this.#f;let e;for(;e=t?.shift();)this.#a?.(...e)}return this}pop(){try{for(;this.#r;){const t=this.#c[this.#u];if(this.#D(!0),this.#S(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#w&&this.#f){const t=this.#f;let e;for(;e=t?.shift();)this.#a?.(...e)}}}#D(t){const e=this.#u,i=this.#p[e],o=this.#c[e];return this.#b&&this.#S(o)?o.__abortController.abort(new Error("evicted")):(this.#R||this.#w)&&(this.#R&&this.#o?.(o,i,"evict"),this.#w&&this.#f?.push([o,i,"evict"])),this.#N(e),t&&(this.#p[e]=void 0,this.#c[e]=void 0,this.#g.push(e)),1===this.#r?(this.#u=this.#v=0,this.#g.length=0):this.#u=this.#d[e],this.#l.delete(i),this.#r--,e}has(t,e={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:o}=e,a=this.#l.get(t);if(void 0!==a){const t=this.#c[a];if(this.#S(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#T(a))return i&&this.#P(a),o&&(o.has="hit",this.#E(o,a)),!0;o&&(o.has="stale",this.#E(o,a))}else o&&(o.has="miss");return!1}peek(t,e={}){const{allowStale:i=this.allowStale}=e,o=this.#l.get(t);if(void 0!==o&&(i||!this.#T(o))){const t=this.#c[o];return this.#S(t)?t.__staleWhileFetching:t}}#A(t,e,i,o){const a=void 0===e?void 0:this.#c[e];if(this.#S(a))return a;const n=new s,{signal:r}=i;r?.addEventListener("abort",(()=>n.abort(r.reason)),{signal:n.signal});const l={signal:n.signal,options:i,context:o},cb=(o,a=!1)=>{const{aborted:r}=n.signal,s=i.ignoreFetchAbort&&void 0!==o;if(i.status&&(r&&!a?(i.status.fetchAborted=!0,i.status.fetchError=n.signal.reason,s&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),r&&!s&&!a)return fetchFail(n.signal.reason);const d=c;return this.#c[e]===c&&(void 0===o?d.__staleWhileFetching?this.#c[e]=d.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,o,l.options))),o},fetchFail=o=>{const{aborted:a}=n.signal,r=a&&i.allowStaleOnFetchAbort,s=r||i.allowStaleOnFetchRejection,l=s||i.noDeleteOnFetchRejection,d=c;if(this.#c[e]===c){!l||void 0===d.__staleWhileFetching?this.delete(t):r||(this.#c[e]=d.__staleWhileFetching)}if(s)return i.status&&void 0!==d.__staleWhileFetching&&(i.status.returnedStale=!0),d.__staleWhileFetching;if(d.__returned===d)throw o};i.status&&(i.status.fetchDispatched=!0);const c=new Promise(((e,o)=>{const r=this.#n?.(t,a,l);r&&r instanceof Promise&&r.then((t=>e(void 0===t?void 0:t)),o),n.signal.addEventListener("abort",(()=>{i.ignoreFetchAbort&&!i.allowStaleOnFetchAbort||(e(void 0),i.allowStaleOnFetchAbort&&(e=t=>cb(t,!0)))}))})).then(cb,(t=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=t),fetchFail(t)))),d=Object.assign(c,{__abortController:n,__staleWhileFetching:a,__returned:void 0});return void 0===e?(this.set(t,d,{...l.options,status:void 0}),e=this.#l.get(t)):this.#c[e]=d,d}#S(t){if(!this.#b)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof s}async fetch(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:n=this.ttl,noDisposeOnSet:r=this.noDisposeOnSet,size:s=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:u=this.ignoreFetchAbort,allowStaleOnFetchAbort:v=this.allowStaleOnFetchAbort,context:g,forceRefresh:f=!1,status:y,signal:x}=e;if(!this.#b)return y&&(y.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:o,noDeleteOnStaleGet:a,status:y});const m={allowStale:i,updateAgeOnGet:o,noDeleteOnStaleGet:a,ttl:n,noDisposeOnSet:r,size:s,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:v,ignoreFetchAbort:u,status:y,signal:x};let R=this.#l.get(t);if(void 0===R){y&&(y.fetch="miss");const e=this.#A(t,R,m,g);return e.__returned=e}{const e=this.#c[R];if(this.#S(e)){const t=i&&void 0!==e.__staleWhileFetching;return y&&(y.fetch="inflight",t&&(y.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const a=this.#T(R);if(!f&&!a)return y&&(y.fetch="hit"),this.#C(R),o&&this.#P(R),y&&this.#E(y,R),e;const n=this.#A(t,R,m,g),r=void 0!==n.__staleWhileFetching&&i;return y&&(y.fetch=a?"stale":"refresh",r&&a&&(y.returnedStale=!0)),r?n.__staleWhileFetching:n.__returned=n}}get(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:n}=e,r=this.#l.get(t);if(void 0!==r){const e=this.#c[r],s=this.#S(e);return n&&this.#E(n,r),this.#T(r)?(n&&(n.get="stale"),s?(n&&i&&void 0!==e.__staleWhileFetching&&(n.returnedStale=!0),i?e.__staleWhileFetching:void 0):(a||this.delete(t),n&&i&&(n.returnedStale=!0),i?e:void 0)):(n&&(n.get="hit"),s?e.__staleWhileFetching:(this.#C(r),o&&this.#P(r),e))}n&&(n.get="miss")}#B(t,e){this.#h[e]=t,this.#d[t]=e}#C(t){t!==this.#v&&(t===this.#u?this.#u=this.#d[t]:this.#B(this.#h[t],this.#d[t]),this.#B(this.#v,t),this.#v=t)}delete(t){let e=!1;if(0!==this.#r){const i=this.#l.get(t);if(void 0!==i)if(e=!0,1===this.#r)this.clear();else{this.#N(i);const e=this.#c[i];this.#S(e)?e.__abortController.abort(new Error("deleted")):(this.#R||this.#w)&&(this.#R&&this.#o?.(e,t,"delete"),this.#w&&this.#f?.push([e,t,"delete"])),this.#l.delete(t),this.#p[i]=void 0,this.#c[i]=void 0,i===this.#v?this.#v=this.#h[i]:i===this.#u?this.#u=this.#d[i]:(this.#d[this.#h[i]]=this.#d[i],this.#h[this.#d[i]]=this.#h[i]),this.#r--,this.#g.push(i)}}if(this.#w&&this.#f?.length){const t=this.#f;let e;for(;e=t?.shift();)this.#a?.(...e)}return e}clear(){for(const t of this.#M({allowStale:!0})){const e=this.#c[t];if(this.#S(e))e.__abortController.abort(new Error("deleted"));else{const i=this.#p[t];this.#R&&this.#o?.(e,i,"delete"),this.#w&&this.#f?.push([e,i,"delete"])}}if(this.#l.clear(),this.#c.fill(void 0),this.#p.fill(void 0),this.#m&&this.#x&&(this.#m.fill(0),this.#x.fill(0)),this.#y&&this.#y.fill(0),this.#u=0,this.#v=0,this.#g.length=0,this.#s=0,this.#r=0,this.#w&&this.#f){const t=this.#f;let e;for(;e=t?.shift();)this.#a?.(...e)}}}e.LRUCache=LRUCache}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(i.exports,i,i.exports,__webpack_require__),i.exports}(()=>{__webpack_require__.d=(t,e)=>{for(var i in e)__webpack_require__.o(e,i)&&!__webpack_require__.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}})(),(()=>{__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}()})(),(()=>{__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var o=i.length-1;o>-1&&!t;)t=i[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t})();var __webpack_exports__={};(()=>{"use strict";const t=__webpack_require__(4835);Object.assign(window,{createEngine:t.createEngineBrowser})})()})();
//# sourceMappingURL=bundle.cb9ab857.js.map